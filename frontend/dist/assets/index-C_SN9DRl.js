function Cg(e,n){for(var i=0;i<n.length;i++){const a=n[i];if(typeof a!="string"&&!Array.isArray(a)){for(const u in a)if(u!=="default"&&!(u in e)){const f=Object.getOwnPropertyDescriptor(a,u);f&&Object.defineProperty(e,u,f.get?f:{enumerable:!0,get:()=>a[u]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function i(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(u){if(u.ep)return;u.ep=!0;const f=i(u);fetch(u.href,f)}})();var Cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ag(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $f={exports:{}},Da={},e0={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lo=Symbol.for("react.element"),vg=Symbol.for("react.portal"),Sg=Symbol.for("react.fragment"),Ig=Symbol.for("react.strict_mode"),Tg=Symbol.for("react.profiler"),Ng=Symbol.for("react.provider"),_g=Symbol.for("react.context"),Mg=Symbol.for("react.forward_ref"),Og=Symbol.for("react.suspense"),Rg=Symbol.for("react.memo"),Dg=Symbol.for("react.lazy"),p1=Symbol.iterator;function bg(e){return e===null||typeof e!="object"?null:(e=p1&&e[p1]||e["@@iterator"],typeof e=="function"?e:null)}var t0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n0=Object.assign,r0={};function ns(e,n,i){this.props=e,this.context=n,this.refs=r0,this.updater=i||t0}ns.prototype.isReactComponent={};ns.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};ns.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function i0(){}i0.prototype=ns.prototype;function Xc(e,n,i){this.props=e,this.context=n,this.refs=r0,this.updater=i||t0}var Qc=Xc.prototype=new i0;Qc.constructor=Xc;n0(Qc,ns.prototype);Qc.isPureReactComponent=!0;var x1=Array.isArray,s0=Object.prototype.hasOwnProperty,Zc={current:null},o0={key:!0,ref:!0,__self:!0,__source:!0};function a0(e,n,i){var a,u={},f=null,p=null;if(n!=null)for(a in n.ref!==void 0&&(p=n.ref),n.key!==void 0&&(f=""+n.key),n)s0.call(n,a)&&!o0.hasOwnProperty(a)&&(u[a]=n[a]);var w=arguments.length-2;if(w===1)u.children=i;else if(1<w){for(var m=Array(w),g=0;g<w;g++)m[g]=arguments[g+2];u.children=m}if(e&&e.defaultProps)for(a in w=e.defaultProps,w)u[a]===void 0&&(u[a]=w[a]);return{$$typeof:lo,type:e,key:f,ref:p,props:u,_owner:Zc.current}}function Lg(e,n){return{$$typeof:lo,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function Kc(e){return typeof e=="object"&&e!==null&&e.$$typeof===lo}function kg(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return n[i]})}var m1=/\/+/g;function xl(e,n){return typeof e=="object"&&e!==null&&e.key!=null?kg(""+e.key):n.toString(36)}function Go(e,n,i,a,u){var f=typeof e;(f==="undefined"||f==="boolean")&&(e=null);var p=!1;if(e===null)p=!0;else switch(f){case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case lo:case vg:p=!0}}if(p)return p=e,u=u(p),e=a===""?"."+xl(p,0):a,x1(u)?(i="",e!=null&&(i=e.replace(m1,"$&/")+"/"),Go(u,n,i,"",function(g){return g})):u!=null&&(Kc(u)&&(u=Lg(u,i+(!u.key||p&&p.key===u.key?"":(""+u.key).replace(m1,"$&/")+"/")+e)),n.push(u)),1;if(p=0,a=a===""?".":a+":",x1(e))for(var w=0;w<e.length;w++){f=e[w];var m=a+xl(f,w);p+=Go(f,n,i,m,u)}else if(m=bg(e),typeof m=="function")for(e=m.call(e),w=0;!(f=e.next()).done;)f=f.value,m=a+xl(f,w++),p+=Go(f,n,i,m,u);else if(f==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return p}function _o(e,n,i){if(e==null)return e;var a=[],u=0;return Go(e,a,"","",function(f){return n.call(i,f,u++)}),a}function Pg(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var Yt={current:null},Yo={transition:null},Bg={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:Yo,ReactCurrentOwner:Zc};function l0(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:_o,forEach:function(e,n,i){_o(e,function(){n.apply(this,arguments)},i)},count:function(e){var n=0;return _o(e,function(){n++}),n},toArray:function(e){return _o(e,function(n){return n})||[]},only:function(e){if(!Kc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=ns;Se.Fragment=Sg;Se.Profiler=Tg;Se.PureComponent=Xc;Se.StrictMode=Ig;Se.Suspense=Og;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bg;Se.act=l0;Se.cloneElement=function(e,n,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=n0({},e.props),u=e.key,f=e.ref,p=e._owner;if(n!=null){if(n.ref!==void 0&&(f=n.ref,p=Zc.current),n.key!==void 0&&(u=""+n.key),e.type&&e.type.defaultProps)var w=e.type.defaultProps;for(m in n)s0.call(n,m)&&!o0.hasOwnProperty(m)&&(a[m]=n[m]===void 0&&w!==void 0?w[m]:n[m])}var m=arguments.length-2;if(m===1)a.children=i;else if(1<m){w=Array(m);for(var g=0;g<m;g++)w[g]=arguments[g+2];a.children=w}return{$$typeof:lo,type:e.type,key:u,ref:f,props:a,_owner:p}};Se.createContext=function(e){return e={$$typeof:_g,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ng,_context:e},e.Consumer=e};Se.createElement=a0;Se.createFactory=function(e){var n=a0.bind(null,e);return n.type=e,n};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:Mg,render:e}};Se.isValidElement=Kc;Se.lazy=function(e){return{$$typeof:Dg,_payload:{_status:-1,_result:e},_init:Pg}};Se.memo=function(e,n){return{$$typeof:Rg,type:e,compare:n===void 0?null:n}};Se.startTransition=function(e){var n=Yo.transition;Yo.transition={};try{e()}finally{Yo.transition=n}};Se.unstable_act=l0;Se.useCallback=function(e,n){return Yt.current.useCallback(e,n)};Se.useContext=function(e){return Yt.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return Yt.current.useDeferredValue(e)};Se.useEffect=function(e,n){return Yt.current.useEffect(e,n)};Se.useId=function(){return Yt.current.useId()};Se.useImperativeHandle=function(e,n,i){return Yt.current.useImperativeHandle(e,n,i)};Se.useInsertionEffect=function(e,n){return Yt.current.useInsertionEffect(e,n)};Se.useLayoutEffect=function(e,n){return Yt.current.useLayoutEffect(e,n)};Se.useMemo=function(e,n){return Yt.current.useMemo(e,n)};Se.useReducer=function(e,n,i){return Yt.current.useReducer(e,n,i)};Se.useRef=function(e){return Yt.current.useRef(e)};Se.useState=function(e){return Yt.current.useState(e)};Se.useSyncExternalStore=function(e,n,i){return Yt.current.useSyncExternalStore(e,n,i)};Se.useTransition=function(){return Yt.current.useTransition()};Se.version="18.3.1";e0.exports=Se;var G=e0.exports;const dt=Ag(G),Fg=Cg({__proto__:null,default:dt},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg=G,Ug=Symbol.for("react.element"),zg=Symbol.for("react.fragment"),Vg=Object.prototype.hasOwnProperty,Hg=jg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wg={key:!0,ref:!0,__self:!0,__source:!0};function c0(e,n,i){var a,u={},f=null,p=null;i!==void 0&&(f=""+i),n.key!==void 0&&(f=""+n.key),n.ref!==void 0&&(p=n.ref);for(a in n)Vg.call(n,a)&&!Wg.hasOwnProperty(a)&&(u[a]=n[a]);if(e&&e.defaultProps)for(a in n=e.defaultProps,n)u[a]===void 0&&(u[a]=n[a]);return{$$typeof:Ug,type:e,key:f,ref:p,props:u,_owner:Hg.current}}Da.Fragment=zg;Da.jsx=c0;Da.jsxs=c0;$f.exports=Da;var S=$f.exports,u0={exports:{}},pn={},f0={exports:{}},d0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(re,fe){var pe=re.length;re.push(fe);e:for(;0<pe;){var je=pe-1>>>1,te=re[je];if(0<u(te,fe))re[je]=fe,re[pe]=te,pe=je;else break e}}function i(re){return re.length===0?null:re[0]}function a(re){if(re.length===0)return null;var fe=re[0],pe=re.pop();if(pe!==fe){re[0]=pe;e:for(var je=0,te=re.length,Ke=te>>>1;je<Ke;){var Le=2*(je+1)-1,Un=re[Le],le=Le+1,gr=re[le];if(0>u(Un,pe))le<te&&0>u(gr,Un)?(re[je]=gr,re[le]=pe,je=le):(re[je]=Un,re[Le]=pe,je=Le);else if(le<te&&0>u(gr,pe))re[je]=gr,re[le]=pe,je=le;else break e}}return fe}function u(re,fe){var pe=re.sortIndex-fe.sortIndex;return pe!==0?pe:re.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;e.unstable_now=function(){return f.now()}}else{var p=Date,w=p.now();e.unstable_now=function(){return p.now()-w}}var m=[],g=[],E=1,C=null,T=3,L=!1,k=!1,B=!1,z=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(re){for(var fe=i(g);fe!==null;){if(fe.callback===null)a(g);else if(fe.startTime<=re)a(g),fe.sortIndex=fe.expirationTime,n(m,fe);else break;fe=i(g)}}function P(re){if(B=!1,_(re),!k)if(i(m)!==null)k=!0,Fe(Q);else{var fe=i(g);fe!==null&&ge(P,fe.startTime-re)}}function Q(re,fe){k=!1,B&&(B=!1,R(X),X=-1),L=!0;var pe=T;try{for(_(fe),C=i(m);C!==null&&(!(C.expirationTime>fe)||re&&!we());){var je=C.callback;if(typeof je=="function"){C.callback=null,T=C.priorityLevel;var te=je(C.expirationTime<=fe);fe=e.unstable_now(),typeof te=="function"?C.callback=te:C===i(m)&&a(m),_(fe)}else a(m);C=i(m)}if(C!==null)var Ke=!0;else{var Le=i(g);Le!==null&&ge(P,Le.startTime-fe),Ke=!1}return Ke}finally{C=null,T=pe,L=!1}}var Z=!1,F=null,X=-1,Y=5,ae=-1;function we(){return!(e.unstable_now()-ae<Y)}function ue(){if(F!==null){var re=e.unstable_now();ae=re;var fe=!0;try{fe=F(!0,re)}finally{fe?Ee():(Z=!1,F=null)}}else Z=!1}var Ee;if(typeof O=="function")Ee=function(){O(ue)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,W=be.port2;be.port1.onmessage=ue,Ee=function(){W.postMessage(null)}}else Ee=function(){z(ue,0)};function Fe(re){F=re,Z||(Z=!0,Ee())}function ge(re,fe){X=z(function(){re(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){k||L||(k=!0,Fe(Q))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_getFirstCallbackNode=function(){return i(m)},e.unstable_next=function(re){switch(T){case 1:case 2:case 3:var fe=3;break;default:fe=T}var pe=T;T=fe;try{return re()}finally{T=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,fe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=T;T=re;try{return fe()}finally{T=pe}},e.unstable_scheduleCallback=function(re,fe,pe){var je=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?je+pe:je):pe=je,re){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=pe+te,re={id:E++,callback:fe,priorityLevel:re,startTime:pe,expirationTime:te,sortIndex:-1},pe>je?(re.sortIndex=pe,n(g,re),i(m)===null&&re===i(g)&&(B?(R(X),X=-1):B=!0,ge(P,pe-je))):(re.sortIndex=te,n(m,re),k||L||(k=!0,Fe(Q))),re},e.unstable_shouldYield=we,e.unstable_wrapCallback=function(re){var fe=T;return function(){var pe=T;T=fe;try{return re.apply(this,arguments)}finally{T=pe}}}})(d0);f0.exports=d0;var Gg=f0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg=G,gn=Gg;function J(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h0=new Set,Hs={};function xi(e,n){Zi(e,n),Zi(e+"Capture",n)}function Zi(e,n){for(Hs[e]=n,e=0;e<n.length;e++)h0.add(n[e])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gl=Object.prototype.hasOwnProperty,Xg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w1={},y1={};function Qg(e){return Gl.call(y1,e)?!0:Gl.call(w1,e)?!1:Xg.test(e)?y1[e]=!0:(w1[e]=!0,!1)}function Zg(e,n,i,a){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Kg(e,n,i,a){if(n===null||typeof n>"u"||Zg(e,n,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Xt(e,n,i,a,u,f,p){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=u,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=p}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Lt[e]=new Xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Lt[n]=new Xt(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Lt[e]=new Xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Lt[e]=new Xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Lt[e]=new Xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Lt[e]=new Xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Lt[e]=new Xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Lt[e]=new Xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Lt[e]=new Xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var qc=/[\-:]([a-z])/g;function Jc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(qc,Jc);Lt[n]=new Xt(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(qc,Jc);Lt[n]=new Xt(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(qc,Jc);Lt[n]=new Xt(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Lt[e]=new Xt(e,1,!1,e.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Lt[e]=new Xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function $c(e,n,i,a){var u=Lt.hasOwnProperty(n)?Lt[n]:null;(u!==null?u.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(Kg(n,i,u,a)&&(i=null),a||u===null?Qg(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):u.mustUseProperty?e[u.propertyName]=i===null?u.type===3?!1:"":i:(n=u.attributeName,a=u.attributeNamespace,i===null?e.removeAttribute(n):(u=u.type,i=u===3||u===4&&i===!0?"":""+i,a?e.setAttributeNS(a,n,i):e.setAttribute(n,i))))}var dr=Yg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mo=Symbol.for("react.element"),Mi=Symbol.for("react.portal"),Oi=Symbol.for("react.fragment"),eu=Symbol.for("react.strict_mode"),Yl=Symbol.for("react.profiler"),g0=Symbol.for("react.provider"),p0=Symbol.for("react.context"),tu=Symbol.for("react.forward_ref"),Xl=Symbol.for("react.suspense"),Ql=Symbol.for("react.suspense_list"),nu=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),x0=Symbol.for("react.offscreen"),E1=Symbol.iterator;function As(e){return e===null||typeof e!="object"?null:(e=E1&&e[E1]||e["@@iterator"],typeof e=="function"?e:null)}var it=Object.assign,ml;function Os(e){if(ml===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);ml=n&&n[1]||""}return`
`+ml+e}var wl=!1;function yl(e,n){if(!e||wl)return"";wl=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(g){var a=g}Reflect.construct(e,[],n)}else{try{n.call()}catch(g){a=g}e.call(n.prototype)}else{try{throw Error()}catch(g){a=g}e()}}catch(g){if(g&&a&&typeof g.stack=="string"){for(var u=g.stack.split(`
`),f=a.stack.split(`
`),p=u.length-1,w=f.length-1;1<=p&&0<=w&&u[p]!==f[w];)w--;for(;1<=p&&0<=w;p--,w--)if(u[p]!==f[w]){if(p!==1||w!==1)do if(p--,w--,0>w||u[p]!==f[w]){var m=`
`+u[p].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=p&&0<=w);break}}}finally{wl=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Os(e):""}function qg(e){switch(e.tag){case 5:return Os(e.type);case 16:return Os("Lazy");case 13:return Os("Suspense");case 19:return Os("SuspenseList");case 0:case 2:case 15:return e=yl(e.type,!1),e;case 11:return e=yl(e.type.render,!1),e;case 1:return e=yl(e.type,!0),e;default:return""}}function Zl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Oi:return"Fragment";case Mi:return"Portal";case Yl:return"Profiler";case eu:return"StrictMode";case Xl:return"Suspense";case Ql:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case p0:return(e.displayName||"Context")+".Consumer";case g0:return(e._context.displayName||"Context")+".Provider";case tu:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nu:return n=e.displayName||null,n!==null?n:Zl(e.type)||"Memo";case Sr:n=e._payload,e=e._init;try{return Zl(e(n))}catch{}}return null}function Jg(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zl(n);case 8:return n===eu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Ur(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function m0(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function $g(e){var n=m0(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,f=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Oo(e){e._valueTracker||(e._valueTracker=$g(e))}function w0(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),a="";return e&&(a=m0(e)?e.checked?"true":"false":e.value),e=a,e!==i?(n.setValue(e),!0):!1}function ra(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Kl(e,n){var i=n.checked;return it({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function C1(e,n){var i=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;i=Ur(n.value!=null?n.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function y0(e,n){n=n.checked,n!=null&&$c(e,"checked",n,!1)}function ql(e,n){y0(e,n);var i=Ur(n.value),a=n.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Jl(e,n.type,i):n.hasOwnProperty("defaultValue")&&Jl(e,n.type,Ur(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function A1(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Jl(e,n,i){(n!=="number"||ra(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Rs=Array.isArray;function Hi(e,n,i,a){if(e=e.options,n){n={};for(var u=0;u<i.length;u++)n["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=n.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Ur(i),n=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function $l(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(J(91));return it({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function v1(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(J(92));if(Rs(i)){if(1<i.length)throw Error(J(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:Ur(i)}}function E0(e,n){var i=Ur(n.value),a=Ur(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function S1(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function C0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ec(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?C0(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ro,A0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,a,u){MSApp.execUnsafeLocalFunction(function(){return e(n,i,a,u)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Ro=Ro||document.createElement("div"),Ro.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ro.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Ws(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},e2=["Webkit","ms","Moz","O"];Object.keys(Ls).forEach(function(e){e2.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Ls[n]=Ls[e]})});function v0(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Ls.hasOwnProperty(e)&&Ls[e]?(""+n).trim():n+"px"}function S0(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var a=i.indexOf("--")===0,u=v0(i,n[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,u):e[i]=u}}var t2=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tc(e,n){if(n){if(t2[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(J(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(J(61))}if(n.style!=null&&typeof n.style!="object")throw Error(J(62))}}function nc(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rc=null;function ru(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ic=null,Wi=null,Gi=null;function I1(e){if(e=fo(e)){if(typeof ic!="function")throw Error(J(280));var n=e.stateNode;n&&(n=Ba(n),ic(e.stateNode,e.type,n))}}function I0(e){Wi?Gi?Gi.push(e):Gi=[e]:Wi=e}function T0(){if(Wi){var e=Wi,n=Gi;if(Gi=Wi=null,I1(e),n)for(e=0;e<n.length;e++)I1(n[e])}}function N0(e,n){return e(n)}function _0(){}var El=!1;function M0(e,n,i){if(El)return e(n,i);El=!0;try{return N0(e,n,i)}finally{El=!1,(Wi!==null||Gi!==null)&&(_0(),T0())}}function Gs(e,n){var i=e.stateNode;if(i===null)return null;var a=Ba(i);if(a===null)return null;i=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(J(231,n,typeof i));return i}var sc=!1;if(ar)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){sc=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{sc=!1}function n2(e,n,i,a,u,f,p,w,m){var g=Array.prototype.slice.call(arguments,3);try{n.apply(i,g)}catch(E){this.onError(E)}}var ks=!1,ia=null,sa=!1,oc=null,r2={onError:function(e){ks=!0,ia=e}};function i2(e,n,i,a,u,f,p,w,m){ks=!1,ia=null,n2.apply(r2,arguments)}function s2(e,n,i,a,u,f,p,w,m){if(i2.apply(this,arguments),ks){if(ks){var g=ia;ks=!1,ia=null}else throw Error(J(198));sa||(sa=!0,oc=g)}}function mi(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function O0(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function T1(e){if(mi(e)!==e)throw Error(J(188))}function o2(e){var n=e.alternate;if(!n){if(n=mi(e),n===null)throw Error(J(188));return n!==e?null:e}for(var i=e,a=n;;){var u=i.return;if(u===null)break;var f=u.alternate;if(f===null){if(a=u.return,a!==null){i=a;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===i)return T1(u),e;if(f===a)return T1(u),n;f=f.sibling}throw Error(J(188))}if(i.return!==a.return)i=u,a=f;else{for(var p=!1,w=u.child;w;){if(w===i){p=!0,i=u,a=f;break}if(w===a){p=!0,a=u,i=f;break}w=w.sibling}if(!p){for(w=f.child;w;){if(w===i){p=!0,i=f,a=u;break}if(w===a){p=!0,a=f,i=u;break}w=w.sibling}if(!p)throw Error(J(189))}}if(i.alternate!==a)throw Error(J(190))}if(i.tag!==3)throw Error(J(188));return i.stateNode.current===i?e:n}function R0(e){return e=o2(e),e!==null?D0(e):null}function D0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=D0(e);if(n!==null)return n;e=e.sibling}return null}var b0=gn.unstable_scheduleCallback,N1=gn.unstable_cancelCallback,a2=gn.unstable_shouldYield,l2=gn.unstable_requestPaint,ht=gn.unstable_now,c2=gn.unstable_getCurrentPriorityLevel,iu=gn.unstable_ImmediatePriority,L0=gn.unstable_UserBlockingPriority,oa=gn.unstable_NormalPriority,u2=gn.unstable_LowPriority,k0=gn.unstable_IdlePriority,ba=null,Jn=null;function f2(e){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(ba,e,void 0,(e.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:g2,d2=Math.log,h2=Math.LN2;function g2(e){return e>>>=0,e===0?32:31-(d2(e)/h2|0)|0}var Do=64,bo=4194304;function Ds(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function aa(e,n){var i=e.pendingLanes;if(i===0)return 0;var a=0,u=e.suspendedLanes,f=e.pingedLanes,p=i&268435455;if(p!==0){var w=p&~u;w!==0?a=Ds(w):(f&=p,f!==0&&(a=Ds(f)))}else p=i&~u,p!==0?a=Ds(p):f!==0&&(a=Ds(f));if(a===0)return 0;if(n!==0&&n!==a&&!(n&u)&&(u=a&-a,f=n&-n,u>=f||u===16&&(f&4194240)!==0))return n;if(a&4&&(a|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)i=31-Bn(n),u=1<<i,a|=e[i],n&=~u;return a}function p2(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x2(e,n){for(var i=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes;0<f;){var p=31-Bn(f),w=1<<p,m=u[p];m===-1?(!(w&i)||w&a)&&(u[p]=p2(w,n)):m<=n&&(e.expiredLanes|=w),f&=~w}}function ac(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function P0(){var e=Do;return Do<<=1,!(Do&4194240)&&(Do=64),e}function Cl(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function co(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Bn(n),e[n]=i}function m2(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var u=31-Bn(i),f=1<<u;n[u]=0,a[u]=-1,e[u]=-1,i&=~f}}function su(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var a=31-Bn(i),u=1<<a;u&n|e[a]&n&&(e[a]|=n),i&=~u}}var Be=0;function B0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var F0,ou,j0,U0,z0,lc=!1,Lo=[],Rr=null,Dr=null,br=null,Ys=new Map,Xs=new Map,Tr=[],w2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _1(e,n){switch(e){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":Ys.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xs.delete(n.pointerId)}}function Ss(e,n,i,a,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:i,eventSystemFlags:a,nativeEvent:f,targetContainers:[u]},n!==null&&(n=fo(n),n!==null&&ou(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function y2(e,n,i,a,u){switch(n){case"focusin":return Rr=Ss(Rr,e,n,i,a,u),!0;case"dragenter":return Dr=Ss(Dr,e,n,i,a,u),!0;case"mouseover":return br=Ss(br,e,n,i,a,u),!0;case"pointerover":var f=u.pointerId;return Ys.set(f,Ss(Ys.get(f)||null,e,n,i,a,u)),!0;case"gotpointercapture":return f=u.pointerId,Xs.set(f,Ss(Xs.get(f)||null,e,n,i,a,u)),!0}return!1}function V0(e){var n=ri(e.target);if(n!==null){var i=mi(n);if(i!==null){if(n=i.tag,n===13){if(n=O0(i),n!==null){e.blockedOn=n,z0(e.priority,function(){j0(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=cc(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);rc=a,i.target.dispatchEvent(a),rc=null}else return n=fo(i),n!==null&&ou(n),e.blockedOn=i,!1;n.shift()}return!0}function M1(e,n,i){Xo(e)&&i.delete(n)}function E2(){lc=!1,Rr!==null&&Xo(Rr)&&(Rr=null),Dr!==null&&Xo(Dr)&&(Dr=null),br!==null&&Xo(br)&&(br=null),Ys.forEach(M1),Xs.forEach(M1)}function Is(e,n){e.blockedOn===n&&(e.blockedOn=null,lc||(lc=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,E2)))}function Qs(e){function n(u){return Is(u,e)}if(0<Lo.length){Is(Lo[0],e);for(var i=1;i<Lo.length;i++){var a=Lo[i];a.blockedOn===e&&(a.blockedOn=null)}}for(Rr!==null&&Is(Rr,e),Dr!==null&&Is(Dr,e),br!==null&&Is(br,e),Ys.forEach(n),Xs.forEach(n),i=0;i<Tr.length;i++)a=Tr[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<Tr.length&&(i=Tr[0],i.blockedOn===null);)V0(i),i.blockedOn===null&&Tr.shift()}var Yi=dr.ReactCurrentBatchConfig,la=!0;function C2(e,n,i,a){var u=Be,f=Yi.transition;Yi.transition=null;try{Be=1,au(e,n,i,a)}finally{Be=u,Yi.transition=f}}function A2(e,n,i,a){var u=Be,f=Yi.transition;Yi.transition=null;try{Be=4,au(e,n,i,a)}finally{Be=u,Yi.transition=f}}function au(e,n,i,a){if(la){var u=cc(e,n,i,a);if(u===null)Rl(e,n,a,ca,i),_1(e,a);else if(y2(u,e,n,i,a))a.stopPropagation();else if(_1(e,a),n&4&&-1<w2.indexOf(e)){for(;u!==null;){var f=fo(u);if(f!==null&&F0(f),f=cc(e,n,i,a),f===null&&Rl(e,n,a,ca,i),f===u)break;u=f}u!==null&&a.stopPropagation()}else Rl(e,n,a,null,i)}}var ca=null;function cc(e,n,i,a){if(ca=null,e=ru(a),e=ri(e),e!==null)if(n=mi(e),n===null)e=null;else if(i=n.tag,i===13){if(e=O0(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ca=e,null}function H0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c2()){case iu:return 1;case L0:return 4;case oa:case u2:return 16;case k0:return 536870912;default:return 16}default:return 16}}var _r=null,lu=null,Qo=null;function W0(){if(Qo)return Qo;var e,n=lu,i=n.length,a,u="value"in _r?_r.value:_r.textContent,f=u.length;for(e=0;e<i&&n[e]===u[e];e++);var p=i-e;for(a=1;a<=p&&n[i-a]===u[f-a];a++);return Qo=u.slice(e,1<a?1-a:void 0)}function Zo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ko(){return!0}function O1(){return!1}function xn(e){function n(i,a,u,f,p){this._reactName=i,this._targetInst=u,this.type=a,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ko:O1,this.isPropagationStopped=O1,this}return it(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ko)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ko)},persist:function(){},isPersistent:ko}),n}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cu=xn(rs),uo=it({},rs,{view:0,detail:0}),v2=xn(uo),Al,vl,Ts,La=it({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ts&&(Ts&&e.type==="mousemove"?(Al=e.screenX-Ts.screenX,vl=e.screenY-Ts.screenY):vl=Al=0,Ts=e),Al)},movementY:function(e){return"movementY"in e?e.movementY:vl}}),R1=xn(La),S2=it({},La,{dataTransfer:0}),I2=xn(S2),T2=it({},uo,{relatedTarget:0}),Sl=xn(T2),N2=it({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),_2=xn(N2),M2=it({},rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),O2=xn(M2),R2=it({},rs,{data:0}),D1=xn(R2),D2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k2(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=L2[e])?!!n[e]:!1}function uu(){return k2}var P2=it({},uo,{key:function(e){if(e.key){var n=D2[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Zo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?b2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uu,charCode:function(e){return e.type==="keypress"?Zo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),B2=xn(P2),F2=it({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b1=xn(F2),j2=it({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uu}),U2=xn(j2),z2=it({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),V2=xn(z2),H2=it({},La,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),W2=xn(H2),G2=[9,13,27,32],fu=ar&&"CompositionEvent"in window,Ps=null;ar&&"documentMode"in document&&(Ps=document.documentMode);var Y2=ar&&"TextEvent"in window&&!Ps,G0=ar&&(!fu||Ps&&8<Ps&&11>=Ps),L1=" ",k1=!1;function Y0(e,n){switch(e){case"keyup":return G2.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ri=!1;function X2(e,n){switch(e){case"compositionend":return X0(n);case"keypress":return n.which!==32?null:(k1=!0,L1);case"textInput":return e=n.data,e===L1&&k1?null:e;default:return null}}function Q2(e,n){if(Ri)return e==="compositionend"||!fu&&Y0(e,n)?(e=W0(),Qo=lu=_r=null,Ri=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return G0&&n.locale!=="ko"?null:n.data;default:return null}}var Z2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P1(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Z2[e.type]:n==="textarea"}function Q0(e,n,i,a){I0(a),n=ua(n,"onChange"),0<n.length&&(i=new cu("onChange","change",null,i,a),e.push({event:i,listeners:n}))}var Bs=null,Zs=null;function K2(e){sd(e,0)}function ka(e){var n=Li(e);if(w0(n))return e}function q2(e,n){if(e==="change")return n}var Z0=!1;if(ar){var Il;if(ar){var Tl="oninput"in document;if(!Tl){var B1=document.createElement("div");B1.setAttribute("oninput","return;"),Tl=typeof B1.oninput=="function"}Il=Tl}else Il=!1;Z0=Il&&(!document.documentMode||9<document.documentMode)}function F1(){Bs&&(Bs.detachEvent("onpropertychange",K0),Zs=Bs=null)}function K0(e){if(e.propertyName==="value"&&ka(Zs)){var n=[];Q0(n,Zs,e,ru(e)),M0(K2,n)}}function J2(e,n,i){e==="focusin"?(F1(),Bs=n,Zs=i,Bs.attachEvent("onpropertychange",K0)):e==="focusout"&&F1()}function $2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ka(Zs)}function ep(e,n){if(e==="click")return ka(n)}function tp(e,n){if(e==="input"||e==="change")return ka(n)}function np(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var jn=typeof Object.is=="function"?Object.is:np;function Ks(e,n){if(jn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),a=Object.keys(n);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var u=i[a];if(!Gl.call(n,u)||!jn(e[u],n[u]))return!1}return!0}function j1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function U1(e,n){var i=j1(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=n&&a>=n)return{node:i,offset:n-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=j1(i)}}function q0(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?q0(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function J0(){for(var e=window,n=ra();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=ra(e.document)}return n}function du(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function rp(e){var n=J0(),i=e.focusedElem,a=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&q0(i.ownerDocument.documentElement,i)){if(a!==null&&du(i)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=i.textContent.length,f=Math.min(a.start,u);a=a.end===void 0?f:Math.min(a.end,u),!e.extend&&f>a&&(u=a,a=f,f=u),u=U1(i,f);var p=U1(i,a);u&&p&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),f>a?(e.addRange(n),e.extend(p.node,p.offset)):(n.setEnd(p.node,p.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ip=ar&&"documentMode"in document&&11>=document.documentMode,Di=null,uc=null,Fs=null,fc=!1;function z1(e,n,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;fc||Di==null||Di!==ra(a)||(a=Di,"selectionStart"in a&&du(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Fs&&Ks(Fs,a)||(Fs=a,a=ua(uc,"onSelect"),0<a.length&&(n=new cu("onSelect","select",null,n,i),e.push({event:n,listeners:a}),n.target=Di)))}function Po(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var bi={animationend:Po("Animation","AnimationEnd"),animationiteration:Po("Animation","AnimationIteration"),animationstart:Po("Animation","AnimationStart"),transitionend:Po("Transition","TransitionEnd")},Nl={},$0={};ar&&($0=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);function Pa(e){if(Nl[e])return Nl[e];if(!bi[e])return e;var n=bi[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in $0)return Nl[e]=n[i];return e}var ed=Pa("animationend"),td=Pa("animationiteration"),nd=Pa("animationstart"),rd=Pa("transitionend"),id=new Map,V1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(e,n){id.set(e,n),xi(n,[e])}for(var _l=0;_l<V1.length;_l++){var Ml=V1[_l],sp=Ml.toLowerCase(),op=Ml[0].toUpperCase()+Ml.slice(1);Wr(sp,"on"+op)}Wr(ed,"onAnimationEnd");Wr(td,"onAnimationIteration");Wr(nd,"onAnimationStart");Wr("dblclick","onDoubleClick");Wr("focusin","onFocus");Wr("focusout","onBlur");Wr(rd,"onTransitionEnd");Zi("onMouseEnter",["mouseout","mouseover"]);Zi("onMouseLeave",["mouseout","mouseover"]);Zi("onPointerEnter",["pointerout","pointerover"]);Zi("onPointerLeave",["pointerout","pointerover"]);xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ap=new Set("cancel close invalid load scroll toggle".split(" ").concat(bs));function H1(e,n,i){var a=e.type||"unknown-event";e.currentTarget=i,s2(a,n,void 0,e),e.currentTarget=null}function sd(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],u=a.event;a=a.listeners;e:{var f=void 0;if(n)for(var p=a.length-1;0<=p;p--){var w=a[p],m=w.instance,g=w.currentTarget;if(w=w.listener,m!==f&&u.isPropagationStopped())break e;H1(u,w,g),f=m}else for(p=0;p<a.length;p++){if(w=a[p],m=w.instance,g=w.currentTarget,w=w.listener,m!==f&&u.isPropagationStopped())break e;H1(u,w,g),f=m}}}if(sa)throw e=oc,sa=!1,oc=null,e}function Qe(e,n){var i=n[xc];i===void 0&&(i=n[xc]=new Set);var a=e+"__bubble";i.has(a)||(od(n,e,2,!1),i.add(a))}function Ol(e,n,i){var a=0;n&&(a|=4),od(i,e,a,n)}var Bo="_reactListening"+Math.random().toString(36).slice(2);function qs(e){if(!e[Bo]){e[Bo]=!0,h0.forEach(function(i){i!=="selectionchange"&&(ap.has(i)||Ol(i,!1,e),Ol(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Bo]||(n[Bo]=!0,Ol("selectionchange",!1,n))}}function od(e,n,i,a){switch(H0(n)){case 1:var u=C2;break;case 4:u=A2;break;default:u=au}i=u.bind(null,n,i,e),u=void 0,!sc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(n,i,{capture:!0,passive:u}):e.addEventListener(n,i,!0):u!==void 0?e.addEventListener(n,i,{passive:u}):e.addEventListener(n,i,!1)}function Rl(e,n,i,a,u){var f=a;if(!(n&1)&&!(n&2)&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var w=a.stateNode.containerInfo;if(w===u||w.nodeType===8&&w.parentNode===u)break;if(p===4)for(p=a.return;p!==null;){var m=p.tag;if((m===3||m===4)&&(m=p.stateNode.containerInfo,m===u||m.nodeType===8&&m.parentNode===u))return;p=p.return}for(;w!==null;){if(p=ri(w),p===null)return;if(m=p.tag,m===5||m===6){a=f=p;continue e}w=w.parentNode}}a=a.return}M0(function(){var g=f,E=ru(i),C=[];e:{var T=id.get(e);if(T!==void 0){var L=cu,k=e;switch(e){case"keypress":if(Zo(i)===0)break e;case"keydown":case"keyup":L=B2;break;case"focusin":k="focus",L=Sl;break;case"focusout":k="blur",L=Sl;break;case"beforeblur":case"afterblur":L=Sl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=R1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=I2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=U2;break;case ed:case td:case nd:L=_2;break;case rd:L=V2;break;case"scroll":L=v2;break;case"wheel":L=W2;break;case"copy":case"cut":case"paste":L=O2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=b1}var B=(n&4)!==0,z=!B&&e==="scroll",R=B?T!==null?T+"Capture":null:T;B=[];for(var O=g,_;O!==null;){_=O;var P=_.stateNode;if(_.tag===5&&P!==null&&(_=P,R!==null&&(P=Gs(O,R),P!=null&&B.push(Js(O,P,_)))),z)break;O=O.return}0<B.length&&(T=new L(T,k,null,i,E),C.push({event:T,listeners:B}))}}if(!(n&7)){e:{if(T=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",T&&i!==rc&&(k=i.relatedTarget||i.fromElement)&&(ri(k)||k[lr]))break e;if((L||T)&&(T=E.window===E?E:(T=E.ownerDocument)?T.defaultView||T.parentWindow:window,L?(k=i.relatedTarget||i.toElement,L=g,k=k?ri(k):null,k!==null&&(z=mi(k),k!==z||k.tag!==5&&k.tag!==6)&&(k=null)):(L=null,k=g),L!==k)){if(B=R1,P="onMouseLeave",R="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(B=b1,P="onPointerLeave",R="onPointerEnter",O="pointer"),z=L==null?T:Li(L),_=k==null?T:Li(k),T=new B(P,O+"leave",L,i,E),T.target=z,T.relatedTarget=_,P=null,ri(E)===g&&(B=new B(R,O+"enter",k,i,E),B.target=_,B.relatedTarget=z,P=B),z=P,L&&k)t:{for(B=L,R=k,O=0,_=B;_;_=_i(_))O++;for(_=0,P=R;P;P=_i(P))_++;for(;0<O-_;)B=_i(B),O--;for(;0<_-O;)R=_i(R),_--;for(;O--;){if(B===R||R!==null&&B===R.alternate)break t;B=_i(B),R=_i(R)}B=null}else B=null;L!==null&&W1(C,T,L,B,!1),k!==null&&z!==null&&W1(C,z,k,B,!0)}}e:{if(T=g?Li(g):window,L=T.nodeName&&T.nodeName.toLowerCase(),L==="select"||L==="input"&&T.type==="file")var Q=q2;else if(P1(T))if(Z0)Q=tp;else{Q=$2;var Z=J2}else(L=T.nodeName)&&L.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(Q=ep);if(Q&&(Q=Q(e,g))){Q0(C,Q,i,E);break e}Z&&Z(e,T,g),e==="focusout"&&(Z=T._wrapperState)&&Z.controlled&&T.type==="number"&&Jl(T,"number",T.value)}switch(Z=g?Li(g):window,e){case"focusin":(P1(Z)||Z.contentEditable==="true")&&(Di=Z,uc=g,Fs=null);break;case"focusout":Fs=uc=Di=null;break;case"mousedown":fc=!0;break;case"contextmenu":case"mouseup":case"dragend":fc=!1,z1(C,i,E);break;case"selectionchange":if(ip)break;case"keydown":case"keyup":z1(C,i,E)}var F;if(fu)e:{switch(e){case"compositionstart":var X="onCompositionStart";break e;case"compositionend":X="onCompositionEnd";break e;case"compositionupdate":X="onCompositionUpdate";break e}X=void 0}else Ri?Y0(e,i)&&(X="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(X="onCompositionStart");X&&(G0&&i.locale!=="ko"&&(Ri||X!=="onCompositionStart"?X==="onCompositionEnd"&&Ri&&(F=W0()):(_r=E,lu="value"in _r?_r.value:_r.textContent,Ri=!0)),Z=ua(g,X),0<Z.length&&(X=new D1(X,e,null,i,E),C.push({event:X,listeners:Z}),F?X.data=F:(F=X0(i),F!==null&&(X.data=F)))),(F=Y2?X2(e,i):Q2(e,i))&&(g=ua(g,"onBeforeInput"),0<g.length&&(E=new D1("onBeforeInput","beforeinput",null,i,E),C.push({event:E,listeners:g}),E.data=F))}sd(C,n)})}function Js(e,n,i){return{instance:e,listener:n,currentTarget:i}}function ua(e,n){for(var i=n+"Capture",a=[];e!==null;){var u=e,f=u.stateNode;u.tag===5&&f!==null&&(u=f,f=Gs(e,i),f!=null&&a.unshift(Js(e,f,u)),f=Gs(e,n),f!=null&&a.push(Js(e,f,u))),e=e.return}return a}function _i(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function W1(e,n,i,a,u){for(var f=n._reactName,p=[];i!==null&&i!==a;){var w=i,m=w.alternate,g=w.stateNode;if(m!==null&&m===a)break;w.tag===5&&g!==null&&(w=g,u?(m=Gs(i,f),m!=null&&p.unshift(Js(i,m,w))):u||(m=Gs(i,f),m!=null&&p.push(Js(i,m,w)))),i=i.return}p.length!==0&&e.push({event:n,listeners:p})}var lp=/\r\n?/g,cp=/\u0000|\uFFFD/g;function G1(e){return(typeof e=="string"?e:""+e).replace(lp,`
`).replace(cp,"")}function Fo(e,n,i){if(n=G1(n),G1(e)!==n&&i)throw Error(J(425))}function fa(){}var dc=null,hc=null;function gc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pc=typeof setTimeout=="function"?setTimeout:void 0,up=typeof clearTimeout=="function"?clearTimeout:void 0,Y1=typeof Promise=="function"?Promise:void 0,fp=typeof queueMicrotask=="function"?queueMicrotask:typeof Y1<"u"?function(e){return Y1.resolve(null).then(e).catch(dp)}:pc;function dp(e){setTimeout(function(){throw e})}function Dl(e,n){var i=n,a=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"){if(a===0){e.removeChild(u),Qs(n);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=u}while(i);Qs(n)}function Lr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function X1(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var is=Math.random().toString(36).slice(2),qn="__reactFiber$"+is,$s="__reactProps$"+is,lr="__reactContainer$"+is,xc="__reactEvents$"+is,hp="__reactListeners$"+is,gp="__reactHandles$"+is;function ri(e){var n=e[qn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[lr]||i[qn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=X1(e);e!==null;){if(i=e[qn])return i;e=X1(e)}return n}e=i,i=e.parentNode}return null}function fo(e){return e=e[qn]||e[lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Li(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function Ba(e){return e[$s]||null}var mc=[],ki=-1;function Gr(e){return{current:e}}function Ze(e){0>ki||(e.current=mc[ki],mc[ki]=null,ki--)}function Ye(e,n){ki++,mc[ki]=e.current,e.current=n}var zr={},Ut=Gr(zr),nn=Gr(!1),li=zr;function Ki(e,n){var i=e.type.contextTypes;if(!i)return zr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var u={},f;for(f in i)u[f]=n[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function rn(e){return e=e.childContextTypes,e!=null}function da(){Ze(nn),Ze(Ut)}function Q1(e,n,i){if(Ut.current!==zr)throw Error(J(168));Ye(Ut,n),Ye(nn,i)}function ad(e,n,i){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var u in a)if(!(u in n))throw Error(J(108,Jg(e)||"Unknown",u));return it({},i,a)}function ha(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zr,li=Ut.current,Ye(Ut,e),Ye(nn,nn.current),!0}function Z1(e,n,i){var a=e.stateNode;if(!a)throw Error(J(169));i?(e=ad(e,n,li),a.__reactInternalMemoizedMergedChildContext=e,Ze(nn),Ze(Ut),Ye(Ut,e)):Ze(nn),Ye(nn,i)}var nr=null,Fa=!1,bl=!1;function ld(e){nr===null?nr=[e]:nr.push(e)}function pp(e){Fa=!0,ld(e)}function Yr(){if(!bl&&nr!==null){bl=!0;var e=0,n=Be;try{var i=nr;for(Be=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}nr=null,Fa=!1}catch(u){throw nr!==null&&(nr=nr.slice(e+1)),b0(iu,Yr),u}finally{Be=n,bl=!1}}return null}var Pi=[],Bi=0,ga=null,pa=0,Cn=[],An=0,ci=null,rr=1,ir="";function ti(e,n){Pi[Bi++]=pa,Pi[Bi++]=ga,ga=e,pa=n}function cd(e,n,i){Cn[An++]=rr,Cn[An++]=ir,Cn[An++]=ci,ci=e;var a=rr;e=ir;var u=32-Bn(a)-1;a&=~(1<<u),i+=1;var f=32-Bn(n)+u;if(30<f){var p=u-u%5;f=(a&(1<<p)-1).toString(32),a>>=p,u-=p,rr=1<<32-Bn(n)+u|i<<u|a,ir=f+e}else rr=1<<f|i<<u|a,ir=e}function hu(e){e.return!==null&&(ti(e,1),cd(e,1,0))}function gu(e){for(;e===ga;)ga=Pi[--Bi],Pi[Bi]=null,pa=Pi[--Bi],Pi[Bi]=null;for(;e===ci;)ci=Cn[--An],Cn[An]=null,ir=Cn[--An],Cn[An]=null,rr=Cn[--An],Cn[An]=null}var dn=null,fn=null,Je=!1,Pn=null;function ud(e,n){var i=Sn(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function K1(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,dn=e,fn=Lr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,dn=e,fn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=ci!==null?{id:rr,overflow:ir}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=Sn(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,dn=e,fn=null,!0):!1;default:return!1}}function wc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yc(e){if(Je){var n=fn;if(n){var i=n;if(!K1(e,n)){if(wc(e))throw Error(J(418));n=Lr(i.nextSibling);var a=dn;n&&K1(e,n)?ud(a,i):(e.flags=e.flags&-4097|2,Je=!1,dn=e)}}else{if(wc(e))throw Error(J(418));e.flags=e.flags&-4097|2,Je=!1,dn=e}}}function q1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dn=e}function jo(e){if(e!==dn)return!1;if(!Je)return q1(e),Je=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!gc(e.type,e.memoizedProps)),n&&(n=fn)){if(wc(e))throw fd(),Error(J(418));for(;n;)ud(e,n),n=Lr(n.nextSibling)}if(q1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){fn=Lr(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}fn=null}}else fn=dn?Lr(e.stateNode.nextSibling):null;return!0}function fd(){for(var e=fn;e;)e=Lr(e.nextSibling)}function qi(){fn=dn=null,Je=!1}function pu(e){Pn===null?Pn=[e]:Pn.push(e)}var xp=dr.ReactCurrentBatchConfig;function Ns(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(J(309));var a=i.stateNode}if(!a)throw Error(J(147,e));var u=a,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(p){var w=u.refs;p===null?delete w[f]:w[f]=p},n._stringRef=f,n)}if(typeof e!="string")throw Error(J(284));if(!i._owner)throw Error(J(290,e))}return e}function Uo(e,n){throw e=Object.prototype.toString.call(n),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function J1(e){var n=e._init;return n(e._payload)}function dd(e){function n(R,O){if(e){var _=R.deletions;_===null?(R.deletions=[O],R.flags|=16):_.push(O)}}function i(R,O){if(!e)return null;for(;O!==null;)n(R,O),O=O.sibling;return null}function a(R,O){for(R=new Map;O!==null;)O.key!==null?R.set(O.key,O):R.set(O.index,O),O=O.sibling;return R}function u(R,O){return R=Fr(R,O),R.index=0,R.sibling=null,R}function f(R,O,_){return R.index=_,e?(_=R.alternate,_!==null?(_=_.index,_<O?(R.flags|=2,O):_):(R.flags|=2,O)):(R.flags|=1048576,O)}function p(R){return e&&R.alternate===null&&(R.flags|=2),R}function w(R,O,_,P){return O===null||O.tag!==6?(O=Ul(_,R.mode,P),O.return=R,O):(O=u(O,_),O.return=R,O)}function m(R,O,_,P){var Q=_.type;return Q===Oi?E(R,O,_.props.children,P,_.key):O!==null&&(O.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Sr&&J1(Q)===O.type)?(P=u(O,_.props),P.ref=Ns(R,O,_),P.return=R,P):(P=na(_.type,_.key,_.props,null,R.mode,P),P.ref=Ns(R,O,_),P.return=R,P)}function g(R,O,_,P){return O===null||O.tag!==4||O.stateNode.containerInfo!==_.containerInfo||O.stateNode.implementation!==_.implementation?(O=zl(_,R.mode,P),O.return=R,O):(O=u(O,_.children||[]),O.return=R,O)}function E(R,O,_,P,Q){return O===null||O.tag!==7?(O=ai(_,R.mode,P,Q),O.return=R,O):(O=u(O,_),O.return=R,O)}function C(R,O,_){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Ul(""+O,R.mode,_),O.return=R,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Mo:return _=na(O.type,O.key,O.props,null,R.mode,_),_.ref=Ns(R,null,O),_.return=R,_;case Mi:return O=zl(O,R.mode,_),O.return=R,O;case Sr:var P=O._init;return C(R,P(O._payload),_)}if(Rs(O)||As(O))return O=ai(O,R.mode,_,null),O.return=R,O;Uo(R,O)}return null}function T(R,O,_,P){var Q=O!==null?O.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return Q!==null?null:w(R,O,""+_,P);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Mo:return _.key===Q?m(R,O,_,P):null;case Mi:return _.key===Q?g(R,O,_,P):null;case Sr:return Q=_._init,T(R,O,Q(_._payload),P)}if(Rs(_)||As(_))return Q!==null?null:E(R,O,_,P,null);Uo(R,_)}return null}function L(R,O,_,P,Q){if(typeof P=="string"&&P!==""||typeof P=="number")return R=R.get(_)||null,w(O,R,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Mo:return R=R.get(P.key===null?_:P.key)||null,m(O,R,P,Q);case Mi:return R=R.get(P.key===null?_:P.key)||null,g(O,R,P,Q);case Sr:var Z=P._init;return L(R,O,_,Z(P._payload),Q)}if(Rs(P)||As(P))return R=R.get(_)||null,E(O,R,P,Q,null);Uo(O,P)}return null}function k(R,O,_,P){for(var Q=null,Z=null,F=O,X=O=0,Y=null;F!==null&&X<_.length;X++){F.index>X?(Y=F,F=null):Y=F.sibling;var ae=T(R,F,_[X],P);if(ae===null){F===null&&(F=Y);break}e&&F&&ae.alternate===null&&n(R,F),O=f(ae,O,X),Z===null?Q=ae:Z.sibling=ae,Z=ae,F=Y}if(X===_.length)return i(R,F),Je&&ti(R,X),Q;if(F===null){for(;X<_.length;X++)F=C(R,_[X],P),F!==null&&(O=f(F,O,X),Z===null?Q=F:Z.sibling=F,Z=F);return Je&&ti(R,X),Q}for(F=a(R,F);X<_.length;X++)Y=L(F,R,X,_[X],P),Y!==null&&(e&&Y.alternate!==null&&F.delete(Y.key===null?X:Y.key),O=f(Y,O,X),Z===null?Q=Y:Z.sibling=Y,Z=Y);return e&&F.forEach(function(we){return n(R,we)}),Je&&ti(R,X),Q}function B(R,O,_,P){var Q=As(_);if(typeof Q!="function")throw Error(J(150));if(_=Q.call(_),_==null)throw Error(J(151));for(var Z=Q=null,F=O,X=O=0,Y=null,ae=_.next();F!==null&&!ae.done;X++,ae=_.next()){F.index>X?(Y=F,F=null):Y=F.sibling;var we=T(R,F,ae.value,P);if(we===null){F===null&&(F=Y);break}e&&F&&we.alternate===null&&n(R,F),O=f(we,O,X),Z===null?Q=we:Z.sibling=we,Z=we,F=Y}if(ae.done)return i(R,F),Je&&ti(R,X),Q;if(F===null){for(;!ae.done;X++,ae=_.next())ae=C(R,ae.value,P),ae!==null&&(O=f(ae,O,X),Z===null?Q=ae:Z.sibling=ae,Z=ae);return Je&&ti(R,X),Q}for(F=a(R,F);!ae.done;X++,ae=_.next())ae=L(F,R,X,ae.value,P),ae!==null&&(e&&ae.alternate!==null&&F.delete(ae.key===null?X:ae.key),O=f(ae,O,X),Z===null?Q=ae:Z.sibling=ae,Z=ae);return e&&F.forEach(function(ue){return n(R,ue)}),Je&&ti(R,X),Q}function z(R,O,_,P){if(typeof _=="object"&&_!==null&&_.type===Oi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Mo:e:{for(var Q=_.key,Z=O;Z!==null;){if(Z.key===Q){if(Q=_.type,Q===Oi){if(Z.tag===7){i(R,Z.sibling),O=u(Z,_.props.children),O.return=R,R=O;break e}}else if(Z.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Sr&&J1(Q)===Z.type){i(R,Z.sibling),O=u(Z,_.props),O.ref=Ns(R,Z,_),O.return=R,R=O;break e}i(R,Z);break}else n(R,Z);Z=Z.sibling}_.type===Oi?(O=ai(_.props.children,R.mode,P,_.key),O.return=R,R=O):(P=na(_.type,_.key,_.props,null,R.mode,P),P.ref=Ns(R,O,_),P.return=R,R=P)}return p(R);case Mi:e:{for(Z=_.key;O!==null;){if(O.key===Z)if(O.tag===4&&O.stateNode.containerInfo===_.containerInfo&&O.stateNode.implementation===_.implementation){i(R,O.sibling),O=u(O,_.children||[]),O.return=R,R=O;break e}else{i(R,O);break}else n(R,O);O=O.sibling}O=zl(_,R.mode,P),O.return=R,R=O}return p(R);case Sr:return Z=_._init,z(R,O,Z(_._payload),P)}if(Rs(_))return k(R,O,_,P);if(As(_))return B(R,O,_,P);Uo(R,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,O!==null&&O.tag===6?(i(R,O.sibling),O=u(O,_),O.return=R,R=O):(i(R,O),O=Ul(_,R.mode,P),O.return=R,R=O),p(R)):i(R,O)}return z}var Ji=dd(!0),hd=dd(!1),xa=Gr(null),ma=null,Fi=null,xu=null;function mu(){xu=Fi=ma=null}function wu(e){var n=xa.current;Ze(xa),e._currentValue=n}function Ec(e,n,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===i)break;e=e.return}}function Xi(e,n){ma=e,xu=Fi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(tn=!0),e.firstContext=null)}function Nn(e){var n=e._currentValue;if(xu!==e)if(e={context:e,memoizedValue:n,next:null},Fi===null){if(ma===null)throw Error(J(308));Fi=e,ma.dependencies={lanes:0,firstContext:e}}else Fi=Fi.next=e;return n}var ii=null;function yu(e){ii===null?ii=[e]:ii.push(e)}function gd(e,n,i,a){var u=n.interleaved;return u===null?(i.next=i,yu(n)):(i.next=u.next,u.next=i),n.interleaved=i,cr(e,a)}function cr(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Ir=!1;function Eu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function or(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function kr(e,n,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Me&2){var u=a.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),a.pending=n,cr(e,i)}return u=a.interleaved,u===null?(n.next=n,yu(a)):(n.next=u.next,u.next=n),a.interleaved=n,cr(e,i)}function Ko(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,su(e,i)}}function $1(e,n){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var u=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var p={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?u=f=p:f=f.next=p,i=i.next}while(i!==null);f===null?u=f=n:f=f.next=n}else u=f=n;i={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function wa(e,n,i,a){var u=e.updateQueue;Ir=!1;var f=u.firstBaseUpdate,p=u.lastBaseUpdate,w=u.shared.pending;if(w!==null){u.shared.pending=null;var m=w,g=m.next;m.next=null,p===null?f=g:p.next=g,p=m;var E=e.alternate;E!==null&&(E=E.updateQueue,w=E.lastBaseUpdate,w!==p&&(w===null?E.firstBaseUpdate=g:w.next=g,E.lastBaseUpdate=m))}if(f!==null){var C=u.baseState;p=0,E=g=m=null,w=f;do{var T=w.lane,L=w.eventTime;if((a&T)===T){E!==null&&(E=E.next={eventTime:L,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var k=e,B=w;switch(T=n,L=i,B.tag){case 1:if(k=B.payload,typeof k=="function"){C=k.call(L,C,T);break e}C=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=B.payload,T=typeof k=="function"?k.call(L,C,T):k,T==null)break e;C=it({},C,T);break e;case 2:Ir=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,T=u.effects,T===null?u.effects=[w]:T.push(w))}else L={eventTime:L,lane:T,tag:w.tag,payload:w.payload,callback:w.callback,next:null},E===null?(g=E=L,m=C):E=E.next=L,p|=T;if(w=w.next,w===null){if(w=u.shared.pending,w===null)break;T=w,w=T.next,T.next=null,u.lastBaseUpdate=T,u.shared.pending=null}}while(!0);if(E===null&&(m=C),u.baseState=m,u.firstBaseUpdate=g,u.lastBaseUpdate=E,n=u.shared.interleaved,n!==null){u=n;do p|=u.lane,u=u.next;while(u!==n)}else f===null&&(u.shared.lanes=0);fi|=p,e.lanes=p,e.memoizedState=C}}function ef(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],u=a.callback;if(u!==null){if(a.callback=null,a=i,typeof u!="function")throw Error(J(191,u));u.call(a)}}}var ho={},$n=Gr(ho),eo=Gr(ho),to=Gr(ho);function si(e){if(e===ho)throw Error(J(174));return e}function Cu(e,n){switch(Ye(to,n),Ye(eo,e),Ye($n,ho),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ec(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=ec(n,e)}Ze($n),Ye($n,n)}function $i(){Ze($n),Ze(eo),Ze(to)}function xd(e){si(to.current);var n=si($n.current),i=ec(n,e.type);n!==i&&(Ye(eo,e),Ye($n,i))}function Au(e){eo.current===e&&(Ze($n),Ze(eo))}var tt=Gr(0);function ya(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ll=[];function vu(){for(var e=0;e<Ll.length;e++)Ll[e]._workInProgressVersionPrimary=null;Ll.length=0}var qo=dr.ReactCurrentDispatcher,kl=dr.ReactCurrentBatchConfig,ui=0,rt=null,Ct=null,Tt=null,Ea=!1,js=!1,no=0,mp=0;function Bt(){throw Error(J(321))}function Su(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!jn(e[i],n[i]))return!1;return!0}function Iu(e,n,i,a,u,f){if(ui=f,rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,qo.current=e===null||e.memoizedState===null?Cp:Ap,e=i(a,u),js){f=0;do{if(js=!1,no=0,25<=f)throw Error(J(301));f+=1,Tt=Ct=null,n.updateQueue=null,qo.current=vp,e=i(a,u)}while(js)}if(qo.current=Ca,n=Ct!==null&&Ct.next!==null,ui=0,Tt=Ct=rt=null,Ea=!1,n)throw Error(J(300));return e}function Tu(){var e=no!==0;return no=0,e}function Zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?rt.memoizedState=Tt=e:Tt=Tt.next=e,Tt}function _n(){if(Ct===null){var e=rt.alternate;e=e!==null?e.memoizedState:null}else e=Ct.next;var n=Tt===null?rt.memoizedState:Tt.next;if(n!==null)Tt=n,Ct=e;else{if(e===null)throw Error(J(310));Ct=e,e={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Tt===null?rt.memoizedState=Tt=e:Tt=Tt.next=e}return Tt}function ro(e,n){return typeof n=="function"?n(e):n}function Pl(e){var n=_n(),i=n.queue;if(i===null)throw Error(J(311));i.lastRenderedReducer=e;var a=Ct,u=a.baseQueue,f=i.pending;if(f!==null){if(u!==null){var p=u.next;u.next=f.next,f.next=p}a.baseQueue=u=f,i.pending=null}if(u!==null){f=u.next,a=a.baseState;var w=p=null,m=null,g=f;do{var E=g.lane;if((ui&E)===E)m!==null&&(m=m.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),a=g.hasEagerState?g.eagerState:e(a,g.action);else{var C={lane:E,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};m===null?(w=m=C,p=a):m=m.next=C,rt.lanes|=E,fi|=E}g=g.next}while(g!==null&&g!==f);m===null?p=a:m.next=w,jn(a,n.memoizedState)||(tn=!0),n.memoizedState=a,n.baseState=p,n.baseQueue=m,i.lastRenderedState=a}if(e=i.interleaved,e!==null){u=e;do f=u.lane,rt.lanes|=f,fi|=f,u=u.next;while(u!==e)}else u===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Bl(e){var n=_n(),i=n.queue;if(i===null)throw Error(J(311));i.lastRenderedReducer=e;var a=i.dispatch,u=i.pending,f=n.memoizedState;if(u!==null){i.pending=null;var p=u=u.next;do f=e(f,p.action),p=p.next;while(p!==u);jn(f,n.memoizedState)||(tn=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,a]}function md(){}function wd(e,n){var i=rt,a=_n(),u=n(),f=!jn(a.memoizedState,u);if(f&&(a.memoizedState=u,tn=!0),a=a.queue,Nu(Cd.bind(null,i,a,e),[e]),a.getSnapshot!==n||f||Tt!==null&&Tt.memoizedState.tag&1){if(i.flags|=2048,io(9,Ed.bind(null,i,a,u,n),void 0,null),Nt===null)throw Error(J(349));ui&30||yd(i,n,u)}return u}function yd(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=rt.updateQueue,n===null?(n={lastEffect:null,stores:null},rt.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Ed(e,n,i,a){n.value=i,n.getSnapshot=a,Ad(n)&&vd(e)}function Cd(e,n,i){return i(function(){Ad(n)&&vd(e)})}function Ad(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!jn(e,i)}catch{return!0}}function vd(e){var n=cr(e,1);n!==null&&Fn(n,e,1,-1)}function tf(e){var n=Zn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:e},n.queue=e,e=e.dispatch=Ep.bind(null,rt,e),[n.memoizedState,e]}function io(e,n,i,a){return e={tag:e,create:n,destroy:i,deps:a,next:null},n=rt.updateQueue,n===null?(n={lastEffect:null,stores:null},rt.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,n.lastEffect=e)),e}function Sd(){return _n().memoizedState}function Jo(e,n,i,a){var u=Zn();rt.flags|=e,u.memoizedState=io(1|n,i,void 0,a===void 0?null:a)}function ja(e,n,i,a){var u=_n();a=a===void 0?null:a;var f=void 0;if(Ct!==null){var p=Ct.memoizedState;if(f=p.destroy,a!==null&&Su(a,p.deps)){u.memoizedState=io(n,i,f,a);return}}rt.flags|=e,u.memoizedState=io(1|n,i,f,a)}function nf(e,n){return Jo(8390656,8,e,n)}function Nu(e,n){return ja(2048,8,e,n)}function Id(e,n){return ja(4,2,e,n)}function Td(e,n){return ja(4,4,e,n)}function Nd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function _d(e,n,i){return i=i!=null?i.concat([e]):null,ja(4,4,Nd.bind(null,n,e),i)}function _u(){}function Md(e,n){var i=_n();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&Su(n,a[1])?a[0]:(i.memoizedState=[e,n],e)}function Od(e,n){var i=_n();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&Su(n,a[1])?a[0]:(e=e(),i.memoizedState=[e,n],e)}function Rd(e,n,i){return ui&21?(jn(i,n)||(i=P0(),rt.lanes|=i,fi|=i,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,tn=!0),e.memoizedState=i)}function wp(e,n){var i=Be;Be=i!==0&&4>i?i:4,e(!0);var a=kl.transition;kl.transition={};try{e(!1),n()}finally{Be=i,kl.transition=a}}function Dd(){return _n().memoizedState}function yp(e,n,i){var a=Br(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},bd(e))Ld(n,i);else if(i=gd(e,n,i,a),i!==null){var u=Gt();Fn(i,e,a,u),kd(i,n,a)}}function Ep(e,n,i){var a=Br(e),u={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(bd(e))Ld(n,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,w=f(p,i);if(u.hasEagerState=!0,u.eagerState=w,jn(w,p)){var m=n.interleaved;m===null?(u.next=u,yu(n)):(u.next=m.next,m.next=u),n.interleaved=u;return}}catch{}finally{}i=gd(e,n,u,a),i!==null&&(u=Gt(),Fn(i,e,a,u),kd(i,n,a))}}function bd(e){var n=e.alternate;return e===rt||n!==null&&n===rt}function Ld(e,n){js=Ea=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function kd(e,n,i){if(i&4194240){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,su(e,i)}}var Ca={readContext:Nn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},Cp={readContext:Nn,useCallback:function(e,n){return Zn().memoizedState=[e,n===void 0?null:n],e},useContext:Nn,useEffect:nf,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,Jo(4194308,4,Nd.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Jo(4194308,4,e,n)},useInsertionEffect:function(e,n){return Jo(4,2,e,n)},useMemo:function(e,n){var i=Zn();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var a=Zn();return n=i!==void 0?i(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=yp.bind(null,rt,e),[a.memoizedState,e]},useRef:function(e){var n=Zn();return e={current:e},n.memoizedState=e},useState:tf,useDebugValue:_u,useDeferredValue:function(e){return Zn().memoizedState=e},useTransition:function(){var e=tf(!1),n=e[0];return e=wp.bind(null,e[1]),Zn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var a=rt,u=Zn();if(Je){if(i===void 0)throw Error(J(407));i=i()}else{if(i=n(),Nt===null)throw Error(J(349));ui&30||yd(a,n,i)}u.memoizedState=i;var f={value:i,getSnapshot:n};return u.queue=f,nf(Cd.bind(null,a,f,e),[e]),a.flags|=2048,io(9,Ed.bind(null,a,f,i,n),void 0,null),i},useId:function(){var e=Zn(),n=Nt.identifierPrefix;if(Je){var i=ir,a=rr;i=(a&~(1<<32-Bn(a)-1)).toString(32)+i,n=":"+n+"R"+i,i=no++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=mp++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Ap={readContext:Nn,useCallback:Md,useContext:Nn,useEffect:Nu,useImperativeHandle:_d,useInsertionEffect:Id,useLayoutEffect:Td,useMemo:Od,useReducer:Pl,useRef:Sd,useState:function(){return Pl(ro)},useDebugValue:_u,useDeferredValue:function(e){var n=_n();return Rd(n,Ct.memoizedState,e)},useTransition:function(){var e=Pl(ro)[0],n=_n().memoizedState;return[e,n]},useMutableSource:md,useSyncExternalStore:wd,useId:Dd,unstable_isNewReconciler:!1},vp={readContext:Nn,useCallback:Md,useContext:Nn,useEffect:Nu,useImperativeHandle:_d,useInsertionEffect:Id,useLayoutEffect:Td,useMemo:Od,useReducer:Bl,useRef:Sd,useState:function(){return Bl(ro)},useDebugValue:_u,useDeferredValue:function(e){var n=_n();return Ct===null?n.memoizedState=e:Rd(n,Ct.memoizedState,e)},useTransition:function(){var e=Bl(ro)[0],n=_n().memoizedState;return[e,n]},useMutableSource:md,useSyncExternalStore:wd,useId:Dd,unstable_isNewReconciler:!1};function bn(e,n){if(e&&e.defaultProps){n=it({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function Cc(e,n,i,a){n=e.memoizedState,i=i(a,n),i=i==null?n:it({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ua={isMounted:function(e){return(e=e._reactInternals)?mi(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var a=Gt(),u=Br(e),f=or(a,u);f.payload=n,i!=null&&(f.callback=i),n=kr(e,f,u),n!==null&&(Fn(n,e,u,a),Ko(n,e,u))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var a=Gt(),u=Br(e),f=or(a,u);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=kr(e,f,u),n!==null&&(Fn(n,e,u,a),Ko(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Gt(),a=Br(e),u=or(i,a);u.tag=2,n!=null&&(u.callback=n),n=kr(e,u,a),n!==null&&(Fn(n,e,a,i),Ko(n,e,a))}};function rf(e,n,i,a,u,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,p):n.prototype&&n.prototype.isPureReactComponent?!Ks(i,a)||!Ks(u,f):!0}function Pd(e,n,i){var a=!1,u=zr,f=n.contextType;return typeof f=="object"&&f!==null?f=Nn(f):(u=rn(n)?li:Ut.current,a=n.contextTypes,f=(a=a!=null)?Ki(e,u):zr),n=new n(i,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ua,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=f),n}function sf(e,n,i,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,a),n.state!==e&&Ua.enqueueReplaceState(n,n.state,null)}function Ac(e,n,i,a){var u=e.stateNode;u.props=i,u.state=e.memoizedState,u.refs={},Eu(e);var f=n.contextType;typeof f=="object"&&f!==null?u.context=Nn(f):(f=rn(n)?li:Ut.current,u.context=Ki(e,f)),u.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(Cc(e,n,f,i),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&Ua.enqueueReplaceState(u,u.state,null),wa(e,i,u,a),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function es(e,n){try{var i="",a=n;do i+=qg(a),a=a.return;while(a);var u=i}catch(f){u=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:u,digest:null}}function Fl(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function vc(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var Sp=typeof WeakMap=="function"?WeakMap:Map;function Bd(e,n,i){i=or(-1,i),i.tag=3,i.payload={element:null};var a=n.value;return i.callback=function(){va||(va=!0,bc=a),vc(e,n)},i}function Fd(e,n,i){i=or(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var u=n.value;i.payload=function(){return a(u)},i.callback=function(){vc(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){vc(e,n),typeof a!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var p=n.stack;this.componentDidCatch(n.value,{componentStack:p!==null?p:""})}),i}function of(e,n,i){var a=e.pingCache;if(a===null){a=e.pingCache=new Sp;var u=new Set;a.set(n,u)}else u=a.get(n),u===void 0&&(u=new Set,a.set(n,u));u.has(i)||(u.add(i),e=Fp.bind(null,e,n,i),n.then(e,e))}function af(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function lf(e,n,i,a,u){return e.mode&1?(e.flags|=65536,e.lanes=u,e):(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=or(-1,1),n.tag=2,kr(i,n,1))),i.lanes|=1),e)}var Ip=dr.ReactCurrentOwner,tn=!1;function Wt(e,n,i,a){n.child=e===null?hd(n,null,i,a):Ji(n,e.child,i,a)}function cf(e,n,i,a,u){i=i.render;var f=n.ref;return Xi(n,u),a=Iu(e,n,i,a,f,u),i=Tu(),e!==null&&!tn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,ur(e,n,u)):(Je&&i&&hu(n),n.flags|=1,Wt(e,n,a,u),n.child)}function uf(e,n,i,a,u){if(e===null){var f=i.type;return typeof f=="function"&&!Pu(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=f,jd(e,n,f,a,u)):(e=na(i.type,null,a,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!(e.lanes&u)){var p=f.memoizedProps;if(i=i.compare,i=i!==null?i:Ks,i(p,a)&&e.ref===n.ref)return ur(e,n,u)}return n.flags|=1,e=Fr(f,a),e.ref=n.ref,e.return=n,n.child=e}function jd(e,n,i,a,u){if(e!==null){var f=e.memoizedProps;if(Ks(f,a)&&e.ref===n.ref)if(tn=!1,n.pendingProps=a=f,(e.lanes&u)!==0)e.flags&131072&&(tn=!0);else return n.lanes=e.lanes,ur(e,n,u)}return Sc(e,n,i,a,u)}function Ud(e,n,i){var a=n.pendingProps,u=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Ui,cn),cn|=i;else{if(!(i&1073741824))return e=f!==null?f.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ye(Ui,cn),cn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:i,Ye(Ui,cn),cn|=a}else f!==null?(a=f.baseLanes|i,n.memoizedState=null):a=i,Ye(Ui,cn),cn|=a;return Wt(e,n,u,i),n.child}function zd(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function Sc(e,n,i,a,u){var f=rn(i)?li:Ut.current;return f=Ki(n,f),Xi(n,u),i=Iu(e,n,i,a,f,u),a=Tu(),e!==null&&!tn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,ur(e,n,u)):(Je&&a&&hu(n),n.flags|=1,Wt(e,n,i,u),n.child)}function ff(e,n,i,a,u){if(rn(i)){var f=!0;ha(n)}else f=!1;if(Xi(n,u),n.stateNode===null)$o(e,n),Pd(n,i,a),Ac(n,i,a,u),a=!0;else if(e===null){var p=n.stateNode,w=n.memoizedProps;p.props=w;var m=p.context,g=i.contextType;typeof g=="object"&&g!==null?g=Nn(g):(g=rn(i)?li:Ut.current,g=Ki(n,g));var E=i.getDerivedStateFromProps,C=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function";C||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==a||m!==g)&&sf(n,p,a,g),Ir=!1;var T=n.memoizedState;p.state=T,wa(n,a,p,u),m=n.memoizedState,w!==a||T!==m||nn.current||Ir?(typeof E=="function"&&(Cc(n,i,E,a),m=n.memoizedState),(w=Ir||rf(n,i,w,a,T,m,g))?(C||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=m),p.props=a,p.state=m,p.context=g,a=w):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{p=n.stateNode,pd(e,n),w=n.memoizedProps,g=n.type===n.elementType?w:bn(n.type,w),p.props=g,C=n.pendingProps,T=p.context,m=i.contextType,typeof m=="object"&&m!==null?m=Nn(m):(m=rn(i)?li:Ut.current,m=Ki(n,m));var L=i.getDerivedStateFromProps;(E=typeof L=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==C||T!==m)&&sf(n,p,a,m),Ir=!1,T=n.memoizedState,p.state=T,wa(n,a,p,u);var k=n.memoizedState;w!==C||T!==k||nn.current||Ir?(typeof L=="function"&&(Cc(n,i,L,a),k=n.memoizedState),(g=Ir||rf(n,i,g,a,T,k,m)||!1)?(E||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,k,m),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,k,m)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===e.memoizedProps&&T===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&T===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=k),p.props=a,p.state=k,p.context=m,a=g):(typeof p.componentDidUpdate!="function"||w===e.memoizedProps&&T===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&T===e.memoizedState||(n.flags|=1024),a=!1)}return Ic(e,n,i,a,f,u)}function Ic(e,n,i,a,u,f){zd(e,n);var p=(n.flags&128)!==0;if(!a&&!p)return u&&Z1(n,i,!1),ur(e,n,f);a=n.stateNode,Ip.current=n;var w=p&&typeof i.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&p?(n.child=Ji(n,e.child,null,f),n.child=Ji(n,null,w,f)):Wt(e,n,w,f),n.memoizedState=a.state,u&&Z1(n,i,!0),n.child}function Vd(e){var n=e.stateNode;n.pendingContext?Q1(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Q1(e,n.context,!1),Cu(e,n.containerInfo)}function df(e,n,i,a,u){return qi(),pu(u),n.flags|=256,Wt(e,n,i,a),n.child}var Tc={dehydrated:null,treeContext:null,retryLane:0};function Nc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hd(e,n,i){var a=n.pendingProps,u=tt.current,f=!1,p=(n.flags&128)!==0,w;if((w=p)||(w=e!==null&&e.memoizedState===null?!1:(u&2)!==0),w?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Ye(tt,u&1),e===null)return yc(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(p=a.children,e=a.fallback,f?(a=n.mode,f=n.child,p={mode:"hidden",children:p},!(a&1)&&f!==null?(f.childLanes=0,f.pendingProps=p):f=Ha(p,a,0,null),e=ai(e,a,i,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=Nc(i),n.memoizedState=Tc,e):Mu(n,p));if(u=e.memoizedState,u!==null&&(w=u.dehydrated,w!==null))return Tp(e,n,p,a,w,u,i);if(f){f=a.fallback,p=n.mode,u=e.child,w=u.sibling;var m={mode:"hidden",children:a.children};return!(p&1)&&n.child!==u?(a=n.child,a.childLanes=0,a.pendingProps=m,n.deletions=null):(a=Fr(u,m),a.subtreeFlags=u.subtreeFlags&14680064),w!==null?f=Fr(w,f):(f=ai(f,p,i,null),f.flags|=2),f.return=n,a.return=n,a.sibling=f,n.child=a,a=f,f=n.child,p=e.child.memoizedState,p=p===null?Nc(i):{baseLanes:p.baseLanes|i,cachePool:null,transitions:p.transitions},f.memoizedState=p,f.childLanes=e.childLanes&~i,n.memoizedState=Tc,a}return f=e.child,e=f.sibling,a=Fr(f,{mode:"visible",children:a.children}),!(n.mode&1)&&(a.lanes=i),a.return=n,a.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=a,n.memoizedState=null,a}function Mu(e,n){return n=Ha({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function zo(e,n,i,a){return a!==null&&pu(a),Ji(n,e.child,null,i),e=Mu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Tp(e,n,i,a,u,f,p){if(i)return n.flags&256?(n.flags&=-257,a=Fl(Error(J(422))),zo(e,n,p,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=a.fallback,u=n.mode,a=Ha({mode:"visible",children:a.children},u,0,null),f=ai(f,u,p,null),f.flags|=2,a.return=n,f.return=n,a.sibling=f,n.child=a,n.mode&1&&Ji(n,e.child,null,p),n.child.memoizedState=Nc(p),n.memoizedState=Tc,f);if(!(n.mode&1))return zo(e,n,p,null);if(u.data==="$!"){if(a=u.nextSibling&&u.nextSibling.dataset,a)var w=a.dgst;return a=w,f=Error(J(419)),a=Fl(f,a,void 0),zo(e,n,p,a)}if(w=(p&e.childLanes)!==0,tn||w){if(a=Nt,a!==null){switch(p&-p){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(a.suspendedLanes|p)?0:u,u!==0&&u!==f.retryLane&&(f.retryLane=u,cr(e,u),Fn(a,e,u,-1))}return ku(),a=Fl(Error(J(421))),zo(e,n,p,a)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=jp.bind(null,e),u._reactRetry=n,null):(e=f.treeContext,fn=Lr(u.nextSibling),dn=n,Je=!0,Pn=null,e!==null&&(Cn[An++]=rr,Cn[An++]=ir,Cn[An++]=ci,rr=e.id,ir=e.overflow,ci=n),n=Mu(n,a.children),n.flags|=4096,n)}function hf(e,n,i){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),Ec(e.return,n,i)}function jl(e,n,i,a,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:u}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=i,f.tailMode=u)}function Wd(e,n,i){var a=n.pendingProps,u=a.revealOrder,f=a.tail;if(Wt(e,n,a.children,i),a=tt.current,a&2)a=a&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hf(e,i,n);else if(e.tag===19)hf(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ye(tt,a),!(n.mode&1))n.memoizedState=null;else switch(u){case"forwards":for(i=n.child,u=null;i!==null;)e=i.alternate,e!==null&&ya(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=n.child,n.child=null):(u=i.sibling,i.sibling=null),jl(n,!1,u,i,f);break;case"backwards":for(i=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&ya(e)===null){n.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}jl(n,!0,i,null,f);break;case"together":jl(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function $o(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function ur(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),fi|=n.lanes,!(i&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(J(153));if(n.child!==null){for(e=n.child,i=Fr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Fr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Np(e,n,i){switch(n.tag){case 3:Vd(n),qi();break;case 5:xd(n);break;case 1:rn(n.type)&&ha(n);break;case 4:Cu(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,u=n.memoizedProps.value;Ye(xa,a._currentValue),a._currentValue=u;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(Ye(tt,tt.current&1),n.flags|=128,null):i&n.child.childLanes?Hd(e,n,i):(Ye(tt,tt.current&1),e=ur(e,n,i),e!==null?e.sibling:null);Ye(tt,tt.current&1);break;case 19:if(a=(i&n.childLanes)!==0,e.flags&128){if(a)return Wd(e,n,i);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Ye(tt,tt.current),a)break;return null;case 22:case 23:return n.lanes=0,Ud(e,n,i)}return ur(e,n,i)}var Gd,_c,Yd,Xd;Gd=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};_c=function(){};Yd=function(e,n,i,a){var u=e.memoizedProps;if(u!==a){e=n.stateNode,si($n.current);var f=null;switch(i){case"input":u=Kl(e,u),a=Kl(e,a),f=[];break;case"select":u=it({},u,{value:void 0}),a=it({},a,{value:void 0}),f=[];break;case"textarea":u=$l(e,u),a=$l(e,a),f=[];break;default:typeof u.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=fa)}tc(i,a);var p;i=null;for(g in u)if(!a.hasOwnProperty(g)&&u.hasOwnProperty(g)&&u[g]!=null)if(g==="style"){var w=u[g];for(p in w)w.hasOwnProperty(p)&&(i||(i={}),i[p]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Hs.hasOwnProperty(g)?f||(f=[]):(f=f||[]).push(g,null));for(g in a){var m=a[g];if(w=u!=null?u[g]:void 0,a.hasOwnProperty(g)&&m!==w&&(m!=null||w!=null))if(g==="style")if(w){for(p in w)!w.hasOwnProperty(p)||m&&m.hasOwnProperty(p)||(i||(i={}),i[p]="");for(p in m)m.hasOwnProperty(p)&&w[p]!==m[p]&&(i||(i={}),i[p]=m[p])}else i||(f||(f=[]),f.push(g,i)),i=m;else g==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,w=w?w.__html:void 0,m!=null&&w!==m&&(f=f||[]).push(g,m)):g==="children"?typeof m!="string"&&typeof m!="number"||(f=f||[]).push(g,""+m):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Hs.hasOwnProperty(g)?(m!=null&&g==="onScroll"&&Qe("scroll",e),f||w===m||(f=[])):(f=f||[]).push(g,m))}i&&(f=f||[]).push("style",i);var g=f;(n.updateQueue=g)&&(n.flags|=4)}};Xd=function(e,n,i,a){i!==a&&(n.flags|=4)};function _s(e,n){if(!Je)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ft(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(n)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags&14680064,a|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=i,n}function _p(e,n,i){var a=n.pendingProps;switch(gu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(n),null;case 1:return rn(n.type)&&da(),Ft(n),null;case 3:return a=n.stateNode,$i(),Ze(nn),Ze(Ut),vu(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(jo(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Pn!==null&&(Pc(Pn),Pn=null))),_c(e,n),Ft(n),null;case 5:Au(n);var u=si(to.current);if(i=n.type,e!==null&&n.stateNode!=null)Yd(e,n,i,a,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(J(166));return Ft(n),null}if(e=si($n.current),jo(n)){a=n.stateNode,i=n.type;var f=n.memoizedProps;switch(a[qn]=n,a[$s]=f,e=(n.mode&1)!==0,i){case"dialog":Qe("cancel",a),Qe("close",a);break;case"iframe":case"object":case"embed":Qe("load",a);break;case"video":case"audio":for(u=0;u<bs.length;u++)Qe(bs[u],a);break;case"source":Qe("error",a);break;case"img":case"image":case"link":Qe("error",a),Qe("load",a);break;case"details":Qe("toggle",a);break;case"input":C1(a,f),Qe("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Qe("invalid",a);break;case"textarea":v1(a,f),Qe("invalid",a)}tc(i,f),u=null;for(var p in f)if(f.hasOwnProperty(p)){var w=f[p];p==="children"?typeof w=="string"?a.textContent!==w&&(f.suppressHydrationWarning!==!0&&Fo(a.textContent,w,e),u=["children",w]):typeof w=="number"&&a.textContent!==""+w&&(f.suppressHydrationWarning!==!0&&Fo(a.textContent,w,e),u=["children",""+w]):Hs.hasOwnProperty(p)&&w!=null&&p==="onScroll"&&Qe("scroll",a)}switch(i){case"input":Oo(a),A1(a,f,!0);break;case"textarea":Oo(a),S1(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=fa)}a=u,n.updateQueue=a,a!==null&&(n.flags|=4)}else{p=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=C0(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=p.createElement(i,{is:a.is}):(e=p.createElement(i),i==="select"&&(p=e,a.multiple?p.multiple=!0:a.size&&(p.size=a.size))):e=p.createElementNS(e,i),e[qn]=n,e[$s]=a,Gd(e,n,!1,!1),n.stateNode=e;e:{switch(p=nc(i,a),i){case"dialog":Qe("cancel",e),Qe("close",e),u=a;break;case"iframe":case"object":case"embed":Qe("load",e),u=a;break;case"video":case"audio":for(u=0;u<bs.length;u++)Qe(bs[u],e);u=a;break;case"source":Qe("error",e),u=a;break;case"img":case"image":case"link":Qe("error",e),Qe("load",e),u=a;break;case"details":Qe("toggle",e),u=a;break;case"input":C1(e,a),u=Kl(e,a),Qe("invalid",e);break;case"option":u=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},u=it({},a,{value:void 0}),Qe("invalid",e);break;case"textarea":v1(e,a),u=$l(e,a),Qe("invalid",e);break;default:u=a}tc(i,u),w=u;for(f in w)if(w.hasOwnProperty(f)){var m=w[f];f==="style"?S0(e,m):f==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&A0(e,m)):f==="children"?typeof m=="string"?(i!=="textarea"||m!=="")&&Ws(e,m):typeof m=="number"&&Ws(e,""+m):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Hs.hasOwnProperty(f)?m!=null&&f==="onScroll"&&Qe("scroll",e):m!=null&&$c(e,f,m,p))}switch(i){case"input":Oo(e),A1(e,a,!1);break;case"textarea":Oo(e),S1(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Ur(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?Hi(e,!!a.multiple,f,!1):a.defaultValue!=null&&Hi(e,!!a.multiple,a.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=fa)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ft(n),null;case 6:if(e&&n.stateNode!=null)Xd(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(J(166));if(i=si(to.current),si($n.current),jo(n)){if(a=n.stateNode,i=n.memoizedProps,a[qn]=n,(f=a.nodeValue!==i)&&(e=dn,e!==null))switch(e.tag){case 3:Fo(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fo(a.nodeValue,i,(e.mode&1)!==0)}f&&(n.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[qn]=n,n.stateNode=a}return Ft(n),null;case 13:if(Ze(tt),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Je&&fn!==null&&n.mode&1&&!(n.flags&128))fd(),qi(),n.flags|=98560,f=!1;else if(f=jo(n),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(J(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(J(317));f[qn]=n}else qi(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ft(n),f=!1}else Pn!==null&&(Pc(Pn),Pn=null),f=!0;if(!f)return n.flags&65536?n:null}return n.flags&128?(n.lanes=i,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,n.mode&1&&(e===null||tt.current&1?At===0&&(At=3):ku())),n.updateQueue!==null&&(n.flags|=4),Ft(n),null);case 4:return $i(),_c(e,n),e===null&&qs(n.stateNode.containerInfo),Ft(n),null;case 10:return wu(n.type._context),Ft(n),null;case 17:return rn(n.type)&&da(),Ft(n),null;case 19:if(Ze(tt),f=n.memoizedState,f===null)return Ft(n),null;if(a=(n.flags&128)!==0,p=f.rendering,p===null)if(a)_s(f,!1);else{if(At!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(p=ya(e),p!==null){for(n.flags|=128,_s(f,!1),a=p.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=i,i=n.child;i!==null;)f=i,e=a,f.flags&=14680066,p=f.alternate,p===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=p.childLanes,f.lanes=p.lanes,f.child=p.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=p.memoizedProps,f.memoizedState=p.memoizedState,f.updateQueue=p.updateQueue,f.type=p.type,e=p.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ye(tt,tt.current&1|2),n.child}e=e.sibling}f.tail!==null&&ht()>ts&&(n.flags|=128,a=!0,_s(f,!1),n.lanes=4194304)}else{if(!a)if(e=ya(p),e!==null){if(n.flags|=128,a=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),_s(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Je)return Ft(n),null}else 2*ht()-f.renderingStartTime>ts&&i!==1073741824&&(n.flags|=128,a=!0,_s(f,!1),n.lanes=4194304);f.isBackwards?(p.sibling=n.child,n.child=p):(i=f.last,i!==null?i.sibling=p:n.child=p,f.last=p)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=ht(),n.sibling=null,i=tt.current,Ye(tt,a?i&1|2:i&1),n):(Ft(n),null);case 22:case 23:return Lu(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&n.mode&1?cn&1073741824&&(Ft(n),n.subtreeFlags&6&&(n.flags|=8192)):Ft(n),null;case 24:return null;case 25:return null}throw Error(J(156,n.tag))}function Mp(e,n){switch(gu(n),n.tag){case 1:return rn(n.type)&&da(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return $i(),Ze(nn),Ze(Ut),vu(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Au(n),null;case 13:if(Ze(tt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(J(340));qi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ze(tt),null;case 4:return $i(),null;case 10:return wu(n.type._context),null;case 22:case 23:return Lu(),null;case 24:return null;default:return null}}var Vo=!1,jt=!1,Op=typeof WeakSet=="function"?WeakSet:Set,oe=null;function ji(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){ut(e,n,a)}else i.current=null}function Mc(e,n,i){try{i()}catch(a){ut(e,n,a)}}var gf=!1;function Rp(e,n){if(dc=la,e=J0(),du(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var u=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var p=0,w=-1,m=-1,g=0,E=0,C=e,T=null;t:for(;;){for(var L;C!==i||u!==0&&C.nodeType!==3||(w=p+u),C!==f||a!==0&&C.nodeType!==3||(m=p+a),C.nodeType===3&&(p+=C.nodeValue.length),(L=C.firstChild)!==null;)T=C,C=L;for(;;){if(C===e)break t;if(T===i&&++g===u&&(w=p),T===f&&++E===a&&(m=p),(L=C.nextSibling)!==null)break;C=T,T=C.parentNode}C=L}i=w===-1||m===-1?null:{start:w,end:m}}else i=null}i=i||{start:0,end:0}}else i=null;for(hc={focusedElem:e,selectionRange:i},la=!1,oe=n;oe!==null;)if(n=oe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,oe=e;else for(;oe!==null;){n=oe;try{var k=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var B=k.memoizedProps,z=k.memoizedState,R=n.stateNode,O=R.getSnapshotBeforeUpdate(n.elementType===n.type?B:bn(n.type,B),z);R.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var _=n.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(P){ut(n,n.return,P)}if(e=n.sibling,e!==null){e.return=n.return,oe=e;break}oe=n.return}return k=gf,gf=!1,k}function Us(e,n,i){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&e)===e){var f=u.destroy;u.destroy=void 0,f!==void 0&&Mc(n,i,f)}u=u.next}while(u!==a)}}function za(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==n)}}function Oc(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function Qd(e){var n=e.alternate;n!==null&&(e.alternate=null,Qd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[qn],delete n[$s],delete n[xc],delete n[hp],delete n[gp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zd(e){return e.tag===5||e.tag===3||e.tag===4}function pf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rc(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=fa));else if(a!==4&&(e=e.child,e!==null))for(Rc(e,n,i),e=e.sibling;e!==null;)Rc(e,n,i),e=e.sibling}function Dc(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Dc(e,n,i),e=e.sibling;e!==null;)Dc(e,n,i),e=e.sibling}var Dt=null,Ln=!1;function Ar(e,n,i){for(i=i.child;i!==null;)Kd(e,n,i),i=i.sibling}function Kd(e,n,i){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(ba,i)}catch{}switch(i.tag){case 5:jt||ji(i,n);case 6:var a=Dt,u=Ln;Dt=null,Ar(e,n,i),Dt=a,Ln=u,Dt!==null&&(Ln?(e=Dt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Dt.removeChild(i.stateNode));break;case 18:Dt!==null&&(Ln?(e=Dt,i=i.stateNode,e.nodeType===8?Dl(e.parentNode,i):e.nodeType===1&&Dl(e,i),Qs(e)):Dl(Dt,i.stateNode));break;case 4:a=Dt,u=Ln,Dt=i.stateNode.containerInfo,Ln=!0,Ar(e,n,i),Dt=a,Ln=u;break;case 0:case 11:case 14:case 15:if(!jt&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){u=a=a.next;do{var f=u,p=f.destroy;f=f.tag,p!==void 0&&(f&2||f&4)&&Mc(i,n,p),u=u.next}while(u!==a)}Ar(e,n,i);break;case 1:if(!jt&&(ji(i,n),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(w){ut(i,n,w)}Ar(e,n,i);break;case 21:Ar(e,n,i);break;case 22:i.mode&1?(jt=(a=jt)||i.memoizedState!==null,Ar(e,n,i),jt=a):Ar(e,n,i);break;default:Ar(e,n,i)}}function xf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Op),n.forEach(function(a){var u=Up.bind(null,e,a);i.has(a)||(i.add(a),a.then(u,u))})}}function Dn(e,n){var i=n.deletions;if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];try{var f=e,p=n,w=p;e:for(;w!==null;){switch(w.tag){case 5:Dt=w.stateNode,Ln=!1;break e;case 3:Dt=w.stateNode.containerInfo,Ln=!0;break e;case 4:Dt=w.stateNode.containerInfo,Ln=!0;break e}w=w.return}if(Dt===null)throw Error(J(160));Kd(f,p,u),Dt=null,Ln=!1;var m=u.alternate;m!==null&&(m.return=null),u.return=null}catch(g){ut(u,n,g)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)qd(n,e),n=n.sibling}function qd(e,n){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dn(n,e),Qn(e),a&4){try{Us(3,e,e.return),za(3,e)}catch(B){ut(e,e.return,B)}try{Us(5,e,e.return)}catch(B){ut(e,e.return,B)}}break;case 1:Dn(n,e),Qn(e),a&512&&i!==null&&ji(i,i.return);break;case 5:if(Dn(n,e),Qn(e),a&512&&i!==null&&ji(i,i.return),e.flags&32){var u=e.stateNode;try{Ws(u,"")}catch(B){ut(e,e.return,B)}}if(a&4&&(u=e.stateNode,u!=null)){var f=e.memoizedProps,p=i!==null?i.memoizedProps:f,w=e.type,m=e.updateQueue;if(e.updateQueue=null,m!==null)try{w==="input"&&f.type==="radio"&&f.name!=null&&y0(u,f),nc(w,p);var g=nc(w,f);for(p=0;p<m.length;p+=2){var E=m[p],C=m[p+1];E==="style"?S0(u,C):E==="dangerouslySetInnerHTML"?A0(u,C):E==="children"?Ws(u,C):$c(u,E,C,g)}switch(w){case"input":ql(u,f);break;case"textarea":E0(u,f);break;case"select":var T=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!f.multiple;var L=f.value;L!=null?Hi(u,!!f.multiple,L,!1):T!==!!f.multiple&&(f.defaultValue!=null?Hi(u,!!f.multiple,f.defaultValue,!0):Hi(u,!!f.multiple,f.multiple?[]:"",!1))}u[$s]=f}catch(B){ut(e,e.return,B)}}break;case 6:if(Dn(n,e),Qn(e),a&4){if(e.stateNode===null)throw Error(J(162));u=e.stateNode,f=e.memoizedProps;try{u.nodeValue=f}catch(B){ut(e,e.return,B)}}break;case 3:if(Dn(n,e),Qn(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Qs(n.containerInfo)}catch(B){ut(e,e.return,B)}break;case 4:Dn(n,e),Qn(e);break;case 13:Dn(n,e),Qn(e),u=e.child,u.flags&8192&&(f=u.memoizedState!==null,u.stateNode.isHidden=f,!f||u.alternate!==null&&u.alternate.memoizedState!==null||(Du=ht())),a&4&&xf(e);break;case 22:if(E=i!==null&&i.memoizedState!==null,e.mode&1?(jt=(g=jt)||E,Dn(n,e),jt=g):Dn(n,e),Qn(e),a&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!E&&e.mode&1)for(oe=e,E=e.child;E!==null;){for(C=oe=E;oe!==null;){switch(T=oe,L=T.child,T.tag){case 0:case 11:case 14:case 15:Us(4,T,T.return);break;case 1:ji(T,T.return);var k=T.stateNode;if(typeof k.componentWillUnmount=="function"){a=T,i=T.return;try{n=a,k.props=n.memoizedProps,k.state=n.memoizedState,k.componentWillUnmount()}catch(B){ut(a,i,B)}}break;case 5:ji(T,T.return);break;case 22:if(T.memoizedState!==null){wf(C);continue}}L!==null?(L.return=T,oe=L):wf(C)}E=E.sibling}e:for(E=null,C=e;;){if(C.tag===5){if(E===null){E=C;try{u=C.stateNode,g?(f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(w=C.stateNode,m=C.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null,w.style.display=v0("display",p))}catch(B){ut(e,e.return,B)}}}else if(C.tag===6){if(E===null)try{C.stateNode.nodeValue=g?"":C.memoizedProps}catch(B){ut(e,e.return,B)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===e)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===e)break e;for(;C.sibling===null;){if(C.return===null||C.return===e)break e;E===C&&(E=null),C=C.return}E===C&&(E=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:Dn(n,e),Qn(e),a&4&&xf(e);break;case 21:break;default:Dn(n,e),Qn(e)}}function Qn(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(Zd(i)){var a=i;break e}i=i.return}throw Error(J(160))}switch(a.tag){case 5:var u=a.stateNode;a.flags&32&&(Ws(u,""),a.flags&=-33);var f=pf(e);Dc(e,f,u);break;case 3:case 4:var p=a.stateNode.containerInfo,w=pf(e);Rc(e,w,p);break;default:throw Error(J(161))}}catch(m){ut(e,e.return,m)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Dp(e,n,i){oe=e,Jd(e)}function Jd(e,n,i){for(var a=(e.mode&1)!==0;oe!==null;){var u=oe,f=u.child;if(u.tag===22&&a){var p=u.memoizedState!==null||Vo;if(!p){var w=u.alternate,m=w!==null&&w.memoizedState!==null||jt;w=Vo;var g=jt;if(Vo=p,(jt=m)&&!g)for(oe=u;oe!==null;)p=oe,m=p.child,p.tag===22&&p.memoizedState!==null?yf(u):m!==null?(m.return=p,oe=m):yf(u);for(;f!==null;)oe=f,Jd(f),f=f.sibling;oe=u,Vo=w,jt=g}mf(e)}else u.subtreeFlags&8772&&f!==null?(f.return=u,oe=f):mf(e)}}function mf(e){for(;oe!==null;){var n=oe;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:jt||za(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!jt)if(i===null)a.componentDidMount();else{var u=n.elementType===n.type?i.memoizedProps:bn(n.type,i.memoizedProps);a.componentDidUpdate(u,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&ef(n,f,a);break;case 3:var p=n.updateQueue;if(p!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}ef(n,p,i)}break;case 5:var w=n.stateNode;if(i===null&&n.flags&4){i=w;var m=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&i.focus();break;case"img":m.src&&(i.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var g=n.alternate;if(g!==null){var E=g.memoizedState;if(E!==null){var C=E.dehydrated;C!==null&&Qs(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}jt||n.flags&512&&Oc(n)}catch(T){ut(n,n.return,T)}}if(n===e){oe=null;break}if(i=n.sibling,i!==null){i.return=n.return,oe=i;break}oe=n.return}}function wf(e){for(;oe!==null;){var n=oe;if(n===e){oe=null;break}var i=n.sibling;if(i!==null){i.return=n.return,oe=i;break}oe=n.return}}function yf(e){for(;oe!==null;){var n=oe;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{za(4,n)}catch(m){ut(n,i,m)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var u=n.return;try{a.componentDidMount()}catch(m){ut(n,u,m)}}var f=n.return;try{Oc(n)}catch(m){ut(n,f,m)}break;case 5:var p=n.return;try{Oc(n)}catch(m){ut(n,p,m)}}}catch(m){ut(n,n.return,m)}if(n===e){oe=null;break}var w=n.sibling;if(w!==null){w.return=n.return,oe=w;break}oe=n.return}}var bp=Math.ceil,Aa=dr.ReactCurrentDispatcher,Ou=dr.ReactCurrentOwner,In=dr.ReactCurrentBatchConfig,Me=0,Nt=null,xt=null,bt=0,cn=0,Ui=Gr(0),At=0,so=null,fi=0,Va=0,Ru=0,zs=null,en=null,Du=0,ts=1/0,tr=null,va=!1,bc=null,Pr=null,Ho=!1,Mr=null,Sa=0,Vs=0,Lc=null,ea=-1,ta=0;function Gt(){return Me&6?ht():ea!==-1?ea:ea=ht()}function Br(e){return e.mode&1?Me&2&&bt!==0?bt&-bt:xp.transition!==null?(ta===0&&(ta=P0()),ta):(e=Be,e!==0||(e=window.event,e=e===void 0?16:H0(e.type)),e):1}function Fn(e,n,i,a){if(50<Vs)throw Vs=0,Lc=null,Error(J(185));co(e,i,a),(!(Me&2)||e!==Nt)&&(e===Nt&&(!(Me&2)&&(Va|=i),At===4&&Nr(e,bt)),sn(e,a),i===1&&Me===0&&!(n.mode&1)&&(ts=ht()+500,Fa&&Yr()))}function sn(e,n){var i=e.callbackNode;x2(e,n);var a=aa(e,e===Nt?bt:0);if(a===0)i!==null&&N1(i),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(i!=null&&N1(i),n===1)e.tag===0?pp(Ef.bind(null,e)):ld(Ef.bind(null,e)),fp(function(){!(Me&6)&&Yr()}),i=null;else{switch(B0(a)){case 1:i=iu;break;case 4:i=L0;break;case 16:i=oa;break;case 536870912:i=k0;break;default:i=oa}i=oh(i,$d.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function $d(e,n){if(ea=-1,ta=0,Me&6)throw Error(J(327));var i=e.callbackNode;if(Qi()&&e.callbackNode!==i)return null;var a=aa(e,e===Nt?bt:0);if(a===0)return null;if(a&30||a&e.expiredLanes||n)n=Ia(e,a);else{n=a;var u=Me;Me|=2;var f=th();(Nt!==e||bt!==n)&&(tr=null,ts=ht()+500,oi(e,n));do try{Pp();break}catch(w){eh(e,w)}while(!0);mu(),Aa.current=f,Me=u,xt!==null?n=0:(Nt=null,bt=0,n=At)}if(n!==0){if(n===2&&(u=ac(e),u!==0&&(a=u,n=kc(e,u))),n===1)throw i=so,oi(e,0),Nr(e,a),sn(e,ht()),i;if(n===6)Nr(e,a);else{if(u=e.current.alternate,!(a&30)&&!Lp(u)&&(n=Ia(e,a),n===2&&(f=ac(e),f!==0&&(a=f,n=kc(e,f))),n===1))throw i=so,oi(e,0),Nr(e,a),sn(e,ht()),i;switch(e.finishedWork=u,e.finishedLanes=a,n){case 0:case 1:throw Error(J(345));case 2:ni(e,en,tr);break;case 3:if(Nr(e,a),(a&130023424)===a&&(n=Du+500-ht(),10<n)){if(aa(e,0)!==0)break;if(u=e.suspendedLanes,(u&a)!==a){Gt(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=pc(ni.bind(null,e,en,tr),n);break}ni(e,en,tr);break;case 4:if(Nr(e,a),(a&4194240)===a)break;for(n=e.eventTimes,u=-1;0<a;){var p=31-Bn(a);f=1<<p,p=n[p],p>u&&(u=p),a&=~f}if(a=u,a=ht()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*bp(a/1960))-a,10<a){e.timeoutHandle=pc(ni.bind(null,e,en,tr),a);break}ni(e,en,tr);break;case 5:ni(e,en,tr);break;default:throw Error(J(329))}}}return sn(e,ht()),e.callbackNode===i?$d.bind(null,e):null}function kc(e,n){var i=zs;return e.current.memoizedState.isDehydrated&&(oi(e,n).flags|=256),e=Ia(e,n),e!==2&&(n=en,en=i,n!==null&&Pc(n)),e}function Pc(e){en===null?en=e:en.push.apply(en,e)}function Lp(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var u=i[a],f=u.getSnapshot;u=u.value;try{if(!jn(f(),u))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Nr(e,n){for(n&=~Ru,n&=~Va,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-Bn(n),a=1<<i;e[i]=-1,n&=~a}}function Ef(e){if(Me&6)throw Error(J(327));Qi();var n=aa(e,0);if(!(n&1))return sn(e,ht()),null;var i=Ia(e,n);if(e.tag!==0&&i===2){var a=ac(e);a!==0&&(n=a,i=kc(e,a))}if(i===1)throw i=so,oi(e,0),Nr(e,n),sn(e,ht()),i;if(i===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,ni(e,en,tr),sn(e,ht()),null}function bu(e,n){var i=Me;Me|=1;try{return e(n)}finally{Me=i,Me===0&&(ts=ht()+500,Fa&&Yr())}}function di(e){Mr!==null&&Mr.tag===0&&!(Me&6)&&Qi();var n=Me;Me|=1;var i=In.transition,a=Be;try{if(In.transition=null,Be=1,e)return e()}finally{Be=a,In.transition=i,Me=n,!(Me&6)&&Yr()}}function Lu(){cn=Ui.current,Ze(Ui)}function oi(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,up(i)),xt!==null)for(i=xt.return;i!==null;){var a=i;switch(gu(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&da();break;case 3:$i(),Ze(nn),Ze(Ut),vu();break;case 5:Au(a);break;case 4:$i();break;case 13:Ze(tt);break;case 19:Ze(tt);break;case 10:wu(a.type._context);break;case 22:case 23:Lu()}i=i.return}if(Nt=e,xt=e=Fr(e.current,null),bt=cn=n,At=0,so=null,Ru=Va=fi=0,en=zs=null,ii!==null){for(n=0;n<ii.length;n++)if(i=ii[n],a=i.interleaved,a!==null){i.interleaved=null;var u=a.next,f=i.pending;if(f!==null){var p=f.next;f.next=u,a.next=p}i.pending=a}ii=null}return e}function eh(e,n){do{var i=xt;try{if(mu(),qo.current=Ca,Ea){for(var a=rt.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}Ea=!1}if(ui=0,Tt=Ct=rt=null,js=!1,no=0,Ou.current=null,i===null||i.return===null){At=1,so=n,xt=null;break}e:{var f=e,p=i.return,w=i,m=n;if(n=bt,w.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var g=m,E=w,C=E.tag;if(!(E.mode&1)&&(C===0||C===11||C===15)){var T=E.alternate;T?(E.updateQueue=T.updateQueue,E.memoizedState=T.memoizedState,E.lanes=T.lanes):(E.updateQueue=null,E.memoizedState=null)}var L=af(p);if(L!==null){L.flags&=-257,lf(L,p,w,f,n),L.mode&1&&of(f,g,n),n=L,m=g;var k=n.updateQueue;if(k===null){var B=new Set;B.add(m),n.updateQueue=B}else k.add(m);break e}else{if(!(n&1)){of(f,g,n),ku();break e}m=Error(J(426))}}else if(Je&&w.mode&1){var z=af(p);if(z!==null){!(z.flags&65536)&&(z.flags|=256),lf(z,p,w,f,n),pu(es(m,w));break e}}f=m=es(m,w),At!==4&&(At=2),zs===null?zs=[f]:zs.push(f),f=p;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var R=Bd(f,m,n);$1(f,R);break e;case 1:w=m;var O=f.type,_=f.stateNode;if(!(f.flags&128)&&(typeof O.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Pr===null||!Pr.has(_)))){f.flags|=65536,n&=-n,f.lanes|=n;var P=Fd(f,w,n);$1(f,P);break e}}f=f.return}while(f!==null)}rh(i)}catch(Q){n=Q,xt===i&&i!==null&&(xt=i=i.return);continue}break}while(!0)}function th(){var e=Aa.current;return Aa.current=Ca,e===null?Ca:e}function ku(){(At===0||At===3||At===2)&&(At=4),Nt===null||!(fi&268435455)&&!(Va&268435455)||Nr(Nt,bt)}function Ia(e,n){var i=Me;Me|=2;var a=th();(Nt!==e||bt!==n)&&(tr=null,oi(e,n));do try{kp();break}catch(u){eh(e,u)}while(!0);if(mu(),Me=i,Aa.current=a,xt!==null)throw Error(J(261));return Nt=null,bt=0,At}function kp(){for(;xt!==null;)nh(xt)}function Pp(){for(;xt!==null&&!a2();)nh(xt)}function nh(e){var n=sh(e.alternate,e,cn);e.memoizedProps=e.pendingProps,n===null?rh(e):xt=n,Ou.current=null}function rh(e){var n=e;do{var i=n.alternate;if(e=n.return,n.flags&32768){if(i=Mp(i,n),i!==null){i.flags&=32767,xt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{At=6,xt=null;return}}else if(i=_p(i,n,cn),i!==null){xt=i;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);At===0&&(At=5)}function ni(e,n,i){var a=Be,u=In.transition;try{In.transition=null,Be=1,Bp(e,n,i,a)}finally{In.transition=u,Be=a}return null}function Bp(e,n,i,a){do Qi();while(Mr!==null);if(Me&6)throw Error(J(327));i=e.finishedWork;var u=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(m2(e,f),e===Nt&&(xt=Nt=null,bt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Ho||(Ho=!0,oh(oa,function(){return Qi(),null})),f=(i.flags&15990)!==0,i.subtreeFlags&15990||f){f=In.transition,In.transition=null;var p=Be;Be=1;var w=Me;Me|=4,Ou.current=null,Rp(e,i),qd(i,e),rp(hc),la=!!dc,hc=dc=null,e.current=i,Dp(i),l2(),Me=w,Be=p,In.transition=f}else e.current=i;if(Ho&&(Ho=!1,Mr=e,Sa=u),f=e.pendingLanes,f===0&&(Pr=null),f2(i.stateNode),sn(e,ht()),n!==null)for(a=e.onRecoverableError,i=0;i<n.length;i++)u=n[i],a(u.value,{componentStack:u.stack,digest:u.digest});if(va)throw va=!1,e=bc,bc=null,e;return Sa&1&&e.tag!==0&&Qi(),f=e.pendingLanes,f&1?e===Lc?Vs++:(Vs=0,Lc=e):Vs=0,Yr(),null}function Qi(){if(Mr!==null){var e=B0(Sa),n=In.transition,i=Be;try{if(In.transition=null,Be=16>e?16:e,Mr===null)var a=!1;else{if(e=Mr,Mr=null,Sa=0,Me&6)throw Error(J(331));var u=Me;for(Me|=4,oe=e.current;oe!==null;){var f=oe,p=f.child;if(oe.flags&16){var w=f.deletions;if(w!==null){for(var m=0;m<w.length;m++){var g=w[m];for(oe=g;oe!==null;){var E=oe;switch(E.tag){case 0:case 11:case 15:Us(8,E,f)}var C=E.child;if(C!==null)C.return=E,oe=C;else for(;oe!==null;){E=oe;var T=E.sibling,L=E.return;if(Qd(E),E===g){oe=null;break}if(T!==null){T.return=L,oe=T;break}oe=L}}}var k=f.alternate;if(k!==null){var B=k.child;if(B!==null){k.child=null;do{var z=B.sibling;B.sibling=null,B=z}while(B!==null)}}oe=f}}if(f.subtreeFlags&2064&&p!==null)p.return=f,oe=p;else e:for(;oe!==null;){if(f=oe,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Us(9,f,f.return)}var R=f.sibling;if(R!==null){R.return=f.return,oe=R;break e}oe=f.return}}var O=e.current;for(oe=O;oe!==null;){p=oe;var _=p.child;if(p.subtreeFlags&2064&&_!==null)_.return=p,oe=_;else e:for(p=O;oe!==null;){if(w=oe,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:za(9,w)}}catch(Q){ut(w,w.return,Q)}if(w===p){oe=null;break e}var P=w.sibling;if(P!==null){P.return=w.return,oe=P;break e}oe=w.return}}if(Me=u,Yr(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(ba,e)}catch{}a=!0}return a}finally{Be=i,In.transition=n}}return!1}function Cf(e,n,i){n=es(i,n),n=Bd(e,n,1),e=kr(e,n,1),n=Gt(),e!==null&&(co(e,1,n),sn(e,n))}function ut(e,n,i){if(e.tag===3)Cf(e,e,i);else for(;n!==null;){if(n.tag===3){Cf(n,e,i);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Pr===null||!Pr.has(a))){e=es(i,e),e=Fd(n,e,1),n=kr(n,e,1),e=Gt(),n!==null&&(co(n,1,e),sn(n,e));break}}n=n.return}}function Fp(e,n,i){var a=e.pingCache;a!==null&&a.delete(n),n=Gt(),e.pingedLanes|=e.suspendedLanes&i,Nt===e&&(bt&i)===i&&(At===4||At===3&&(bt&130023424)===bt&&500>ht()-Du?oi(e,0):Ru|=i),sn(e,n)}function ih(e,n){n===0&&(e.mode&1?(n=bo,bo<<=1,!(bo&130023424)&&(bo=4194304)):n=1);var i=Gt();e=cr(e,n),e!==null&&(co(e,n,i),sn(e,i))}function jp(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),ih(e,i)}function Up(e,n){var i=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(J(314))}a!==null&&a.delete(n),ih(e,i)}var sh;sh=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||nn.current)tn=!0;else{if(!(e.lanes&i)&&!(n.flags&128))return tn=!1,Np(e,n,i);tn=!!(e.flags&131072)}else tn=!1,Je&&n.flags&1048576&&cd(n,pa,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;$o(e,n),e=n.pendingProps;var u=Ki(n,Ut.current);Xi(n,i),u=Iu(null,n,a,e,u,i);var f=Tu();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,rn(a)?(f=!0,ha(n)):f=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Eu(n),u.updater=Ua,n.stateNode=u,u._reactInternals=n,Ac(n,a,e,i),n=Ic(null,n,a,!0,f,i)):(n.tag=0,Je&&f&&hu(n),Wt(null,n,u,i),n=n.child),n;case 16:a=n.elementType;e:{switch($o(e,n),e=n.pendingProps,u=a._init,a=u(a._payload),n.type=a,u=n.tag=Vp(a),e=bn(a,e),u){case 0:n=Sc(null,n,a,e,i);break e;case 1:n=ff(null,n,a,e,i);break e;case 11:n=cf(null,n,a,e,i);break e;case 14:n=uf(null,n,a,bn(a.type,e),i);break e}throw Error(J(306,a,""))}return n;case 0:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:bn(a,u),Sc(e,n,a,u,i);case 1:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:bn(a,u),ff(e,n,a,u,i);case 3:e:{if(Vd(n),e===null)throw Error(J(387));a=n.pendingProps,f=n.memoizedState,u=f.element,pd(e,n),wa(n,a,null,i);var p=n.memoizedState;if(a=p.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){u=es(Error(J(423)),n),n=df(e,n,a,i,u);break e}else if(a!==u){u=es(Error(J(424)),n),n=df(e,n,a,i,u);break e}else for(fn=Lr(n.stateNode.containerInfo.firstChild),dn=n,Je=!0,Pn=null,i=hd(n,null,a,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(qi(),a===u){n=ur(e,n,i);break e}Wt(e,n,a,i)}n=n.child}return n;case 5:return xd(n),e===null&&yc(n),a=n.type,u=n.pendingProps,f=e!==null?e.memoizedProps:null,p=u.children,gc(a,u)?p=null:f!==null&&gc(a,f)&&(n.flags|=32),zd(e,n),Wt(e,n,p,i),n.child;case 6:return e===null&&yc(n),null;case 13:return Hd(e,n,i);case 4:return Cu(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=Ji(n,null,a,i):Wt(e,n,a,i),n.child;case 11:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:bn(a,u),cf(e,n,a,u,i);case 7:return Wt(e,n,n.pendingProps,i),n.child;case 8:return Wt(e,n,n.pendingProps.children,i),n.child;case 12:return Wt(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(a=n.type._context,u=n.pendingProps,f=n.memoizedProps,p=u.value,Ye(xa,a._currentValue),a._currentValue=p,f!==null)if(jn(f.value,p)){if(f.children===u.children&&!nn.current){n=ur(e,n,i);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var w=f.dependencies;if(w!==null){p=f.child;for(var m=w.firstContext;m!==null;){if(m.context===a){if(f.tag===1){m=or(-1,i&-i),m.tag=2;var g=f.updateQueue;if(g!==null){g=g.shared;var E=g.pending;E===null?m.next=m:(m.next=E.next,E.next=m),g.pending=m}}f.lanes|=i,m=f.alternate,m!==null&&(m.lanes|=i),Ec(f.return,i,n),w.lanes|=i;break}m=m.next}}else if(f.tag===10)p=f.type===n.type?null:f.child;else if(f.tag===18){if(p=f.return,p===null)throw Error(J(341));p.lanes|=i,w=p.alternate,w!==null&&(w.lanes|=i),Ec(p,i,n),p=f.sibling}else p=f.child;if(p!==null)p.return=f;else for(p=f;p!==null;){if(p===n){p=null;break}if(f=p.sibling,f!==null){f.return=p.return,p=f;break}p=p.return}f=p}Wt(e,n,u.children,i),n=n.child}return n;case 9:return u=n.type,a=n.pendingProps.children,Xi(n,i),u=Nn(u),a=a(u),n.flags|=1,Wt(e,n,a,i),n.child;case 14:return a=n.type,u=bn(a,n.pendingProps),u=bn(a.type,u),uf(e,n,a,u,i);case 15:return jd(e,n,n.type,n.pendingProps,i);case 17:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:bn(a,u),$o(e,n),n.tag=1,rn(a)?(e=!0,ha(n)):e=!1,Xi(n,i),Pd(n,a,u),Ac(n,a,u,i),Ic(null,n,a,!0,e,i);case 19:return Wd(e,n,i);case 22:return Ud(e,n,i)}throw Error(J(156,n.tag))};function oh(e,n){return b0(e,n)}function zp(e,n,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,i,a){return new zp(e,n,i,a)}function Pu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vp(e){if(typeof e=="function")return Pu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tu)return 11;if(e===nu)return 14}return 2}function Fr(e,n){var i=e.alternate;return i===null?(i=Sn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function na(e,n,i,a,u,f){var p=2;if(a=e,typeof e=="function")Pu(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case Oi:return ai(i.children,u,f,n);case eu:p=8,u|=8;break;case Yl:return e=Sn(12,i,n,u|2),e.elementType=Yl,e.lanes=f,e;case Xl:return e=Sn(13,i,n,u),e.elementType=Xl,e.lanes=f,e;case Ql:return e=Sn(19,i,n,u),e.elementType=Ql,e.lanes=f,e;case x0:return Ha(i,u,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case g0:p=10;break e;case p0:p=9;break e;case tu:p=11;break e;case nu:p=14;break e;case Sr:p=16,a=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return n=Sn(p,i,n,u),n.elementType=e,n.type=a,n.lanes=f,n}function ai(e,n,i,a){return e=Sn(7,e,a,n),e.lanes=i,e}function Ha(e,n,i,a){return e=Sn(22,e,a,n),e.elementType=x0,e.lanes=i,e.stateNode={isHidden:!1},e}function Ul(e,n,i){return e=Sn(6,e,null,n),e.lanes=i,e}function zl(e,n,i){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Hp(e,n,i,a,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cl(0),this.expirationTimes=Cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cl(0),this.identifierPrefix=a,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Bu(e,n,i,a,u,f,p,w,m){return e=new Hp(e,n,i,w,m),n===1?(n=1,f===!0&&(n|=8)):n=0,f=Sn(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eu(f),e}function Wp(e,n,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mi,key:a==null?null:""+a,children:e,containerInfo:n,implementation:i}}function ah(e){if(!e)return zr;e=e._reactInternals;e:{if(mi(e)!==e||e.tag!==1)throw Error(J(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(rn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(J(171))}if(e.tag===1){var i=e.type;if(rn(i))return ad(e,i,n)}return n}function lh(e,n,i,a,u,f,p,w,m){return e=Bu(i,a,!0,e,u,f,p,w,m),e.context=ah(null),i=e.current,a=Gt(),u=Br(i),f=or(a,u),f.callback=n??null,kr(i,f,u),e.current.lanes=u,co(e,u,a),sn(e,a),e}function Wa(e,n,i,a){var u=n.current,f=Gt(),p=Br(u);return i=ah(i),n.context===null?n.context=i:n.pendingContext=i,n=or(f,p),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=kr(u,n,p),e!==null&&(Fn(e,u,p,f),Ko(e,u,p)),p}function Ta(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Af(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Fu(e,n){Af(e,n),(e=e.alternate)&&Af(e,n)}function Gp(){return null}var ch=typeof reportError=="function"?reportError:function(e){console.error(e)};function ju(e){this._internalRoot=e}Ga.prototype.render=ju.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(J(409));Wa(e,n,null,null)};Ga.prototype.unmount=ju.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;di(function(){Wa(null,e,null,null)}),n[lr]=null}};function Ga(e){this._internalRoot=e}Ga.prototype.unstable_scheduleHydration=function(e){if(e){var n=U0();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Tr.length&&n!==0&&n<Tr[i].priority;i++);Tr.splice(i,0,e),i===0&&V0(e)}};function Uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ya(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vf(){}function Yp(e,n,i,a,u){if(u){if(typeof a=="function"){var f=a;a=function(){var g=Ta(p);f.call(g)}}var p=lh(n,a,e,0,null,!1,!1,"",vf);return e._reactRootContainer=p,e[lr]=p.current,qs(e.nodeType===8?e.parentNode:e),di(),p}for(;u=e.lastChild;)e.removeChild(u);if(typeof a=="function"){var w=a;a=function(){var g=Ta(m);w.call(g)}}var m=Bu(e,0,!1,null,null,!1,!1,"",vf);return e._reactRootContainer=m,e[lr]=m.current,qs(e.nodeType===8?e.parentNode:e),di(function(){Wa(n,m,i,a)}),m}function Xa(e,n,i,a,u){var f=i._reactRootContainer;if(f){var p=f;if(typeof u=="function"){var w=u;u=function(){var m=Ta(p);w.call(m)}}Wa(n,p,e,u)}else p=Yp(i,n,e,u,a);return Ta(p)}F0=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=Ds(n.pendingLanes);i!==0&&(su(n,i|1),sn(n,ht()),!(Me&6)&&(ts=ht()+500,Yr()))}break;case 13:di(function(){var a=cr(e,1);if(a!==null){var u=Gt();Fn(a,e,1,u)}}),Fu(e,1)}};ou=function(e){if(e.tag===13){var n=cr(e,134217728);if(n!==null){var i=Gt();Fn(n,e,134217728,i)}Fu(e,134217728)}};j0=function(e){if(e.tag===13){var n=Br(e),i=cr(e,n);if(i!==null){var a=Gt();Fn(i,e,n,a)}Fu(e,n)}};U0=function(){return Be};z0=function(e,n){var i=Be;try{return Be=e,n()}finally{Be=i}};ic=function(e,n,i){switch(n){case"input":if(ql(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var a=i[n];if(a!==e&&a.form===e.form){var u=Ba(a);if(!u)throw Error(J(90));w0(a),ql(a,u)}}}break;case"textarea":E0(e,i);break;case"select":n=i.value,n!=null&&Hi(e,!!i.multiple,n,!1)}};N0=bu;_0=di;var Xp={usingClientEntryPoint:!1,Events:[fo,Li,Ba,I0,T0,bu]},Ms={findFiberByHostInstance:ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qp={bundleType:Ms.bundleType,version:Ms.version,rendererPackageName:Ms.rendererPackageName,rendererConfig:Ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=R0(e),e===null?null:e.stateNode},findFiberByHostInstance:Ms.findFiberByHostInstance||Gp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wo.isDisabled&&Wo.supportsFiber)try{ba=Wo.inject(Qp),Jn=Wo}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xp;pn.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uu(n))throw Error(J(200));return Wp(e,n,null,i)};pn.createRoot=function(e,n){if(!Uu(e))throw Error(J(299));var i=!1,a="",u=ch;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=Bu(e,1,!1,null,null,i,!1,a,u),e[lr]=n.current,qs(e.nodeType===8?e.parentNode:e),new ju(n)};pn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=R0(n),e=e===null?null:e.stateNode,e};pn.flushSync=function(e){return di(e)};pn.hydrate=function(e,n,i){if(!Ya(n))throw Error(J(200));return Xa(null,e,n,!0,i)};pn.hydrateRoot=function(e,n,i){if(!Uu(e))throw Error(J(405));var a=i!=null&&i.hydratedSources||null,u=!1,f="",p=ch;if(i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),n=lh(n,null,e,1,i??null,u,!1,f,p),e[lr]=n.current,qs(e),a)for(e=0;e<a.length;e++)i=a[e],u=i._getVersion,u=u(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,u]:n.mutableSourceEagerHydrationData.push(i,u);return new Ga(n)};pn.render=function(e,n,i){if(!Ya(n))throw Error(J(200));return Xa(null,e,n,!1,i)};pn.unmountComponentAtNode=function(e){if(!Ya(e))throw Error(J(40));return e._reactRootContainer?(di(function(){Xa(null,null,e,!1,function(){e._reactRootContainer=null,e[lr]=null})}),!0):!1};pn.unstable_batchedUpdates=bu;pn.unstable_renderSubtreeIntoContainer=function(e,n,i,a){if(!Ya(i))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return Xa(e,n,i,!1,a)};pn.version="18.3.1-next-f1338f8080-20240426";function uh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uh)}catch(e){console.error(e)}}uh(),u0.exports=pn;var Zp=u0.exports,fh,Sf=Zp;fh=Sf.createRoot,Sf.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},oo.apply(this,arguments)}var Or;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Or||(Or={}));const If="popstate";function Kp(e){e===void 0&&(e={});function n(a,u){let{pathname:f,search:p,hash:w}=a.location;return Bc("",{pathname:f,search:p,hash:w},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(a,u){return typeof u=="string"?u:Na(u)}return Jp(n,i,null,e)}function gt(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function zu(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function qp(){return Math.random().toString(36).substr(2,8)}function Tf(e,n){return{usr:e.state,key:e.key,idx:n}}function Bc(e,n,i,a){return i===void 0&&(i=null),oo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?ss(n):n,{state:i,key:n&&n.key||a||qp()})}function Na(e){let{pathname:n="/",search:i="",hash:a=""}=e;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),a&&a!=="#"&&(n+=a.charAt(0)==="#"?a:"#"+a),n}function ss(e){let n={};if(e){let i=e.indexOf("#");i>=0&&(n.hash=e.substr(i),e=e.substr(0,i));let a=e.indexOf("?");a>=0&&(n.search=e.substr(a),e=e.substr(0,a)),e&&(n.pathname=e)}return n}function Jp(e,n,i,a){a===void 0&&(a={});let{window:u=document.defaultView,v5Compat:f=!1}=a,p=u.history,w=Or.Pop,m=null,g=E();g==null&&(g=0,p.replaceState(oo({},p.state,{idx:g}),""));function E(){return(p.state||{idx:null}).idx}function C(){w=Or.Pop;let z=E(),R=z==null?null:z-g;g=z,m&&m({action:w,location:B.location,delta:R})}function T(z,R){w=Or.Push;let O=Bc(B.location,z,R);g=E()+1;let _=Tf(O,g),P=B.createHref(O);try{p.pushState(_,"",P)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;u.location.assign(P)}f&&m&&m({action:w,location:B.location,delta:1})}function L(z,R){w=Or.Replace;let O=Bc(B.location,z,R);g=E();let _=Tf(O,g),P=B.createHref(O);p.replaceState(_,"",P),f&&m&&m({action:w,location:B.location,delta:0})}function k(z){let R=u.location.origin!=="null"?u.location.origin:u.location.href,O=typeof z=="string"?z:Na(z);return O=O.replace(/ $/,"%20"),gt(R,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,R)}let B={get action(){return w},get location(){return e(u,p)},listen(z){if(m)throw new Error("A history only accepts one active listener");return u.addEventListener(If,C),m=z,()=>{u.removeEventListener(If,C),m=null}},createHref(z){return n(u,z)},createURL:k,encodeLocation(z){let R=k(z);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:T,replace:L,go(z){return p.go(z)}};return B}var Nf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Nf||(Nf={}));function $p(e,n,i){return i===void 0&&(i="/"),ex(e,n,i)}function ex(e,n,i,a){let u=typeof n=="string"?ss(n):n,f=Vu(u.pathname||"/",i);if(f==null)return null;let p=dh(e);tx(p);let w=null;for(let m=0;w==null&&m<p.length;++m){let g=hx(f);w=ux(p[m],g)}return w}function dh(e,n,i,a){n===void 0&&(n=[]),i===void 0&&(i=[]),a===void 0&&(a="");let u=(f,p,w)=>{let m={relativePath:w===void 0?f.path||"":w,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};m.relativePath.startsWith("/")&&(gt(m.relativePath.startsWith(a),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(a.length));let g=jr([a,m.relativePath]),E=i.concat(m);f.children&&f.children.length>0&&(gt(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),dh(f.children,n,E,g)),!(f.path==null&&!f.index)&&n.push({path:g,score:lx(g,f.index),routesMeta:E})};return e.forEach((f,p)=>{var w;if(f.path===""||!((w=f.path)!=null&&w.includes("?")))u(f,p);else for(let m of hh(f.path))u(f,p,m)}),n}function hh(e){let n=e.split("/");if(n.length===0)return[];let[i,...a]=n,u=i.endsWith("?"),f=i.replace(/\?$/,"");if(a.length===0)return u?[f,""]:[f];let p=hh(a.join("/")),w=[];return w.push(...p.map(m=>m===""?f:[f,m].join("/"))),u&&w.push(...p),w.map(m=>e.startsWith("/")&&m===""?"/":m)}function tx(e){e.sort((n,i)=>n.score!==i.score?i.score-n.score:cx(n.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}const nx=/^:[\w-]+$/,rx=3,ix=2,sx=1,ox=10,ax=-2,_f=e=>e==="*";function lx(e,n){let i=e.split("/"),a=i.length;return i.some(_f)&&(a+=ax),n&&(a+=ix),i.filter(u=>!_f(u)).reduce((u,f)=>u+(nx.test(f)?rx:f===""?sx:ox),a)}function cx(e,n){return e.length===n.length&&e.slice(0,-1).every((a,u)=>a===n[u])?e[e.length-1]-n[n.length-1]:0}function ux(e,n,i){let{routesMeta:a}=e,u={},f="/",p=[];for(let w=0;w<a.length;++w){let m=a[w],g=w===a.length-1,E=f==="/"?n:n.slice(f.length)||"/",C=fx({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},E),T=m.route;if(!C)return null;Object.assign(u,C.params),p.push({params:u,pathname:jr([f,C.pathname]),pathnameBase:wx(jr([f,C.pathnameBase])),route:T}),C.pathnameBase!=="/"&&(f=jr([f,C.pathnameBase]))}return p}function fx(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,a]=dx(e.path,e.caseSensitive,e.end),u=n.match(i);if(!u)return null;let f=u[0],p=f.replace(/(.)\/+$/,"$1"),w=u.slice(1);return{params:a.reduce((g,E,C)=>{let{paramName:T,isOptional:L}=E;if(T==="*"){let B=w[C]||"";p=f.slice(0,f.length-B.length).replace(/(.)\/+$/,"$1")}const k=w[C];return L&&!k?g[T]=void 0:g[T]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:f,pathnameBase:p,pattern:e}}function dx(e,n,i){n===void 0&&(n=!1),i===void 0&&(i=!0),zu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],u="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,w,m)=>(a.push({paramName:w,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),u+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":e!==""&&e!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,n?void 0:"i"),a]}function hx(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return zu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function Vu(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,a=e.charAt(i);return a&&a!=="/"?null:e.slice(i)||"/"}const gx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,px=e=>gx.test(e);function xx(e,n){n===void 0&&(n="/");let{pathname:i,search:a="",hash:u=""}=typeof e=="string"?ss(e):e,f;if(i)if(px(i))f=i;else{if(i.includes("//")){let p=i;i=i.replace(/\/\/+/g,"/"),zu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(p+" -> "+i))}i.startsWith("/")?f=Mf(i.substring(1),"/"):f=Mf(i,n)}else f=n;return{pathname:f,search:yx(a),hash:Ex(u)}}function Mf(e,n){let i=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function Vl(e,n,i,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mx(e){return e.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function Hu(e,n){let i=mx(e);return n?i.map((a,u)=>u===i.length-1?a.pathname:a.pathnameBase):i.map(a=>a.pathnameBase)}function Wu(e,n,i,a){a===void 0&&(a=!1);let u;typeof e=="string"?u=ss(e):(u=oo({},e),gt(!u.pathname||!u.pathname.includes("?"),Vl("?","pathname","search",u)),gt(!u.pathname||!u.pathname.includes("#"),Vl("#","pathname","hash",u)),gt(!u.search||!u.search.includes("#"),Vl("#","search","hash",u)));let f=e===""||u.pathname==="",p=f?"/":u.pathname,w;if(p==null)w=i;else{let C=n.length-1;if(!a&&p.startsWith("..")){let T=p.split("/");for(;T[0]==="..";)T.shift(),C-=1;u.pathname=T.join("/")}w=C>=0?n[C]:"/"}let m=xx(u,w),g=p&&p!=="/"&&p.endsWith("/"),E=(f||p===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(g||E)&&(m.pathname+="/"),m}const jr=e=>e.join("/").replace(/\/\/+/g,"/"),wx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ex=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Cx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const gh=["post","put","patch","delete"];new Set(gh);const Ax=["get",...gh];new Set(Ax);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ao(){return ao=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},ao.apply(this,arguments)}const Gu=G.createContext(null),vx=G.createContext(null),Xr=G.createContext(null),Qa=G.createContext(null),hr=G.createContext({outlet:null,matches:[],isDataRoute:!1}),ph=G.createContext(null);function Sx(e,n){let{relative:i}=n===void 0?{}:n;os()||gt(!1);let{basename:a,navigator:u}=G.useContext(Xr),{hash:f,pathname:p,search:w}=mh(e,{relative:i}),m=p;return a!=="/"&&(m=p==="/"?a:jr([a,p])),u.createHref({pathname:m,search:w,hash:f})}function os(){return G.useContext(Qa)!=null}function go(){return os()||gt(!1),G.useContext(Qa).location}function xh(e){G.useContext(Xr).static||G.useLayoutEffect(e)}function as(){let{isDataRoute:e}=G.useContext(hr);return e?Bx():Ix()}function Ix(){os()||gt(!1);let e=G.useContext(Gu),{basename:n,future:i,navigator:a}=G.useContext(Xr),{matches:u}=G.useContext(hr),{pathname:f}=go(),p=JSON.stringify(Hu(u,i.v7_relativeSplatPath)),w=G.useRef(!1);return xh(()=>{w.current=!0}),G.useCallback(function(g,E){if(E===void 0&&(E={}),!w.current)return;if(typeof g=="number"){a.go(g);return}let C=Wu(g,JSON.parse(p),f,E.relative==="path");e==null&&n!=="/"&&(C.pathname=C.pathname==="/"?n:jr([n,C.pathname])),(E.replace?a.replace:a.push)(C,E.state,E)},[n,a,p,f,e])}function ls(){let{matches:e}=G.useContext(hr),n=e[e.length-1];return n?n.params:{}}function mh(e,n){let{relative:i}=n===void 0?{}:n,{future:a}=G.useContext(Xr),{matches:u}=G.useContext(hr),{pathname:f}=go(),p=JSON.stringify(Hu(u,a.v7_relativeSplatPath));return G.useMemo(()=>Wu(e,JSON.parse(p),f,i==="path"),[e,p,f,i])}function Tx(e,n){return Nx(e,n)}function Nx(e,n,i,a){os()||gt(!1);let{navigator:u}=G.useContext(Xr),{matches:f}=G.useContext(hr),p=f[f.length-1],w=p?p.params:{};p&&p.pathname;let m=p?p.pathnameBase:"/";p&&p.route;let g=go(),E;if(n){var C;let z=typeof n=="string"?ss(n):n;m==="/"||(C=z.pathname)!=null&&C.startsWith(m)||gt(!1),E=z}else E=g;let T=E.pathname||"/",L=T;if(m!=="/"){let z=m.replace(/^\//,"").split("/");L="/"+T.replace(/^\//,"").split("/").slice(z.length).join("/")}let k=$p(e,{pathname:L}),B=Dx(k&&k.map(z=>Object.assign({},z,{params:Object.assign({},w,z.params),pathname:jr([m,u.encodeLocation?u.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?m:jr([m,u.encodeLocation?u.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),f,i,a);return n&&B?G.createElement(Qa.Provider,{value:{location:ao({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:Or.Pop}},B):B}function _x(){let e=Px(),n=Cx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},n),i?G.createElement("pre",{style:u},i):null,null)}const Mx=G.createElement(_x,null);class Ox extends G.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,i){return i.location!==n.location||i.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:i.error,location:i.location,revalidation:n.revalidation||i.revalidation}}componentDidCatch(n,i){console.error("React Router caught the following error during render",n,i)}render(){return this.state.error!==void 0?G.createElement(hr.Provider,{value:this.props.routeContext},G.createElement(ph.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Rx(e){let{routeContext:n,match:i,children:a}=e,u=G.useContext(Gu);return u&&u.static&&u.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=i.route.id),G.createElement(hr.Provider,{value:n},a)}function Dx(e,n,i,a){var u;if(n===void 0&&(n=[]),i===void 0&&(i=null),a===void 0&&(a=null),e==null){var f;if(!i)return null;if(i.errors)e=i.matches;else if((f=a)!=null&&f.v7_partialHydration&&n.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let p=e,w=(u=i)==null?void 0:u.errors;if(w!=null){let E=p.findIndex(C=>C.route.id&&(w==null?void 0:w[C.route.id])!==void 0);E>=0||gt(!1),p=p.slice(0,Math.min(p.length,E+1))}let m=!1,g=-1;if(i&&a&&a.v7_partialHydration)for(let E=0;E<p.length;E++){let C=p[E];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(g=E),C.route.id){let{loaderData:T,errors:L}=i,k=C.route.loader&&T[C.route.id]===void 0&&(!L||L[C.route.id]===void 0);if(C.route.lazy||k){m=!0,g>=0?p=p.slice(0,g+1):p=[p[0]];break}}}return p.reduceRight((E,C,T)=>{let L,k=!1,B=null,z=null;i&&(L=w&&C.route.id?w[C.route.id]:void 0,B=C.route.errorElement||Mx,m&&(g<0&&T===0?(Fx("route-fallback"),k=!0,z=null):g===T&&(k=!0,z=C.route.hydrateFallbackElement||null)));let R=n.concat(p.slice(0,T+1)),O=()=>{let _;return L?_=B:k?_=z:C.route.Component?_=G.createElement(C.route.Component,null):C.route.element?_=C.route.element:_=E,G.createElement(Rx,{match:C,routeContext:{outlet:E,matches:R,isDataRoute:i!=null},children:_})};return i&&(C.route.ErrorBoundary||C.route.errorElement||T===0)?G.createElement(Ox,{location:i.location,revalidation:i.revalidation,component:B,error:L,children:O(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):O()},null)}var wh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(wh||{}),yh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(yh||{});function bx(e){let n=G.useContext(Gu);return n||gt(!1),n}function Lx(e){let n=G.useContext(vx);return n||gt(!1),n}function kx(e){let n=G.useContext(hr);return n||gt(!1),n}function Eh(e){let n=kx(),i=n.matches[n.matches.length-1];return i.route.id||gt(!1),i.route.id}function Px(){var e;let n=G.useContext(ph),i=Lx(),a=Eh();return n!==void 0?n:(e=i.errors)==null?void 0:e[a]}function Bx(){let{router:e}=bx(wh.UseNavigateStable),n=Eh(yh.UseNavigateStable),i=G.useRef(!1);return xh(()=>{i.current=!0}),G.useCallback(function(u,f){f===void 0&&(f={}),i.current&&(typeof u=="number"?e.navigate(u):e.navigate(u,ao({fromRouteId:n},f)))},[e,n])}const Of={};function Fx(e,n,i){Of[e]||(Of[e]=!0)}function jx(e,n){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ch(e){let{to:n,replace:i,state:a,relative:u}=e;os()||gt(!1);let{future:f,static:p}=G.useContext(Xr),{matches:w}=G.useContext(hr),{pathname:m}=go(),g=as(),E=Wu(n,Hu(w,f.v7_relativeSplatPath),m,u==="path"),C=JSON.stringify(E);return G.useEffect(()=>g(JSON.parse(C),{replace:i,state:a,relative:u}),[g,C,u,i,a]),null}function Ht(e){gt(!1)}function Ux(e){let{basename:n="/",children:i=null,location:a,navigationType:u=Or.Pop,navigator:f,static:p=!1,future:w}=e;os()&&gt(!1);let m=n.replace(/^\/*/,"/"),g=G.useMemo(()=>({basename:m,navigator:f,static:p,future:ao({v7_relativeSplatPath:!1},w)}),[m,w,f,p]);typeof a=="string"&&(a=ss(a));let{pathname:E="/",search:C="",hash:T="",state:L=null,key:k="default"}=a,B=G.useMemo(()=>{let z=Vu(E,m);return z==null?null:{location:{pathname:z,search:C,hash:T,state:L,key:k},navigationType:u}},[m,E,C,T,L,k,u]);return B==null?null:G.createElement(Xr.Provider,{value:g},G.createElement(Qa.Provider,{children:i,value:B}))}function zx(e){let{children:n,location:i}=e;return Tx(Fc(n),i)}new Promise(()=>{});function Fc(e,n){n===void 0&&(n=[]);let i=[];return G.Children.forEach(e,(a,u)=>{if(!G.isValidElement(a))return;let f=[...n,u];if(a.type===G.Fragment){i.push.apply(i,Fc(a.props.children,f));return}a.type!==Ht&&gt(!1),!a.props.index||!a.props.children||gt(!1);let p={id:a.props.id||f.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(p.children=Fc(a.props.children,f)),i.push(p)}),i}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},jc.apply(this,arguments)}function Vx(e,n){if(e==null)return{};var i={},a=Object.keys(e),u,f;for(f=0;f<a.length;f++)u=a[f],!(n.indexOf(u)>=0)&&(i[u]=e[u]);return i}function Hx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Wx(e,n){return e.button===0&&(!n||n==="_self")&&!Hx(e)}const Gx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Yx="6";try{window.__reactRouterVersion=Yx}catch{}const Xx="startTransition",Rf=Fg[Xx];function Qx(e){let{basename:n,children:i,future:a,window:u}=e,f=G.useRef();f.current==null&&(f.current=Kp({window:u,v5Compat:!0}));let p=f.current,[w,m]=G.useState({action:p.action,location:p.location}),{v7_startTransition:g}=a||{},E=G.useCallback(C=>{g&&Rf?Rf(()=>m(C)):m(C)},[m,g]);return G.useLayoutEffect(()=>p.listen(E),[p,E]),G.useEffect(()=>jx(a),[a]),G.createElement(Ux,{basename:n,children:i,location:w.location,navigationType:w.action,navigator:p,future:a})}const Zx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nt=G.forwardRef(function(n,i){let{onClick:a,relative:u,reloadDocument:f,replace:p,state:w,target:m,to:g,preventScrollReset:E,viewTransition:C}=n,T=Vx(n,Gx),{basename:L}=G.useContext(Xr),k,B=!1;if(typeof g=="string"&&Kx.test(g)&&(k=g,Zx))try{let _=new URL(window.location.href),P=g.startsWith("//")?new URL(_.protocol+g):new URL(g),Q=Vu(P.pathname,L);P.origin===_.origin&&Q!=null?g=Q+P.search+P.hash:B=!0}catch{}let z=Sx(g,{relative:u}),R=qx(g,{replace:p,state:w,target:m,preventScrollReset:E,relative:u,viewTransition:C});function O(_){a&&a(_),_.defaultPrevented||R(_)}return G.createElement("a",jc({},T,{href:k||z,onClick:B||f?a:O,ref:i,target:m}))});var Df;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Df||(Df={}));var bf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(bf||(bf={}));function qx(e,n){let{target:i,replace:a,state:u,preventScrollReset:f,relative:p,viewTransition:w}=n===void 0?{}:n,m=as(),g=go(),E=mh(e,{relative:p});return G.useCallback(C=>{if(Wx(C,i)){C.preventDefault();let T=a!==void 0?a:Na(g)===Na(E);m(e,{replace:T,state:u,preventScrollReset:f,relative:p,viewTransition:w})}},[g,m,E,a,u,i,e,f,p,w])}function Jx({event:e,priceLabel:n,availabilityLabel:i}){const a=e.flyerPreviewUrl||"https://via.placeholder.com/640x360?text=Event+Flyer";return S.jsxs("article",{className:"event-card",children:[S.jsx("div",{className:"event-flyer",children:S.jsx("img",{src:a,alt:`${e.title} flyer`})}),S.jsxs("div",{className:"event-card-body",children:[S.jsx("h3",{children:e.title}),S.jsx("p",{className:"event-meta",children:e.dateTime}),S.jsx("p",{className:"event-meta",children:e.venue}),S.jsxs("p",{className:"event-meta",children:["Price: ",n]}),S.jsxs("p",{className:`event-status ${i==="Sold Out"?"sold":"available"}`,children:["Status: ",i]}),S.jsx(nt,{className:"event-button",to:`/events/${e.id}`,children:"View Details"})]})]})}let Ah={events:[],ticketTypesByEventId:{}};const Uc=new Set;function hi(e){const n=e.map(a=>({id:a.id,title:a.title,description:a.description,dateTime:a.date_time,venue:a.venue,flyerPreviewUrl:a.flyer,status:a.status})),i={};e.forEach(a=>{i[a.id]=(a.ticket_types||[]).map(u=>({id:u.id,name:u.name,price:u.price,limit:u.limit,soldCount:u.sold_count}))}),Ah={events:n,ticketTypesByEventId:i},$x()}function $x(){Uc.forEach(e=>e())}const mt={getState(){return Ah},subscribe(e){return Uc.add(e),()=>Uc.delete(e)}},hn="/api";function fr(){const e=localStorage.getItem("accessToken");return e?{Authorization:`Bearer ${e}`}:{}}const gi=async()=>{const e=await fetch(`${hn}/events/`);if(!e.ok)throw new Error("Failed to fetch events");return e.json()},em=async e=>{const n=new FormData;n.append("event",e.eventUuid),n.append("ticket_type",e.ticketTypeUuid),n.append("full_name",e.attendee.fullName),n.append("email",e.attendee.email),n.append("age",e.attendee.age),n.append("phone",e.attendee.phone),n.append("quantity",e.quantity||1),e.attendee.pictureFile&&n.append("picture",e.attendee.pictureFile);const i=await fetch(`${hn}/tickets/initialize-payment/`,{method:"POST",body:n});if(!i.ok){const a=await i.json();throw console.error("Ticket creation error:",a),new Error("Failed to initialize payment")}return i.json()},tm=async e=>{const n=await fetch(`${hn}/tickets/verify-payment/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reference:e})});if(!n.ok)throw new Error("Payment verification failed");return n.json()},nm=async(e,n)=>{const i=await fetch(`${hn}/tickets/verify/?code=${e}&eventId=${n}`,{headers:{...fr()}});if(!i.ok)throw new Error("Invalid ticket");return i.json()},rm=async(e,n)=>{const i=await fetch(`${hn}/check-ins/`,{method:"POST",headers:{"Content-Type":"application/json",...fr()},body:JSON.stringify({ticket:e,checked_in_by:n})});if(!i.ok)throw new Error("Failed to check in");return i.json()},vh=async e=>{const n=await fetch(`${hn}/tickets/?event=${e}`,{headers:{...fr()}});if(!n.ok)throw new Error("Failed to fetch tickets");return n.json()},im=async()=>{const e=await fetch(`${hn}/tickets/`,{headers:{...fr()}});if(!e.ok)throw new Error("Failed to fetch tickets");return e.json()},sm=async(e,n="new")=>{const i=new FormData;i.append("title",e.title),i.append("date_time",e.dateTime),i.append("venue",e.venue),i.append("description",e.description||""),i.append("status",e.status),e.flyerFile&&i.append("flyer",e.flyerFile);const a=n==="new"?"POST":"PATCH",u=n==="new"?`${hn}/events/`:`${hn}/events/${e.id}/`,f={title:e.title,date_time:e.dateTime,venue:e.venue,description:e.description,status:e.status,ticket_types:e.ticket_types.map(m=>({id:m.id&&m.id.startsWith("tt-")?void 0:m.id,name:m.name,price:m.price,limit:m.limit}))},p=await fetch(u,{method:a,headers:{"Content-Type":"application/json",...fr()},body:JSON.stringify(f)});if(!p.ok)throw new Error("Failed to save event");const w=await p.json();if(e.flyerFile){const m=new FormData;m.append("flyer",e.flyerFile);const g=await fetch(`${hn}/events/${w.id}/`,{method:"PATCH",headers:{...fr()},body:m});return g.ok||console.error("Flyer upload failed"),g.json()}return w},om=async e=>{if(!(await fetch(`${hn}/events/${e}/`,{method:"DELETE",headers:{...fr()}})).ok)throw new Error("Failed to delete event");return!0},am=async(e,n)=>{const i=await fetch(`${hn}/events/${e}/`,{method:"PATCH",headers:{"Content-Type":"application/json",...fr()},body:JSON.stringify({status:n})});if(!i.ok)throw new Error("Failed to update status");return i.json()},lm=async e=>{const n=await fetch(`${hn}/tickets/${e}/resend-code/`,{method:"POST",headers:{...fr()}});if(!n.ok)throw new Error("Failed to resend code");return n.json()};function cm(){const{events:e,ticketTypesByEventId:n}=G.useSyncExternalStore(mt.subscribe,()=>mt.getState());G.useEffect(()=>{gi().then(a=>{hi(a)}).catch(a=>{console.error("Failed to load events",a)})},[]);const i=e.filter(a=>a.status==="published");return S.jsxs("section",{className:"page",children:[S.jsxs("header",{className:"page-header",children:[S.jsx("h2",{children:"Browse Events"}),S.jsx("p",{children:"Discover upcoming experiences and select an event to view details."})]}),S.jsx("div",{className:"event-grid",children:i.map(a=>{const u=n[a.id]||[],p=u.reduce((E,C)=>{const T=Math.max(C.limit-C.soldCount,0);return E+(T>0?1:0)},0)>0?"Available":"Sold Out",w=u.map(E=>E.price),m=w.length?Math.min(...w):0,g=m===0?"Free":`From $${m}`;return S.jsx(Jx,{event:a,priceLabel:g,availabilityLabel:p},a.id)})})]})}function um(){const{eventId:e}=ls(),{events:n,ticketTypesByEventId:i}=G.useSyncExternalStore(mt.subscribe,()=>mt.getState());G.useEffect(()=>{n.length===0&&gi().then(hi)},[n]);const a=n.find(g=>g.id===e),f=(a?i[a.id]||[]:[]).map(g=>g.price),p=f.length?Math.min(...f):0,w=p===0?"Free":`From $${p}`,m=(a==null?void 0:a.flyerPreviewUrl)||"https://via.placeholder.com/640x360?text=Event+Flyer";return a?S.jsx("section",{className:"page",children:S.jsxs("div",{className:"event-details",children:[S.jsx("div",{className:"event-details-flyer",children:S.jsx("img",{src:m,alt:`${a.title} flyer`})}),S.jsxs("div",{className:"event-details-body",children:[S.jsx("h2",{children:a.title}),S.jsx("p",{className:"event-meta",children:a.dateTime}),S.jsx("p",{className:"event-meta",children:a.venue}),S.jsxs("p",{className:"event-meta",children:["Price: ",w]}),S.jsx("p",{className:"event-description",children:a.description}),S.jsx(nt,{className:"event-button",to:`/checkout/${a.id}`,children:"Buy Ticket"}),S.jsx(nt,{className:"event-link",to:"/",children:"Back to Events"})]})]})}):S.jsxs("section",{className:"page",children:[S.jsxs("header",{className:"page-header",children:[S.jsx("h2",{children:"Event Not Found"}),S.jsx("p",{children:"The event you are looking for does not exist."})]}),S.jsx(nt,{className:"event-button",to:"/",children:"Back to Events"})]})}let Tn={tickets:[],smsOutbox:[],checkIns:[]};const zc=new Set;function Za(){zc.forEach(e=>e())}const Vr={getState(){return Tn},subscribe(e){return zc.add(e),()=>zc.delete(e)}};function fm(e){return Tn={...Tn,tickets:[...Tn.tickets,e]},Za(),e}function dm(e){return Tn={...Tn,tickets:[...Tn.tickets,...e]},Za(),e}function Sh(e){Tn={...Tn,tickets:e},Za()}function hm(e){return Tn={...Tn,checkIns:[...Tn.checkIns,e]},Za(),e}const gm=2*1024*1024;function Hl(e){return e===0?"Free":`$${e}`}function pm(){const{eventId:e}=ls(),n=as(),{events:i,ticketTypesByEventId:a}=G.useSyncExternalStore(mt.subscribe,()=>mt.getState()),u=i.find(te=>te.id===e),f=G.useMemo(()=>u?(a[u.id]||[]).map(Ke=>({...Ke,remaining:Math.max(Ke.limit-Ke.soldCount,0)})):[],[u,a]),[p,w]=G.useState(""),[m,g]=G.useState(""),[E,C]=G.useState(""),[T,L]=G.useState(""),[k,B]=G.useState(""),[z,R]=G.useState(null),[O,_]=G.useState(""),[P,Q]=G.useState(""),[Z,F]=G.useState(1),[X,Y]=G.useState(!1);if(!u)return S.jsxs("section",{className:"page",children:[S.jsxs("header",{className:"page-header",children:[S.jsx("h2",{children:"Event Not Found"}),S.jsx("p",{children:"The event you are looking for does not exist."})]}),S.jsx(nt,{className:"event-button",to:"/",children:"Back to Events"})]});const ae=f.find(te=>te.id===p),we=m.trim().length>0,ue=Number(E),Ee=Number.isFinite(ue)&&ue>0,W=T.replace(/\D/g,"").length>=7,Fe=k.trim().length>3&&k.includes("@"),ge=!!z&&P.length===0,re=Z>=1&&(ae?Z<=ae.remaining:!0),fe=!!ae&&we&&Ee&&W&&Fe&&ge&&re&&!X,pe=te=>{var Un;const Ke=(Un=te.files)==null?void 0:Un[0];if(!Ke){R(null),_(""),Q("Picture is required.");return}if(!Ke.type.startsWith("image/")){R(null),_(""),Q("Please upload an image file.");return}if(Ke.size>gm){R(null),_(""),Q("Image must be 2MB or smaller.");return}R(Ke),Q("");const Le=new FileReader;Le.onload=()=>{const le=typeof Le.result=="string"?Le.result:"";_(le)},Le.readAsDataURL(Ke)},je=async()=>{if(fe){Y(!0);try{const te=await em({eventUuid:u.id,ticketTypeUuid:p,attendee:{fullName:m.trim(),email:k.trim(),age:ue,phone:T.trim(),pictureFile:z},quantity:Z});if(te.status==="paid"&&te.tickets){dm(te.tickets),n(`/ticket/success/${te.tickets[0].id}`);return}if(te.authorization_url){window.location.href=te.authorization_url;return}throw new Error("Payment initialization failed")}catch(te){console.error("Payment/Checkout failed",te),Y(!1)}}};return S.jsxs("section",{className:"page",children:[S.jsxs("header",{className:"page-header",children:[S.jsx("h2",{children:"Checkout"}),S.jsx("p",{children:"Confirm your event and provide attendee details."})]}),S.jsxs("div",{className:"checkout-grid",children:[S.jsxs("section",{className:"checkout-card",children:[S.jsx("h3",{children:"Event Summary"}),S.jsx("p",{className:"event-meta",children:u.title}),S.jsx("p",{className:"event-meta",children:u.dateTime}),S.jsx("p",{className:"event-meta",children:u.venue})]}),S.jsxs("section",{className:"checkout-card",children:[S.jsx("h3",{children:"Ticket Type"}),S.jsx("div",{className:"ticket-list",children:f.map(te=>S.jsxs("label",{className:`ticket-option ${te.remaining===0?"disabled":""}`,children:[S.jsx("input",{type:"radio",name:"ticketType",value:te.id,checked:p===te.id,onChange:()=>w(te.id),disabled:te.remaining===0}),S.jsxs("div",{children:[S.jsx("p",{className:"ticket-title",children:te.name}),S.jsxs("p",{className:"event-meta",children:["Price: ",Hl(te.price)]}),S.jsxs("p",{className:"event-meta",children:["Remaining: ",te.remaining," / ",te.limit]}),S.jsxs("p",{className:"event-meta",children:["Status: ",te.remaining===0?"Sold Out":"Available"]})]})]},te.id))})]}),S.jsxs("section",{className:"checkout-card",children:[S.jsx("h3",{children:"Attendee Details"}),S.jsxs("form",{className:"attendee-form",children:[S.jsxs("label",{className:"form-field",children:["Full Name",S.jsx("input",{type:"text",value:m,onChange:te=>g(te.target.value),required:!0}),!we&&S.jsx("span",{className:"form-error",children:"Full name is required."})]}),S.jsxs("label",{className:"form-field",children:["Age",S.jsx("input",{type:"number",value:E,onChange:te=>C(te.target.value),required:!0}),!Ee&&S.jsx("span",{className:"form-error",children:"Enter a valid age."})]}),S.jsxs("label",{className:"form-field",children:["Phone Number",S.jsx("input",{type:"text",value:T,onChange:te=>L(te.target.value),required:!0}),!W&&S.jsx("span",{className:"form-error",children:"Enter a valid phone number."})]}),S.jsxs("label",{className:"form-field",children:["Email",S.jsx("input",{type:"email",value:k,onChange:te=>B(te.target.value),required:!0}),!Fe&&S.jsx("span",{className:"form-error",children:"Enter a valid email."})]}),S.jsxs("label",{className:"form-field",children:["Picture Upload",S.jsx("input",{type:"file",accept:"image/*",onChange:te=>pe(te.target),required:!0}),P&&S.jsx("span",{className:"form-error",children:P}),O&&S.jsx("div",{className:"image-preview",children:S.jsx("img",{src:O,alt:"Attendee preview"})})]})]})]}),S.jsxs("section",{className:"checkout-card",children:[S.jsx("h3",{children:"Order Details"}),S.jsx("div",{className:"attendee-form",children:S.jsxs("label",{className:"form-field",children:["Quantity",S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[S.jsx("button",{type:"button",className:"event-button",style:{width:"40px",padding:"8px"},onClick:()=>F(te=>Math.max(1,te-1)),children:"-"}),S.jsx("input",{type:"number",value:Z,onChange:te=>F(Math.max(1,parseInt(te.target.value)||1)),style:{textAlign:"center",width:"60px"}}),S.jsx("button",{type:"button",className:"event-button",style:{width:"40px",padding:"8px"},onClick:()=>F(te=>Math.min((ae==null?void 0:ae.remaining)||1,te+1)),children:"+"})]}),ae&&Z>ae.remaining&&S.jsxs("span",{className:"form-error",children:["Only ",ae.remaining," left."]})]})}),S.jsxs("div",{style:{marginTop:"20px",borderTop:"1px solid #333",paddingTop:"12px"},children:[S.jsxs("p",{className:"event-meta",children:["Ticket Price: ",ae?Hl(ae.price):"-"]}),S.jsxs("p",{className:"event-meta",children:["Quantity: ",Z]}),S.jsx("p",{className:"event-meta",children:S.jsxs("strong",{children:["Total: ",ae?Hl(ae.price*Z):"-"]})})]})]}),S.jsxs("section",{className:"checkout-actions",children:[S.jsx("button",{className:"event-button",type:"button",onClick:je,disabled:!fe,children:X?"Processing...":"Proceed to Payment"}),S.jsx(nt,{className:"event-link",to:`/events/${u.id}`,children:"Back to Event Details"})]})]})]})}function xm(){const e=as(),[n,i]=G.useState("idle"),[a,u]=G.useState("");return G.useEffect(()=>{const p=new URLSearchParams(window.location.search).get("reference");if(!p){i("error"),u("Missing payment reference.");return}i("verifying"),tm(p).then(w=>{w.ticket?(fm(w.ticket),e(`/ticket/success/${w.ticket.id}`)):(i("error"),u("Payment verified but ticket missing."))}).catch(()=>{i("error"),u("Payment verification failed.")})},[e]),S.jsxs("section",{className:"page",children:[S.jsxs("header",{className:"page-header",children:[S.jsx("h2",{children:"Payment Verification"}),S.jsxs("p",{children:[n==="verifying"&&"Verifying payment...",n==="idle"&&"Waiting for payment reference.",n==="error"&&a]})]}),S.jsx(nt,{className:"event-button",to:"/",children:"Back to Events"})]})}var mm=Object.defineProperty,_a=Object.getOwnPropertySymbols,Ih=Object.prototype.hasOwnProperty,Th=Object.prototype.propertyIsEnumerable,Lf=(e,n,i)=>n in e?mm(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,Vc=(e,n)=>{for(var i in n||(n={}))Ih.call(n,i)&&Lf(e,i,n[i]);if(_a)for(var i of _a(n))Th.call(n,i)&&Lf(e,i,n[i]);return e},Hc=(e,n)=>{var i={};for(var a in e)Ih.call(e,a)&&n.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&_a)for(var a of _a(e))n.indexOf(a)<0&&Th.call(e,a)&&(i[a]=e[a]);return i};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var pi;(e=>{const n=class ve{constructor(m,g,E,C){if(this.version=m,this.errorCorrectionLevel=g,this.modules=[],this.isFunction=[],m<ve.MIN_VERSION||m>ve.MAX_VERSION)throw new RangeError("Version value out of range");if(C<-1||C>7)throw new RangeError("Mask value out of range");this.size=m*4+17;let T=[];for(let k=0;k<this.size;k++)T.push(!1);for(let k=0;k<this.size;k++)this.modules.push(T.slice()),this.isFunction.push(T.slice());this.drawFunctionPatterns();const L=this.addEccAndInterleave(E);if(this.drawCodewords(L),C==-1){let k=1e9;for(let B=0;B<8;B++){this.applyMask(B),this.drawFormatBits(B);const z=this.getPenaltyScore();z<k&&(C=B,k=z),this.applyMask(B)}}u(0<=C&&C<=7),this.mask=C,this.applyMask(C),this.drawFormatBits(C),this.isFunction=[]}static encodeText(m,g){const E=e.QrSegment.makeSegments(m);return ve.encodeSegments(E,g)}static encodeBinary(m,g){const E=e.QrSegment.makeBytes(m);return ve.encodeSegments([E],g)}static encodeSegments(m,g,E=1,C=40,T=-1,L=!0){if(!(ve.MIN_VERSION<=E&&E<=C&&C<=ve.MAX_VERSION)||T<-1||T>7)throw new RangeError("Invalid value");let k,B;for(k=E;;k++){const _=ve.getNumDataCodewords(k,g)*8,P=p.getTotalBits(m,k);if(P<=_){B=P;break}if(k>=C)throw new RangeError("Data too long")}for(const _ of[ve.Ecc.MEDIUM,ve.Ecc.QUARTILE,ve.Ecc.HIGH])L&&B<=ve.getNumDataCodewords(k,_)*8&&(g=_);let z=[];for(const _ of m){i(_.mode.modeBits,4,z),i(_.numChars,_.mode.numCharCountBits(k),z);for(const P of _.getData())z.push(P)}u(z.length==B);const R=ve.getNumDataCodewords(k,g)*8;u(z.length<=R),i(0,Math.min(4,R-z.length),z),i(0,(8-z.length%8)%8,z),u(z.length%8==0);for(let _=236;z.length<R;_^=253)i(_,8,z);let O=[];for(;O.length*8<z.length;)O.push(0);return z.forEach((_,P)=>O[P>>>3]|=_<<7-(P&7)),new ve(k,g,O,T)}getModule(m,g){return 0<=m&&m<this.size&&0<=g&&g<this.size&&this.modules[g][m]}getModules(){return this.modules}drawFunctionPatterns(){for(let E=0;E<this.size;E++)this.setFunctionModule(6,E,E%2==0),this.setFunctionModule(E,6,E%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const m=this.getAlignmentPatternPositions(),g=m.length;for(let E=0;E<g;E++)for(let C=0;C<g;C++)E==0&&C==0||E==0&&C==g-1||E==g-1&&C==0||this.drawAlignmentPattern(m[E],m[C]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(m){const g=this.errorCorrectionLevel.formatBits<<3|m;let E=g;for(let T=0;T<10;T++)E=E<<1^(E>>>9)*1335;const C=(g<<10|E)^21522;u(C>>>15==0);for(let T=0;T<=5;T++)this.setFunctionModule(8,T,a(C,T));this.setFunctionModule(8,7,a(C,6)),this.setFunctionModule(8,8,a(C,7)),this.setFunctionModule(7,8,a(C,8));for(let T=9;T<15;T++)this.setFunctionModule(14-T,8,a(C,T));for(let T=0;T<8;T++)this.setFunctionModule(this.size-1-T,8,a(C,T));for(let T=8;T<15;T++)this.setFunctionModule(8,this.size-15+T,a(C,T));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let m=this.version;for(let E=0;E<12;E++)m=m<<1^(m>>>11)*7973;const g=this.version<<12|m;u(g>>>18==0);for(let E=0;E<18;E++){const C=a(g,E),T=this.size-11+E%3,L=Math.floor(E/3);this.setFunctionModule(T,L,C),this.setFunctionModule(L,T,C)}}drawFinderPattern(m,g){for(let E=-4;E<=4;E++)for(let C=-4;C<=4;C++){const T=Math.max(Math.abs(C),Math.abs(E)),L=m+C,k=g+E;0<=L&&L<this.size&&0<=k&&k<this.size&&this.setFunctionModule(L,k,T!=2&&T!=4)}}drawAlignmentPattern(m,g){for(let E=-2;E<=2;E++)for(let C=-2;C<=2;C++)this.setFunctionModule(m+C,g+E,Math.max(Math.abs(C),Math.abs(E))!=1)}setFunctionModule(m,g,E){this.modules[g][m]=E,this.isFunction[g][m]=!0}addEccAndInterleave(m){const g=this.version,E=this.errorCorrectionLevel;if(m.length!=ve.getNumDataCodewords(g,E))throw new RangeError("Invalid argument");const C=ve.NUM_ERROR_CORRECTION_BLOCKS[E.ordinal][g],T=ve.ECC_CODEWORDS_PER_BLOCK[E.ordinal][g],L=Math.floor(ve.getNumRawDataModules(g)/8),k=C-L%C,B=Math.floor(L/C);let z=[];const R=ve.reedSolomonComputeDivisor(T);for(let _=0,P=0;_<C;_++){let Q=m.slice(P,P+B-T+(_<k?0:1));P+=Q.length;const Z=ve.reedSolomonComputeRemainder(Q,R);_<k&&Q.push(0),z.push(Q.concat(Z))}let O=[];for(let _=0;_<z[0].length;_++)z.forEach((P,Q)=>{(_!=B-T||Q>=k)&&O.push(P[_])});return u(O.length==L),O}drawCodewords(m){if(m.length!=Math.floor(ve.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let g=0;for(let E=this.size-1;E>=1;E-=2){E==6&&(E=5);for(let C=0;C<this.size;C++)for(let T=0;T<2;T++){const L=E-T,B=(E+1&2)==0?this.size-1-C:C;!this.isFunction[B][L]&&g<m.length*8&&(this.modules[B][L]=a(m[g>>>3],7-(g&7)),g++)}}u(g==m.length*8)}applyMask(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(let g=0;g<this.size;g++)for(let E=0;E<this.size;E++){let C;switch(m){case 0:C=(E+g)%2==0;break;case 1:C=g%2==0;break;case 2:C=E%3==0;break;case 3:C=(E+g)%3==0;break;case 4:C=(Math.floor(E/3)+Math.floor(g/2))%2==0;break;case 5:C=E*g%2+E*g%3==0;break;case 6:C=(E*g%2+E*g%3)%2==0;break;case 7:C=((E+g)%2+E*g%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[g][E]&&C&&(this.modules[g][E]=!this.modules[g][E])}}getPenaltyScore(){let m=0;for(let T=0;T<this.size;T++){let L=!1,k=0,B=[0,0,0,0,0,0,0];for(let z=0;z<this.size;z++)this.modules[T][z]==L?(k++,k==5?m+=ve.PENALTY_N1:k>5&&m++):(this.finderPenaltyAddHistory(k,B),L||(m+=this.finderPenaltyCountPatterns(B)*ve.PENALTY_N3),L=this.modules[T][z],k=1);m+=this.finderPenaltyTerminateAndCount(L,k,B)*ve.PENALTY_N3}for(let T=0;T<this.size;T++){let L=!1,k=0,B=[0,0,0,0,0,0,0];for(let z=0;z<this.size;z++)this.modules[z][T]==L?(k++,k==5?m+=ve.PENALTY_N1:k>5&&m++):(this.finderPenaltyAddHistory(k,B),L||(m+=this.finderPenaltyCountPatterns(B)*ve.PENALTY_N3),L=this.modules[z][T],k=1);m+=this.finderPenaltyTerminateAndCount(L,k,B)*ve.PENALTY_N3}for(let T=0;T<this.size-1;T++)for(let L=0;L<this.size-1;L++){const k=this.modules[T][L];k==this.modules[T][L+1]&&k==this.modules[T+1][L]&&k==this.modules[T+1][L+1]&&(m+=ve.PENALTY_N2)}let g=0;for(const T of this.modules)g=T.reduce((L,k)=>L+(k?1:0),g);const E=this.size*this.size,C=Math.ceil(Math.abs(g*20-E*10)/E)-1;return u(0<=C&&C<=9),m+=C*ve.PENALTY_N4,u(0<=m&&m<=2568888),m}getAlignmentPatternPositions(){if(this.version==1)return[];{const m=Math.floor(this.version/7)+2,g=this.version==32?26:Math.ceil((this.version*4+4)/(m*2-2))*2;let E=[6];for(let C=this.size-7;E.length<m;C-=g)E.splice(1,0,C);return E}}static getNumRawDataModules(m){if(m<ve.MIN_VERSION||m>ve.MAX_VERSION)throw new RangeError("Version number out of range");let g=(16*m+128)*m+64;if(m>=2){const E=Math.floor(m/7)+2;g-=(25*E-10)*E-55,m>=7&&(g-=36)}return u(208<=g&&g<=29648),g}static getNumDataCodewords(m,g){return Math.floor(ve.getNumRawDataModules(m)/8)-ve.ECC_CODEWORDS_PER_BLOCK[g.ordinal][m]*ve.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][m]}static reedSolomonComputeDivisor(m){if(m<1||m>255)throw new RangeError("Degree out of range");let g=[];for(let C=0;C<m-1;C++)g.push(0);g.push(1);let E=1;for(let C=0;C<m;C++){for(let T=0;T<g.length;T++)g[T]=ve.reedSolomonMultiply(g[T],E),T+1<g.length&&(g[T]^=g[T+1]);E=ve.reedSolomonMultiply(E,2)}return g}static reedSolomonComputeRemainder(m,g){let E=g.map(C=>0);for(const C of m){const T=C^E.shift();E.push(0),g.forEach((L,k)=>E[k]^=ve.reedSolomonMultiply(L,T))}return E}static reedSolomonMultiply(m,g){if(m>>>8||g>>>8)throw new RangeError("Byte out of range");let E=0;for(let C=7;C>=0;C--)E=E<<1^(E>>>7)*285,E^=(g>>>C&1)*m;return u(E>>>8==0),E}finderPenaltyCountPatterns(m){const g=m[1];u(g<=this.size*3);const E=g>0&&m[2]==g&&m[3]==g*3&&m[4]==g&&m[5]==g;return(E&&m[0]>=g*4&&m[6]>=g?1:0)+(E&&m[6]>=g*4&&m[0]>=g?1:0)}finderPenaltyTerminateAndCount(m,g,E){return m&&(this.finderPenaltyAddHistory(g,E),g=0),g+=this.size,this.finderPenaltyAddHistory(g,E),this.finderPenaltyCountPatterns(E)}finderPenaltyAddHistory(m,g){g[0]==0&&(m+=this.size),g.pop(),g.unshift(m)}};n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function i(w,m,g){if(m<0||m>31||w>>>m)throw new RangeError("Value out of range");for(let E=m-1;E>=0;E--)g.push(w>>>E&1)}function a(w,m){return(w>>>m&1)!=0}function u(w){if(!w)throw new Error("Assertion error")}const f=class lt{constructor(m,g,E){if(this.mode=m,this.numChars=g,this.bitData=E,g<0)throw new RangeError("Invalid argument");this.bitData=E.slice()}static makeBytes(m){let g=[];for(const E of m)i(E,8,g);return new lt(lt.Mode.BYTE,m.length,g)}static makeNumeric(m){if(!lt.isNumeric(m))throw new RangeError("String contains non-numeric characters");let g=[];for(let E=0;E<m.length;){const C=Math.min(m.length-E,3);i(parseInt(m.substring(E,E+C),10),C*3+1,g),E+=C}return new lt(lt.Mode.NUMERIC,m.length,g)}static makeAlphanumeric(m){if(!lt.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");let g=[],E;for(E=0;E+2<=m.length;E+=2){let C=lt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(E))*45;C+=lt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(E+1)),i(C,11,g)}return E<m.length&&i(lt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(E)),6,g),new lt(lt.Mode.ALPHANUMERIC,m.length,g)}static makeSegments(m){return m==""?[]:lt.isNumeric(m)?[lt.makeNumeric(m)]:lt.isAlphanumeric(m)?[lt.makeAlphanumeric(m)]:[lt.makeBytes(lt.toUtf8ByteArray(m))]}static makeEci(m){let g=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)i(m,8,g);else if(m<16384)i(2,2,g),i(m,14,g);else if(m<1e6)i(6,3,g),i(m,21,g);else throw new RangeError("ECI assignment value out of range");return new lt(lt.Mode.ECI,0,g)}static isNumeric(m){return lt.NUMERIC_REGEX.test(m)}static isAlphanumeric(m){return lt.ALPHANUMERIC_REGEX.test(m)}getData(){return this.bitData.slice()}static getTotalBits(m,g){let E=0;for(const C of m){const T=C.mode.numCharCountBits(g);if(C.numChars>=1<<T)return 1/0;E+=4+T+C.bitData.length}return E}static toUtf8ByteArray(m){m=encodeURI(m);let g=[];for(let E=0;E<m.length;E++)m.charAt(E)!="%"?g.push(m.charCodeAt(E)):(g.push(parseInt(m.substring(E+1,E+3),16)),E+=2);return g}};f.NUMERIC_REGEX=/^[0-9]*$/,f.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,f.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let p=f;e.QrSegment=f})(pi||(pi={}));(e=>{(n=>{const i=class{constructor(u,f){this.ordinal=u,this.formatBits=f}};i.LOW=new i(0,1),i.MEDIUM=new i(1,0),i.QUARTILE=new i(2,3),i.HIGH=new i(3,2),n.Ecc=i})(e.QrCode||(e.QrCode={}))})(pi||(pi={}));(e=>{(n=>{const i=class{constructor(u,f){this.modeBits=u,this.numBitsCharCount=f}numCharCountBits(u){return this.numBitsCharCount[Math.floor((u+7)/17)]}};i.NUMERIC=new i(1,[10,12,14]),i.ALPHANUMERIC=new i(2,[9,11,13]),i.BYTE=new i(4,[8,16,16]),i.KANJI=new i(8,[8,10,12]),i.ECI=new i(7,[0,0,0]),n.Mode=i})(e.QrSegment||(e.QrSegment={}))})(pi||(pi={}));var zi=pi;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var wm={L:zi.QrCode.Ecc.LOW,M:zi.QrCode.Ecc.MEDIUM,Q:zi.QrCode.Ecc.QUARTILE,H:zi.QrCode.Ecc.HIGH},Nh=128,_h="L",Mh="#FFFFFF",Oh="#000000",Rh=!1,Dh=1,ym=4,Em=0,Cm=.1;function bh(e,n=0){const i=[];return e.forEach(function(a,u){let f=null;a.forEach(function(p,w){if(!p&&f!==null){i.push(`M${f+n} ${u+n}h${w-f}v1H${f+n}z`),f=null;return}if(w===a.length-1){if(!p)return;f===null?i.push(`M${w+n},${u+n} h1v1H${w+n}z`):i.push(`M${f+n},${u+n} h${w+1-f}v1H${f+n}z`);return}p&&f===null&&(f=w)})}),i.join("")}function Lh(e,n){return e.slice().map((i,a)=>a<n.y||a>=n.y+n.h?i:i.map((u,f)=>f<n.x||f>=n.x+n.w?u:!1))}function Am(e,n,i,a){if(a==null)return null;const u=e.length+i*2,f=Math.floor(n*Cm),p=u/n,w=(a.width||f)*p,m=(a.height||f)*p,g=a.x==null?e.length/2-w/2:a.x*p,E=a.y==null?e.length/2-m/2:a.y*p,C=a.opacity==null?1:a.opacity;let T=null;if(a.excavate){let k=Math.floor(g),B=Math.floor(E),z=Math.ceil(w+g-k),R=Math.ceil(m+E-B);T={x:k,y:B,w:z,h:R}}const L=a.crossOrigin;return{x:g,y:E,h:m,w,excavation:T,opacity:C,crossOrigin:L}}function vm(e,n){return n!=null?Math.max(Math.floor(n),0):e?ym:Em}function kh({value:e,level:n,minVersion:i,includeMargin:a,marginSize:u,imageSettings:f,size:p,boostLevel:w}){let m=dt.useMemo(()=>{const k=(Array.isArray(e)?e:[e]).reduce((B,z)=>(B.push(...zi.QrSegment.makeSegments(z)),B),[]);return zi.QrCode.encodeSegments(k,wm[n],i,void 0,void 0,w)},[e,n,i,w]);const{cells:g,margin:E,numCells:C,calculatedImageSettings:T}=dt.useMemo(()=>{let L=m.getModules();const k=vm(a,u),B=L.length+k*2,z=Am(L,p,k,f);return{cells:L,margin:k,numCells:B,calculatedImageSettings:z}},[m,p,f,a,u]);return{qrcode:m,margin:E,cells:g,numCells:C,calculatedImageSettings:T}}var Sm=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Ph=dt.forwardRef(function(n,i){const a=n,{value:u,size:f=Nh,level:p=_h,bgColor:w=Mh,fgColor:m=Oh,includeMargin:g=Rh,minVersion:E=Dh,boostLevel:C,marginSize:T,imageSettings:L}=a,B=Hc(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:z}=B,R=Hc(B,["style"]),O=L==null?void 0:L.src,_=dt.useRef(null),P=dt.useRef(null),Q=dt.useCallback(be=>{_.current=be,typeof i=="function"?i(be):i&&(i.current=be)},[i]),[Z,F]=dt.useState(!1),{margin:X,cells:Y,numCells:ae,calculatedImageSettings:we}=kh({value:u,level:p,minVersion:E,boostLevel:C,includeMargin:g,marginSize:T,imageSettings:L,size:f});dt.useEffect(()=>{if(_.current!=null){const be=_.current,W=be.getContext("2d");if(!W)return;let Fe=Y;const ge=P.current,re=we!=null&&ge!==null&&ge.complete&&ge.naturalHeight!==0&&ge.naturalWidth!==0;re&&we.excavation!=null&&(Fe=Lh(Y,we.excavation));const fe=window.devicePixelRatio||1;be.height=be.width=f*fe;const pe=f/ae*fe;W.scale(pe,pe),W.fillStyle=w,W.fillRect(0,0,ae,ae),W.fillStyle=m,Sm?W.fill(new Path2D(bh(Fe,X))):Y.forEach(function(je,te){je.forEach(function(Ke,Le){Ke&&W.fillRect(Le+X,te+X,1,1)})}),we&&(W.globalAlpha=we.opacity),re&&W.drawImage(ge,we.x+X,we.y+X,we.w,we.h)}}),dt.useEffect(()=>{F(!1)},[O]);const ue=Vc({height:f,width:f},z);let Ee=null;return O!=null&&(Ee=dt.createElement("img",{src:O,key:O,style:{display:"none"},onLoad:()=>{F(!0)},ref:P,crossOrigin:we==null?void 0:we.crossOrigin})),dt.createElement(dt.Fragment,null,dt.createElement("canvas",Vc({style:ue,height:f,width:f,ref:Q,role:"img"},R)),Ee)});Ph.displayName="QRCodeCanvas";var Im=dt.forwardRef(function(n,i){const a=n,{value:u,size:f=Nh,level:p=_h,bgColor:w=Mh,fgColor:m=Oh,includeMargin:g=Rh,minVersion:E=Dh,boostLevel:C,title:T,marginSize:L,imageSettings:k}=a,B=Hc(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:z,cells:R,numCells:O,calculatedImageSettings:_}=kh({value:u,level:p,minVersion:E,boostLevel:C,includeMargin:g,marginSize:L,imageSettings:k,size:f});let P=R,Q=null;k!=null&&_!=null&&(_.excavation!=null&&(P=Lh(R,_.excavation)),Q=dt.createElement("image",{href:k.src,height:_.h,width:_.w,x:_.x+z,y:_.y+z,preserveAspectRatio:"none",opacity:_.opacity,crossOrigin:_.crossOrigin}));const Z=bh(P,z);return dt.createElement("svg",Vc({height:f,width:f,viewBox:`0 0 ${O} ${O}`,ref:i,role:"img"},B),!!T&&dt.createElement("title",null,T),dt.createElement("path",{fill:w,d:`M0,0 h${O}v${O}H0z`,shapeRendering:"crispEdges"}),dt.createElement("path",{fill:m,d:Z,shapeRendering:"crispEdges"}),Q)});Im.displayName="QRCodeSVG";function Tm(){const{ticketId:e}=ls(),[n,i]=G.useState(!1),a=G.useSyncExternalStore(Vr.subscribe,()=>Vr.getState().tickets.find(w=>w.id===e)),u=G.useSyncExternalStore(mt.subscribe,()=>mt.getState()),f=G.useMemo(()=>a&&u.events.find(w=>w.id===a.event)||null,[u.events,a]);G.useEffect(()=>{window.scrollTo(0,0)},[]);const p=async()=>{if(a!=null&&a.code)try{await navigator.clipboard.writeText(a.code),i(!0)}catch{i(!1)}};return a?S.jsxs("section",{className:"page",children:[S.jsxs("header",{className:"page-header",children:[S.jsx("h2",{children:" Ticket Confirmed!"}),S.jsx("p",{children:"Your registration is complete. Show the QR code at the venue for verification."})]}),S.jsxs("div",{className:"checkout-grid",children:[S.jsxs("section",{className:"checkout-card",children:[S.jsx("h3",{children:"Event Summary"}),S.jsx("p",{className:"event-meta",children:S.jsx("strong",{children:(f==null?void 0:f.title)||"Event"})}),S.jsx("p",{className:"event-meta",children:f==null?void 0:f.dateTime}),S.jsx("p",{className:"event-meta",children:f==null?void 0:f.venue})]}),S.jsxs("section",{className:"checkout-card",children:[S.jsx("h3",{children:"Attendee Summary"}),S.jsxs("p",{className:"event-meta",children:["Name: ",a.attendee.full_name]}),S.jsxs("p",{className:"event-meta",children:["Age: ",a.attendee.age]}),S.jsxs("p",{className:"event-meta",children:["Phone: ",a.attendee.phone]}),a.attendee.picture&&S.jsx("div",{className:"image-preview",style:{marginTop:"12px"},children:S.jsx("img",{src:a.attendee.picture,alt:"Attendee",style:{maxWidth:"150px",borderRadius:"4px"}})})]}),S.jsxs("section",{className:"checkout-card",style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[S.jsx("h3",{children:"Entry QR Code"}),S.jsx("div",{className:"qr-container",style:{padding:"20px",background:"white",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:S.jsx(Ph,{value:a.qr_value,size:200,level:"H",includeMargin:!0})}),S.jsx("p",{className:"event-meta",style:{marginTop:"16px"},children:S.jsxs("strong",{children:["Code: ",a.code]})}),S.jsx("button",{className:"event-button",type:"button",onClick:p,style:{width:"100%",marginTop:"12px"},children:n?"Code Copied":"Copy Ticket Code"})]})]}),S.jsx("div",{style:{marginTop:"24px",textAlign:"center"},children:S.jsx(nt,{className:"event-button",to:"/",children:"Return Home"})})]}):S.jsxs("section",{className:"page",children:[S.jsxs("header",{className:"page-header",children:[S.jsx("h2",{children:"Ticket Not Found"}),S.jsx("p",{children:"We couldn't find the ticket in your current session."})]}),S.jsx(nt,{className:"event-button",to:"/",children:"Back to Events"})]})}const kf=localStorage.getItem("accessToken")||"",Nm=localStorage.getItem("refreshToken")||"",_m=localStorage.getItem("adminEmail")||"admin",vn={isAuthed:!!kf,email:_m,accessToken:kf,refreshToken:Nm},Wc=new Set;function Yu(){Wc.forEach(e=>e())}const Ma={getState(){return vn},subscribe(e){return Wc.add(e),()=>Wc.delete(e)}};function Mm(e){vn.isAuthed=!0,vn.email=e||"admin",Yu()}function Om({access:e,refresh:n,email:i}){vn.isAuthed=!0,vn.accessToken=e,vn.refreshToken=n,vn.email=i||"admin",localStorage.setItem("accessToken",e),localStorage.setItem("refreshToken",n),localStorage.setItem("adminEmail",vn.email),Yu()}function Rm(){vn.isAuthed=!1,vn.email="admin",vn.accessToken="",vn.refreshToken="",localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("adminEmail"),Yu()}const Dm="/api";function bm(){const e=as(),[n,i]=G.useState(""),[a,u]=G.useState(""),f=async p=>{p.preventDefault();const w=n.trim();try{const m=await fetch(`${Dm}/auth/token/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:w,password:a})});if(!m.ok)throw new Error("Login failed");const g=await m.json();Om({access:g.access,refresh:g.refresh,email:w}),Mm(w),e("/admin/dashboard")}catch{alert("Invalid credentials")}};return S.jsxs("section",{className:"page",children:[S.jsxs("header",{className:"page-header",children:[S.jsx("h2",{children:"Admin Login"}),S.jsx("p",{children:"Simulated access for event organizers."})]}),S.jsxs("form",{className:"admin-form",onSubmit:f,children:[S.jsxs("label",{className:"form-field",children:["Email",S.jsx("input",{type:"email",value:n,onChange:p=>i(p.target.value),required:!0})]}),S.jsxs("label",{className:"form-field",children:["Password",S.jsx("input",{type:"password",value:a,onChange:p=>u(p.target.value),required:!0})]}),S.jsx("button",{className:"event-button",type:"submit",children:"Login"})]})]})}function Lm(){const[e,n]=G.useState([]),[i,a]=G.useState(!0),{events:u,ticketTypesByEventId:f}=G.useSyncExternalStore(mt.subscribe,()=>mt.getState());G.useEffect(()=>{Promise.all([gi().then(hi),im().then(n)]).finally(()=>a(!1))},[]);const p=G.useMemo(()=>{const m=e.length;let g=0,E=0;e.forEach(T=>{const k=(f[T.event]||[]).find(B=>B.id===T.ticket_type);k&&(g+=Number(k.price)),T.status==="checked_in"&&E++});const C=m>0?E/m*100:0;return{totalSold:m,totalRevenue:g,totalCheckedIn:E,checkInRate:C.toFixed(1),totalEvents:u.length}},[e,u,f]),w=()=>{Rm()};return i?S.jsx("section",{className:"page",children:S.jsx("p",{children:"Loading metrics..."})}):S.jsxs("section",{className:"page",children:[S.jsxs("header",{className:"page-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsxs("div",{children:[S.jsx("h2",{children:"Organizer Overview"}),S.jsx("p",{children:"Real-time analytics across all your events."})]}),S.jsx("div",{style:{display:"flex",gap:"10px"},children:S.jsx("button",{className:"event-button",type:"button",onClick:w,style:{marginTop:0},children:"Logout"})})]}),S.jsxs("div",{className:"stats-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"32px"},children:[S.jsxs("div",{className:"checkout-card",style:{textAlign:"center"},children:[S.jsx("h4",{style:{margin:"0 0 8px",color:"#666"},children:"Tickets Sold"}),S.jsx("div",{style:{fontSize:"32px",fontWeight:"bold"},children:p.totalSold})]}),S.jsxs("div",{className:"checkout-card",style:{textAlign:"center"},children:[S.jsx("h4",{style:{margin:"0 0 8px",color:"#666"},children:"Gross Revenue"}),S.jsxs("div",{style:{fontSize:"32px",fontWeight:"bold"},children:["$",p.totalRevenue.toLocaleString()]})]}),S.jsxs("div",{className:"checkout-card",style:{textAlign:"center"},children:[S.jsx("h4",{style:{margin:"0 0 8px",color:"#666"},children:"Checked In"}),S.jsx("div",{style:{fontSize:"32px",fontWeight:"bold"},children:p.totalCheckedIn}),S.jsxs("div",{style:{fontSize:"14px",color:"#2a6f2a"},children:[p.checkInRate,"% Arrival Rate"]})]}),S.jsxs("div",{className:"checkout-card",style:{textAlign:"center"},children:[S.jsx("h4",{style:{margin:"0 0 8px",color:"#666"},children:"Active Events"}),S.jsx("div",{style:{fontSize:"32px",fontWeight:"bold"},children:p.totalEvents})]})]}),S.jsxs("div",{className:"checkout-grid",style:{gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[S.jsxs("section",{className:"checkout-card",children:[S.jsx("h3",{children:"Quick Links"}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginTop:"16px"},children:[S.jsx(nt,{className:"event-button",to:"/admin/events",style:{marginTop:0,textAlign:"center"},children:" Manage All Events"}),S.jsx(nt,{className:"event-button",to:"/admin/verify",style:{marginTop:0,textAlign:"center"},children:" Launch Ticket Scanner"}),S.jsx(nt,{className:"event-button",to:"/admin/events/new",style:{marginTop:0,textAlign:"center",background:"#1f1f1f",color:"#fff"},children:" Create New Event"})]})]}),S.jsxs("section",{className:"checkout-card",children:[S.jsx("h3",{children:"Top Events by Sales"}),S.jsx("div",{style:{marginTop:"16px"},children:u.slice(0,5).map(m=>{const g=e.filter(C=>C.event===m.id),E=g.length>0?(g.filter(C=>C.status==="checked_in").length/g.length*100).toFixed(0):0;return S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid #eee"},children:[S.jsxs("div",{children:[S.jsx("div",{style:{fontWeight:"600"},children:m.title}),S.jsxs("div",{className:"event-meta",children:[g.length," sold"]})]}),S.jsxs("div",{style:{textAlign:"right"},children:[S.jsxs("div",{style:{fontWeight:"600"},children:[E,"%"]}),S.jsx("div",{className:"event-meta",style:{fontSize:"12px"},children:"Check-in"})]})]},m.id)})})]})]}),S.jsx("div",{style:{marginTop:"24px",textAlign:"center"},children:S.jsx(nt,{className:"event-link",to:"/",children:"Back to Public Storefront"})})]})}function km(){const{events:e}=G.useSyncExternalStore(mt.subscribe,()=>mt.getState()),n=()=>{gi().then(hi).catch(console.error)};G.useEffect(()=>{n()},[]);const i=async u=>{if(window.confirm("Are you sure you want to delete this event? This will remove all associated ticket types."))try{await om(u),n()}catch{alert("Delete failed")}},a=async u=>{const f=u.status==="published"?"draft":"published";try{await am(u.id,f),n()}catch{alert("Toggle status failed")}};return S.jsxs("section",{className:"page",children:[S.jsxs("header",{className:"page-header",children:[S.jsx("h2",{children:"Event Management"}),S.jsx("p",{children:"Maintain your event listings and monitor registrations."})]}),S.jsxs("div",{className:"admin-actions",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[S.jsx(nt,{className:"event-button",to:"/admin/events/new",style:{background:"#1f1f1f",color:"#fff"},children:"Create New Event"}),S.jsx(nt,{className:"event-link",to:"/admin/dashboard",children:"Back to Dashboard"})]}),S.jsxs("div",{className:"admin-table",style:{marginTop:"24px"},children:[S.jsxs("div",{className:"admin-row admin-header-row",style:{gridTemplateColumns:"1.5fr 1fr 1fr 0.6fr 1.2fr"},children:[S.jsx("span",{children:"Event Title"}),S.jsx("span",{children:"Venue"}),S.jsx("span",{children:"Date/Time"}),S.jsx("span",{children:"Status"}),S.jsx("span",{children:"Operations"})]}),e.length===0&&S.jsx("div",{className:"admin-row",children:S.jsx("p",{children:"No events found. Start by creating one!"})}),e.map(u=>S.jsxs("div",{className:"admin-row",style:{gridTemplateColumns:"1.5fr 1fr 1fr 0.6fr 1.2fr"},children:[S.jsx("span",{style:{fontWeight:"600"},children:u.title}),S.jsx("span",{children:u.venue}),S.jsx("span",{className:"event-meta",children:u.dateTime}),S.jsx("span",{style:{textTransform:"capitalize"},children:u.status}),S.jsxs("span",{className:"admin-row-actions",style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[S.jsx(nt,{className:"event-button",to:`/admin/events/${u.id}/edit`,style:{padding:"4px 8px",fontSize:"12px"},children:"Edit"}),S.jsx(nt,{className:"event-button",to:`/admin/events/${u.id}/attendees`,style:{padding:"4px 8px",fontSize:"12px"},children:"Guests"}),S.jsx("button",{className:"event-button",type:"button",style:{padding:"4px 8px",fontSize:"12px"},onClick:()=>a(u),children:u.status==="published"?"Unpublish":"Publish"}),S.jsx("button",{className:"event-button",type:"button",style:{padding:"4px 8px",fontSize:"12px",borderColor:"#a01d1d",color:"#a01d1d"},onClick:()=>i(u.id),children:"Delete"})]})]},u.id))]})]})}const Pf={title:"",description:"",dateTime:"",venue:"",flyerPreviewUrl:"",status:"draft"};function Pm(e){return`${e}-${Math.random().toString(36).slice(2,8).toUpperCase()}`}function Wl(){return{id:Pm("tt"),name:"",price:"",limit:"",soldCount:0}}function Bf({mode:e}){const{id:n}=ls(),i=as(),{events:a,ticketTypesByEventId:u}=G.useSyncExternalStore(mt.subscribe,()=>mt.getState()),f=G.useMemo(()=>a.find(F=>F.id===n),[a,n]),[p,w]=G.useState(Pf),[m,g]=G.useState([Wl()]),[E,C]=G.useState(null),[T,L]=G.useState(!1);if(G.useEffect(()=>{a.length===0&&gi().then(hi)},[a]),G.useEffect(()=>{if(e==="edit"&&f){w({title:f.title,description:f.description||"",dateTime:f.dateTime,venue:f.venue,flyerPreviewUrl:f.flyerPreviewUrl,status:f.status});const F=u[f.id]||[];g(F.map(X=>({id:X.id,name:X.name,price:String(X.price),limit:String(X.limit),soldCount:X.soldCount??0})))}e==="new"&&(w(Pf),g([Wl()]),C(null))},[e,f,u]),e==="edit"&&!f&&a.length>0)return S.jsxs("section",{className:"page",children:[S.jsxs("header",{className:"page-header",children:[S.jsx("h2",{children:"Event Not Found"}),S.jsx("p",{children:"The event you are trying to edit does not exist."})]}),S.jsx(nt,{className:"event-button",to:"/admin/events",children:"Back to Events"})]});const k=p.title.trim()&&p.dateTime.trim()&&p.venue.trim(),B=m.length>0&&m.every(F=>{const X=Number(F.price),Y=Number(F.limit);return F.name.trim()&&Number.isFinite(X)&&X>=0&&Number.isFinite(Y)&&Y>=1}),z=!!(k&&B&&!T),R=F=>X=>{w(Y=>({...Y,[F]:X.target.value}))},O=F=>{var ae;const X=(ae=F.files)==null?void 0:ae[0];if(!X)return;C(X);const Y=new FileReader;Y.onload=()=>{const we=typeof Y.result=="string"?Y.result:"";w(ue=>({...ue,flyerPreviewUrl:we}))},Y.readAsDataURL(X)},_=(F,X,Y)=>{g(ae=>ae.map(we=>we.id===F?{...we,[X]:Y}:we))},P=()=>{g(F=>[...F,Wl()])},Q=F=>{g(X=>X.filter(Y=>Y.id!==F))},Z=async F=>{if(F.preventDefault(),!!z){L(!0);try{await sm({...p,id:e==="edit"?n:void 0,ticket_types:m,flyerFile:E},e);const X=await gi();hi(X),i("/admin/events")}catch(X){console.error("Failed to save event",X),alert("Error saving event. Check console.")}finally{L(!1)}}};return S.jsxs("section",{className:"page",children:[S.jsxs("header",{className:"page-header",children:[S.jsx("h2",{children:e==="new"?"Create Event":"Edit Event"}),S.jsx("p",{children:"Define event details and ticket types."})]}),S.jsxs("form",{className:"admin-form",onSubmit:Z,children:[S.jsxs("label",{className:"form-field",children:["Title",S.jsx("input",{type:"text",value:p.title,onChange:R("title"),required:!0})]}),S.jsxs("label",{className:"form-field",children:["Description",S.jsx("textarea",{rows:"4",value:p.description,onChange:R("description")})]}),S.jsxs("label",{className:"form-field",children:["Date & Time",S.jsx("input",{type:"text",value:p.dateTime,onChange:R("dateTime"),placeholder:"e.g. Fri, Aug 16, 2024  7:30 PM",required:!0})]}),S.jsxs("label",{className:"form-field",children:["Venue",S.jsx("input",{type:"text",value:p.venue,onChange:R("venue"),required:!0})]}),S.jsxs("label",{className:"form-field",children:["Flyer Upload",S.jsx("input",{type:"file",accept:"image/*",onChange:O}),p.flyerPreviewUrl&&S.jsx("div",{className:"image-preview",style:{marginTop:"10px"},children:S.jsx("img",{src:p.flyerPreviewUrl,alt:"Event flyer preview",style:{maxWidth:"300px"}})})]}),S.jsxs("label",{className:"form-field",children:["Status",S.jsxs("select",{value:p.status,onChange:R("status"),children:[S.jsx("option",{value:"draft",children:"Draft"}),S.jsx("option",{value:"published",children:"Published"})]})]}),S.jsxs("div",{className:"ticket-types",children:[S.jsx("h3",{children:"Ticket Tiers"}),m.map(F=>S.jsx("div",{className:"ticket-type-row",style:{marginTop:"12px",border:"1px solid #eee",padding:"12px"},children:S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr auto",gap:"12px",alignItems:"end"},children:[S.jsxs("label",{className:"form-field",children:["Name",S.jsx("input",{type:"text",value:F.name,onChange:X=>_(F.id,"name",X.target.value),required:!0})]}),S.jsxs("label",{className:"form-field",children:["Price ($)",S.jsx("input",{type:"number",min:"0",value:F.price,onChange:X=>_(F.id,"price",X.target.value),required:!0})]}),S.jsxs("label",{className:"form-field",children:["Limit",S.jsx("input",{type:"number",min:"1",value:F.limit,onChange:X=>_(F.id,"limit",X.target.value),required:!0})]}),S.jsx("button",{className:"event-button",type:"button",style:{borderColor:"#a01d1d",color:"#a01d1d",marginTop:0},onClick:()=>Q(F.id),children:"Remove"})]})},F.id)),S.jsx("button",{className:"event-button",type:"button",onClick:P,style:{width:"100%",marginTop:"16px",borderStyle:"dashed"},children:"+ Add Another Ticket Tier"})]}),S.jsxs("div",{className:"admin-actions",style:{marginTop:"32px",borderTop:"1px solid #ddd",paddingTop:"20px"},children:[S.jsx("button",{className:"event-button",type:"submit",disabled:!z,style:{background:"#1f1f1f",color:"#fff"},children:T?"Saving...":e==="new"?"Create Event":"Update Event"}),S.jsx(nt,{className:"event-link",to:"/admin/events",children:"Cancel"})]})]})]})}const Bm="https://via.placeholder.com/80x80?text=Photo";function Fm(){const{id:e}=ls(),[n,i]=G.useState(""),{events:a,ticketTypesByEventId:u}=G.useSyncExternalStore(mt.subscribe,()=>mt.getState()),{tickets:f}=G.useSyncExternalStore(Vr.subscribe,()=>Vr.getState());G.useEffect(()=>{vh(e).then(Sh).catch(console.error)},[e]);const p=a.find(g=>g.id===e),w=u[e]||[];G.useMemo(()=>w.reduce((g,E)=>(g[E.id]=E.name,g),{}),[w]);const m=G.useMemo(()=>{const g=n.trim().toLowerCase();return f.filter(E=>{if(E.event!==e||E.status==="cancelled")return!1;if(!g)return!0;const C=E.attendee.full_name.toLowerCase().includes(g),T=E.attendee.phone.toLowerCase().includes(g);return C||T})},[f,e,n]);return p?S.jsxs("section",{className:"page",children:[S.jsxs("header",{className:"page-header",children:[S.jsx("h2",{children:"Attendees"}),S.jsx("p",{children:p.title})]}),S.jsxs("div",{className:"admin-actions",children:[S.jsx("input",{className:"admin-search",type:"text",placeholder:"Search by name or phone",value:n,onChange:g=>i(g.target.value)}),S.jsx(nt,{className:"event-link",to:"/admin/events",children:"Back to Events"})]}),S.jsxs("div",{className:"admin-table",children:[S.jsxs("div",{className:"admin-row admin-header-row admin-attendee-row",children:[S.jsx("span",{children:"Photo"}),S.jsx("span",{children:"Name"}),S.jsx("span",{children:"Age"}),S.jsx("span",{children:"Phone"}),S.jsx("span",{children:"Ticket Type"}),S.jsx("span",{children:"Code"}),S.jsx("span",{children:"Status"})]}),m.map(g=>S.jsxs("div",{className:"admin-row admin-attendee-row",children:[S.jsx("span",{children:S.jsx("img",{className:"admin-photo",src:g.attendee.picture||Bm,alt:g.attendee.full_name})}),S.jsx("span",{children:g.attendee.full_name}),S.jsx("span",{children:g.attendee.age}),S.jsx("span",{children:g.attendee.phone}),S.jsx("span",{children:g.ticket_type_name||"-"}),S.jsx("span",{children:g.code||"-"}),S.jsx("span",{children:g.status})]},g.id)),m.length===0&&S.jsx("div",{className:"admin-row",children:S.jsx("span",{children:"No paid attendees found."})})]})]}):S.jsxs("section",{className:"page",children:[S.jsxs("header",{className:"page-header",children:[S.jsx("h2",{children:"Event Not Found"}),S.jsx("p",{children:"The event you are looking for does not exist."})]}),S.jsx(nt,{className:"event-button",to:"/admin/events",children:"Back to Events"})]})}function jm(){const{id:e}=ls(),[n,i]=G.useState({}),{events:a,ticketTypesByEventId:u}=G.useSyncExternalStore(mt.subscribe,()=>mt.getState()),{tickets:f}=G.useSyncExternalStore(Vr.subscribe,()=>Vr.getState()),p=a.find(C=>C.id===e);G.useEffect(()=>{e&&vh(e).then(Sh).catch(console.error)},[e]);const w=u[e]||[],m=G.useMemo(()=>w.reduce((C,T)=>(C[T.id]=T.name,C),{}),[w]),g=f.filter(C=>C.event===e),E=async C=>{if(!(C.status!=="paid"||!C.code))try{await lm(C.id),i(T=>({...T,[C.id]:!0})),setTimeout(()=>{i(T=>({...T,[C.id]:!1}))},2e3)}catch{alert("Resend failed")}};return p?S.jsxs("section",{className:"page",children:[S.jsxs("header",{className:"page-header",children:[S.jsx("h2",{children:"Tickets"}),S.jsx("p",{children:p.title})]}),S.jsx("div",{className:"admin-actions",children:S.jsx(nt,{className:"event-link",to:"/admin/events",children:"Back to Events"})}),S.jsxs("div",{className:"admin-table",children:[S.jsxs("div",{className:"admin-row admin-header-row admin-ticket-row",children:[S.jsx("span",{children:"Ticket ID"}),S.jsx("span",{children:"Ticket Type"}),S.jsx("span",{children:"Status"}),S.jsx("span",{children:"Payment Ref"}),S.jsx("span",{children:"Code"}),S.jsx("span",{children:"Created"}),S.jsx("span",{children:"Actions"})]}),g.map(C=>{const T=C.status==="paid"&&!!C.code;return S.jsxs("div",{className:"admin-row admin-ticket-row",children:[S.jsx("span",{children:C.id}),S.jsx("span",{children:m[C.ticket_type]||"-"}),S.jsx("span",{children:C.status}),S.jsx("span",{children:C.payment_ref||"-"}),S.jsx("span",{children:C.code||"-"}),S.jsx("span",{children:C.created_at||"-"}),S.jsxs("span",{className:"admin-row-actions",children:[S.jsx("button",{className:"event-button",type:"button",disabled:!T,onClick:()=>E(C),children:"Resend Code (SMS)"}),n[C.id]&&S.jsx("span",{className:"admin-note",children:"SMS queued"})]})]},C.id)}),g.length===0&&S.jsx("div",{className:"admin-row",children:S.jsx("span",{children:"No tickets found for this event."})})]})]}):S.jsxs("section",{className:"page",children:[S.jsxs("header",{className:"page-header",children:[S.jsx("h2",{children:"Event Not Found"}),S.jsx("p",{children:"The event you are looking for does not exist."})]}),S.jsx(nt,{className:"event-button",to:"/admin/events",children:"Back to Events"})]})}var se;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(se||(se={}));var Ff=new Map([[se.QR_CODE,"QR_CODE"],[se.AZTEC,"AZTEC"],[se.CODABAR,"CODABAR"],[se.CODE_39,"CODE_39"],[se.CODE_93,"CODE_93"],[se.CODE_128,"CODE_128"],[se.DATA_MATRIX,"DATA_MATRIX"],[se.MAXICODE,"MAXICODE"],[se.ITF,"ITF"],[se.EAN_13,"EAN_13"],[se.EAN_8,"EAN_8"],[se.PDF_417,"PDF_417"],[se.RSS_14,"RSS_14"],[se.RSS_EXPANDED,"RSS_EXPANDED"],[se.UPC_A,"UPC_A"],[se.UPC_E,"UPC_E"],[se.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),jf;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(jf||(jf={}));function Um(e){return Object.values(se).includes(e)}var Hr;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Hr||(Hr={}));var kn=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Hr.SCAN_TYPE_CAMERA,Hr.SCAN_TYPE_FILE],e}(),Bh=function(){function e(n,i){this.format=n,this.formatName=i}return e.prototype.toString=function(){return this.formatName},e.create=function(n){if(!Ff.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new e(n,Ff.get(n))},e}(),Uf=function(){function e(){}return e.createFromText=function(n){var i={text:n};return{decodedText:n,result:i}},e.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},e}(),Gc;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Gc||(Gc={}));var Fh=function(){function e(){}return e.createFrom=function(n){return{errorMessage:n,type:Gc.UNKWOWN_ERROR}},e}(),jh=function(){function e(n){this.verbose=n}return e.prototype.log=function(n){this.verbose&&console.log(n)},e.prototype.warn=function(n){this.verbose&&console.warn(n)},e.prototype.logError=function(n,i){(this.verbose||i===!0)&&console.error(n)},e.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},e}();function Kn(e){return typeof e>"u"||e===null}function zm(e,n,i){return e>i?i:e<n?n:e}var Vi=function(){function e(){}return e.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},e.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Pe=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(n){return"Last Match: ".concat(n)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),zf=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),Uh=function(){function e(){}return e.isMediaStreamConstraintsValid=function(n,i){if(typeof n!="object"){var a=typeof n;return i.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var u=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],f=new Set(u),p=Object.keys(n),w=0,m=p;w<m.length;w++){var g=m[w];if(f.has(g))return i.logError("".concat(g," is not supported videoConstaints."),!0),!1}return!0},e}(),Yc={exports:{}};(function(e,n){(function(i,a){a(n)})(Cs,function(i){function a(A){return A==null}var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,t){A.__proto__=t}||function(A,t){for(var r in t)t.hasOwnProperty(r)&&(A[r]=t[r])};function f(A,t){u(A,t);function r(){this.constructor=A}A.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function p(A,t){var r=Object.setPrototypeOf;r?r(A,t):A.__proto__=t}function w(A,t){t===void 0&&(t=A.constructor);var r=Error.captureStackTrace;r&&r(A,t)}var m=function(A){f(t,A);function t(r){var s=this.constructor,o=A.call(this,r)||this;return Object.defineProperty(o,"name",{value:s.name,enumerable:!1}),p(o,s.prototype),w(o),o}return t}(Error);class g extends m{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}g.kind="Exception";class E extends g{}E.kind="ArgumentException";class C extends g{}C.kind="IllegalArgumentException";class T{constructor(t){if(this.binarizer=t,t===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,s,o){const l=this.binarizer.getLuminanceSource().crop(t,r,s,o);return new T(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new T(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new T(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class L extends g{static getChecksumInstance(){return new L}}L.kind="ChecksumException";class k{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class B{static arraycopy(t,r,s,o,l){for(;l--;)s[o++]=t[r++]}static currentTimeMillis(){return Date.now()}}class z extends g{}z.kind="IndexOutOfBoundsException";class R extends z{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}R.kind="ArrayIndexOutOfBoundsException";class O{static fill(t,r){for(let s=0,o=t.length;s<o;s++)t[s]=r}static fillWithin(t,r,s,o){O.rangeCheck(t.length,r,s);for(let l=r;l<s;l++)t[l]=o}static rangeCheck(t,r,s){if(r>s)throw new C("fromIndex("+r+") > toIndex("+s+")");if(r<0)throw new R(r);if(s>t)throw new R(s)}static asList(...t){return t}static create(t,r,s){return Array.from({length:t}).map(l=>Array.from({length:r}).fill(s))}static createInt32Array(t,r,s){return Array.from({length:t}).map(l=>Int32Array.from({length:r}).fill(s))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let s=0,o=t.length;s<o;s++)if(t[s]!==r[s])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const s of t)r=31*r+s;return r}static fillUint8Array(t,r){for(let s=0;s!==t.length;s++)t[s]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const s=new Uint8Array(r);return s.set(t),s}return t.slice(0,r)}static copyOfRange(t,r,s){const o=s-r,l=new Int32Array(o);return B.arraycopy(t,r,l,0,o),l}static binarySearch(t,r,s){s===void 0&&(s=O.numberComparator);let o=0,l=t.length-1;for(;o<=l;){const c=l+o>>1,d=s(r,t[c]);if(d>0)o=c+1;else if(d<0)l=c-1;else return c}return-o-1}static numberComparator(t,r){return t-r}}class _{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let s=31;return r=t<<16,r!==0&&(s-=16,t=r),r=t<<8,r!==0&&(s-=8,t=r),r=t<<4,r!==0&&(s-=4,t=r),r=t<<2,r!==0&&(s-=2,t=r),s-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}_.MIN_VALUE_32_BITS=-2147483648,_.MAX_VALUE=Number.MAX_SAFE_INTEGER;class P{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=P.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=P.makeArray(t);B.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const s=this.bits;let o=Math.floor(t/32),l=s[o];l&=~((1<<(t&31))-1);const c=s.length;for(;l===0;){if(++o===c)return r;l=s[o]}const d=o*32+_.numberOfTrailingZeros(l);return d>r?r:d}getNextUnset(t){const r=this.size;if(t>=r)return r;const s=this.bits;let o=Math.floor(t/32),l=~s[o];l&=~((1<<(t&31))-1);const c=s.length;for(;l===0;){if(++o===c)return r;l=~s[o]}const d=o*32+_.numberOfTrailingZeros(l);return d>r?r:d}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new C;if(r===t)return;r--;const s=Math.floor(t/32),o=Math.floor(r/32),l=this.bits;for(let c=s;c<=o;c++){const d=c>s?0:t&31,x=(2<<(c<o?31:r&31))-(1<<d);l[c]|=x}}clear(){const t=this.bits.length,r=this.bits;for(let s=0;s<t;s++)r[s]=0}isRange(t,r,s){if(r<t||t<0||r>this.size)throw new C;if(r===t)return!0;r--;const o=Math.floor(t/32),l=Math.floor(r/32),c=this.bits;for(let d=o;d<=l;d++){const h=d>o?0:t&31,y=(2<<(d<l?31:r&31))-(1<<h)&4294967295;if((c[d]&y)!==(s?y:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let s=r;s>0;s--)this.appendBit((t>>s-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let s=0;s<r;s++)this.appendBit(t.get(s))}xor(t){if(this.size!==t.size)throw new C("Sizes don't match");const r=this.bits;for(let s=0,o=r.length;s<o;s++)r[s]^=t.bits[s]}toBytes(t,r,s,o){for(let l=0;l<o;l++){let c=0;for(let d=0;d<8;d++)this.get(t)&&(c|=1<<7-d),t++;r[s+l]=c}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),s=r+1,o=this.bits;for(let l=0;l<s;l++){let c=o[l];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,t[r-l]=c}if(this.size!==s*32){const l=s*32-this.size;let c=t[0]>>>l;for(let d=1;d<s;d++){const h=t[d];c|=h<<32-l,t[d-1]=c,c=h>>>l}t[s-1]=c}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof P))return!1;const r=t;return this.size===r.size&&O.equals(this.bits,r.bits)}hashCode(){return 31*this.size+O.hashCode(this.bits)}toString(){let t="";for(let r=0,s=this.size;r<s;r++)r&7||(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new P(this.size,this.bits.slice())}}var Q;(function(A){A[A.OTHER=0]="OTHER",A[A.PURE_BARCODE=1]="PURE_BARCODE",A[A.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",A[A.TRY_HARDER=3]="TRY_HARDER",A[A.CHARACTER_SET=4]="CHARACTER_SET",A[A.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",A[A.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",A[A.ASSUME_GS1=7]="ASSUME_GS1",A[A.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",A[A.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",A[A.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Q||(Q={}));var Z=Q;class F extends g{static getFormatInstance(){return new F}}F.kind="FormatException";var X;(function(A){A[A.Cp437=0]="Cp437",A[A.ISO8859_1=1]="ISO8859_1",A[A.ISO8859_2=2]="ISO8859_2",A[A.ISO8859_3=3]="ISO8859_3",A[A.ISO8859_4=4]="ISO8859_4",A[A.ISO8859_5=5]="ISO8859_5",A[A.ISO8859_6=6]="ISO8859_6",A[A.ISO8859_7=7]="ISO8859_7",A[A.ISO8859_8=8]="ISO8859_8",A[A.ISO8859_9=9]="ISO8859_9",A[A.ISO8859_10=10]="ISO8859_10",A[A.ISO8859_11=11]="ISO8859_11",A[A.ISO8859_13=12]="ISO8859_13",A[A.ISO8859_14=13]="ISO8859_14",A[A.ISO8859_15=14]="ISO8859_15",A[A.ISO8859_16=15]="ISO8859_16",A[A.SJIS=16]="SJIS",A[A.Cp1250=17]="Cp1250",A[A.Cp1251=18]="Cp1251",A[A.Cp1252=19]="Cp1252",A[A.Cp1256=20]="Cp1256",A[A.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",A[A.UTF8=22]="UTF8",A[A.ASCII=23]="ASCII",A[A.Big5=24]="Big5",A[A.GB18030=25]="GB18030",A[A.EUC_KR=26]="EUC_KR"})(X||(X={}));class Y{constructor(t,r,s,...o){this.valueIdentifier=t,this.name=s,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,Y.VALUE_IDENTIFIER_TO_ECI.set(t,this),Y.NAME_TO_ECI.set(s,this);const l=this.values;for(let c=0,d=l.length;c!==d;c++){const h=l[c];Y.VALUES_TO_ECI.set(h,this)}for(const c of o)Y.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new F("incorect value");const r=Y.VALUES_TO_ECI.get(t);if(r===void 0)throw new F("incorect value");return r}static getCharacterSetECIByName(t){const r=Y.NAME_TO_ECI.get(t);if(r===void 0)throw new F("incorect value");return r}equals(t){if(!(t instanceof Y))return!1;const r=t;return this.getName()===r.getName()}}Y.VALUE_IDENTIFIER_TO_ECI=new Map,Y.VALUES_TO_ECI=new Map,Y.NAME_TO_ECI=new Map,Y.Cp437=new Y(X.Cp437,Int32Array.from([0,2]),"Cp437"),Y.ISO8859_1=new Y(X.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Y.ISO8859_2=new Y(X.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Y.ISO8859_3=new Y(X.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Y.ISO8859_4=new Y(X.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Y.ISO8859_5=new Y(X.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Y.ISO8859_6=new Y(X.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Y.ISO8859_7=new Y(X.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Y.ISO8859_8=new Y(X.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Y.ISO8859_9=new Y(X.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Y.ISO8859_10=new Y(X.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Y.ISO8859_11=new Y(X.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Y.ISO8859_13=new Y(X.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Y.ISO8859_14=new Y(X.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Y.ISO8859_15=new Y(X.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Y.ISO8859_16=new Y(X.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Y.SJIS=new Y(X.SJIS,20,"SJIS","Shift_JIS"),Y.Cp1250=new Y(X.Cp1250,21,"Cp1250","windows-1250"),Y.Cp1251=new Y(X.Cp1251,22,"Cp1251","windows-1251"),Y.Cp1252=new Y(X.Cp1252,23,"Cp1252","windows-1252"),Y.Cp1256=new Y(X.Cp1256,24,"Cp1256","windows-1256"),Y.UnicodeBigUnmarked=new Y(X.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Y.UTF8=new Y(X.UTF8,26,"UTF8","UTF-8"),Y.ASCII=new Y(X.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Y.Big5=new Y(X.Big5,28,"Big5"),Y.GB18030=new Y(X.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Y.EUC_KR=new Y(X.EUC_KR,30,"EUC_KR","EUC-KR");class ae extends g{}ae.kind="UnsupportedOperationException";class we{static decode(t,r){const s=this.encodingName(r);return this.customDecoder?this.customDecoder(t,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(t,s):new TextDecoder(s).decode(t)}static shouldDecodeOnFallback(t){return!we.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const s=this.encodingName(r);return this.customEncoder?this.customEncoder(t,s):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof Y?t:Y.getCharacterSetECIByName(t)}static decodeFallback(t,r){const s=this.encodingCharacterSet(r);if(we.isDecodeFallbackSupported(s)){let o="";for(let l=0,c=t.length;l<c;l++){let d=t[l].toString(16);d.length<2&&(d="0"+d),o+="%"+d}return decodeURIComponent(o)}if(s.equals(Y.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new ae(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(Y.UTF8)||t.equals(Y.ISO8859_1)||t.equals(Y.ASCII)}static encodeFallback(t){const s=btoa(unescape(encodeURIComponent(t))).split(""),o=[];for(let l=0;l<s.length;l++)o.push(s[l].charCodeAt(0));return new Uint8Array(o)}}class ue{static castAsNonUtf8Char(t,r=null){const s=r?r.getName():this.ISO88591;return we.decode(new Uint8Array([t]),s)}static guessEncoding(t,r){if(r!=null&&r.get(Z.CHARACTER_SET)!==void 0)return r.get(Z.CHARACTER_SET).toString();const s=t.length;let o=!0,l=!0,c=!0,d=0,h=0,x=0,y=0,v=0,I=0,M=0,D=0,b=0,j=0,H=0;const $=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let ee=0;ee<s&&(o||l||c);ee++){const q=t[ee]&255;c&&(d>0?q&128?d--:c=!1:q&128&&(q&64?(d++,q&32?(d++,q&16?(d++,q&8?c=!1:y++):x++):h++):c=!1)),o&&(q>127&&q<160?o=!1:q>159&&(q<192||q===215||q===247)&&H++),l&&(v>0?q<64||q===127||q>252?l=!1:v--:q===128||q===160||q>239?l=!1:q>160&&q<224?(I++,D=0,M++,M>b&&(b=M)):q>127?(v++,M=0,D++,D>j&&(j=D)):(M=0,D=0))}return c&&d>0&&(c=!1),l&&v>0&&(l=!1),c&&($||h+x+y>0)?ue.UTF8:l&&(ue.ASSUME_SHIFT_JIS||b>=3||j>=3)?ue.SHIFT_JIS:o&&l?b===2&&I===2||H*10>=s?ue.SHIFT_JIS:ue.ISO88591:o?ue.ISO88591:l?ue.SHIFT_JIS:c?ue.UTF8:ue.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let s=-1;function o(c,d,h,x,y,v){if(c==="%%")return"%";if(r[++s]===void 0)return;c=x?parseInt(x.substr(1)):void 0;let I=y?parseInt(y.substr(1)):void 0,M;switch(v){case"s":M=r[s];break;case"c":M=r[s][0];break;case"f":M=parseFloat(r[s]).toFixed(c);break;case"p":M=parseFloat(r[s]).toPrecision(c);break;case"e":M=parseFloat(r[s]).toExponential(c);break;case"x":M=parseInt(r[s]).toString(I||16);break;case"d":M=parseFloat(parseInt(r[s],I||10).toPrecision(c)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(I);let D=parseInt(h),b=h&&h[0]+""=="0"?"0":" ";for(;M.length<D;)M=d!==void 0?M+b:b+M;return M}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,o)}static getBytes(t,r){return we.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}ue.SHIFT_JIS=Y.SJIS.getName(),ue.GB2312="GB2312",ue.ISO88591=Y.ISO8859_1.getName(),ue.EUC_JP="EUC_JP",ue.UTF8=Y.UTF8.getName(),ue.PLATFORM_DEFAULT_ENCODING=ue.UTF8,ue.ASSUME_SHIFT_JIS=!1;class Ee{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=ue.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,s){for(let o=r;r<r+s;o++)this.append(t[o]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class be{constructor(t,r,s,o){if(this.width=t,this.height=r,this.rowSize=s,this.bits=o,r==null&&(r=t),this.height=r,t<1||r<1)throw new C("Both dimensions must be greater than 0");s==null&&(s=Math.floor((t+31)/32)),this.rowSize=s,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,s=t[0].length,o=new be(s,r);for(let l=0;l<r;l++){const c=t[l];for(let d=0;d<s;d++)c[d]&&o.set(d,l)}return o}static parseFromString(t,r,s){if(t===null)throw new C("stringRepresentation cannot be null");const o=new Array(t.length);let l=0,c=0,d=-1,h=0,x=0;for(;x<t.length;)if(t.charAt(x)===`
`||t.charAt(x)==="\r"){if(l>c){if(d===-1)d=l-c;else if(l-c!==d)throw new C("row lengths do not match");c=l,h++}x++}else if(t.substring(x,x+r.length)===r)x+=r.length,o[l]=!0,l++;else if(t.substring(x,x+s.length)===s)x+=s.length,o[l]=!1,l++;else throw new C("illegal character encountered: "+t.substring(x));if(l>c){if(d===-1)d=l-c;else if(l-c!==d)throw new C("row lengths do not match");h++}const y=new be(d,h);for(let v=0;v<l;v++)o[v]&&y.set(Math.floor(v%d),Math.floor(v/d));return y}get(t,r){const s=r*this.rowSize+Math.floor(t/32);return(this.bits[s]>>>(t&31)&1)!==0}set(t,r){const s=r*this.rowSize+Math.floor(t/32);this.bits[s]|=1<<(t&31)&4294967295}unset(t,r){const s=r*this.rowSize+Math.floor(t/32);this.bits[s]&=~(1<<(t&31)&4294967295)}flip(t,r){const s=r*this.rowSize+Math.floor(t/32);this.bits[s]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new C("input matrix dimensions do not match");const r=new P(Math.floor(this.width/32)+1),s=this.rowSize,o=this.bits;for(let l=0,c=this.height;l<c;l++){const d=l*s,h=t.getRow(l,r).getBitArray();for(let x=0;x<s;x++)o[d+x]^=h[x]}}clear(){const t=this.bits,r=t.length;for(let s=0;s<r;s++)t[s]=0}setRegion(t,r,s,o){if(r<0||t<0)throw new C("Left and top must be nonnegative");if(o<1||s<1)throw new C("Height and width must be at least 1");const l=t+s,c=r+o;if(c>this.height||l>this.width)throw new C("The region must fit inside the matrix");const d=this.rowSize,h=this.bits;for(let x=r;x<c;x++){const y=x*d;for(let v=t;v<l;v++)h[y+Math.floor(v/32)]|=1<<(v&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new P(this.width):r.clear();const s=this.rowSize,o=this.bits,l=t*s;for(let c=0;c<s;c++)r.setBulk(c*32,o[l+c]);return r}setRow(t,r){B.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let s=new P(t),o=new P(t);for(let l=0,c=Math.floor((r+1)/2);l<c;l++)s=this.getRow(l,s),o=this.getRow(r-1-l,o),s.reverse(),o.reverse(),this.setRow(l,o),this.setRow(r-1-l,s)}getEnclosingRectangle(){const t=this.width,r=this.height,s=this.rowSize,o=this.bits;let l=t,c=r,d=-1,h=-1;for(let x=0;x<r;x++)for(let y=0;y<s;y++){const v=o[x*s+y];if(v!==0){if(x<c&&(c=x),x>h&&(h=x),y*32<l){let I=0;for(;!(v<<31-I&4294967295);)I++;y*32+I<l&&(l=y*32+I)}if(y*32+31>d){let I=31;for(;!(v>>>I);)I--;y*32+I>d&&(d=y*32+I)}}}return d<l||h<c?null:Int32Array.from([l,c,d-l+1,h-c+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let s=0;for(;s<r.length&&r[s]===0;)s++;if(s===r.length)return null;const o=s/t;let l=s%t*32;const c=r[s];let d=0;for(;!(c<<31-d&4294967295);)d++;return l+=d,Int32Array.from([l,o])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let s=r.length-1;for(;s>=0&&r[s]===0;)s--;if(s<0)return null;const o=Math.floor(s/t);let l=Math.floor(s%t)*32;const c=r[s];let d=31;for(;!(c>>>d);)d--;return l+=d,Int32Array.from([l,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof be))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&O.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+O.hashCode(this.bits),t}toString(t="X ",r="  ",s=`
`){return this.buildToString(t,r,s)}buildToString(t,r,s){let o=new Ee;for(let l=0,c=this.height;l<c;l++){for(let d=0,h=this.width;d<h;d++)o.append(this.get(d,l)?t:r);o.append(s)}return o.toString()}clone(){return new be(this.width,this.height,this.rowSize,this.bits.slice())}}class W extends g{static getNotFoundInstance(){return new W}}W.kind="NotFoundException";class Fe extends k{constructor(t){super(t),this.luminances=Fe.EMPTY,this.buckets=new Int32Array(Fe.LUMINANCE_BUCKETS)}getBlackRow(t,r){const s=this.getLuminanceSource(),o=s.getWidth();r==null||r.getSize()<o?r=new P(o):r.clear(),this.initArrays(o);const l=s.getRow(t,this.luminances),c=this.buckets;for(let h=0;h<o;h++)c[(l[h]&255)>>Fe.LUMINANCE_SHIFT]++;const d=Fe.estimateBlackPoint(c);if(o<3)for(let h=0;h<o;h++)(l[h]&255)<d&&r.set(h);else{let h=l[0]&255,x=l[1]&255;for(let y=1;y<o-1;y++){const v=l[y+1]&255;(x*4-h-v)/2<d&&r.set(y),h=x,x=v}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),s=t.getHeight(),o=new be(r,s);this.initArrays(r);const l=this.buckets;for(let h=1;h<5;h++){const x=Math.floor(s*h/5),y=t.getRow(x,this.luminances),v=Math.floor(r*4/5);for(let I=Math.floor(r/5);I<v;I++){const M=y[I]&255;l[M>>Fe.LUMINANCE_SHIFT]++}}const c=Fe.estimateBlackPoint(l),d=t.getMatrix();for(let h=0;h<s;h++){const x=h*r;for(let y=0;y<r;y++)(d[x+y]&255)<c&&o.set(y,h)}return o}createBinarizer(t){return new Fe(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let s=0;s<Fe.LUMINANCE_BUCKETS;s++)r[s]=0}static estimateBlackPoint(t){const r=t.length;let s=0,o=0,l=0;for(let y=0;y<r;y++)t[y]>l&&(o=y,l=t[y]),t[y]>s&&(s=t[y]);let c=0,d=0;for(let y=0;y<r;y++){const v=y-o,I=t[y]*v*v;I>d&&(c=y,d=I)}if(o>c){const y=o;o=c,c=y}if(c-o<=r/16)throw new W;let h=c-1,x=-1;for(let y=c-1;y>o;y--){const v=y-o,I=v*v*(c-y)*(s-t[y]);I>x&&(h=y,x=I)}return h<<Fe.LUMINANCE_SHIFT}}Fe.LUMINANCE_BITS=5,Fe.LUMINANCE_SHIFT=8-Fe.LUMINANCE_BITS,Fe.LUMINANCE_BUCKETS=1<<Fe.LUMINANCE_BITS,Fe.EMPTY=Uint8ClampedArray.from([0]);class ge extends Fe{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),s=t.getHeight();if(r>=ge.MINIMUM_DIMENSION&&s>=ge.MINIMUM_DIMENSION){const o=t.getMatrix();let l=r>>ge.BLOCK_SIZE_POWER;r&ge.BLOCK_SIZE_MASK&&l++;let c=s>>ge.BLOCK_SIZE_POWER;s&ge.BLOCK_SIZE_MASK&&c++;const d=ge.calculateBlackPoints(o,l,c,r,s),h=new be(r,s);ge.calculateThresholdForBlock(o,l,c,r,s,d,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new ge(t)}static calculateThresholdForBlock(t,r,s,o,l,c,d){const h=l-ge.BLOCK_SIZE,x=o-ge.BLOCK_SIZE;for(let y=0;y<s;y++){let v=y<<ge.BLOCK_SIZE_POWER;v>h&&(v=h);const I=ge.cap(y,2,s-3);for(let M=0;M<r;M++){let D=M<<ge.BLOCK_SIZE_POWER;D>x&&(D=x);const b=ge.cap(M,2,r-3);let j=0;for(let $=-2;$<=2;$++){const ee=c[I+$];j+=ee[b-2]+ee[b-1]+ee[b]+ee[b+1]+ee[b+2]}const H=j/25;ge.thresholdBlock(t,D,v,H,o,d)}}}static cap(t,r,s){return t<r?r:t>s?s:t}static thresholdBlock(t,r,s,o,l,c){for(let d=0,h=s*l+r;d<ge.BLOCK_SIZE;d++,h+=l)for(let x=0;x<ge.BLOCK_SIZE;x++)(t[h+x]&255)<=o&&c.set(r+x,s+d)}static calculateBlackPoints(t,r,s,o,l){const c=l-ge.BLOCK_SIZE,d=o-ge.BLOCK_SIZE,h=new Array(s);for(let x=0;x<s;x++){h[x]=new Int32Array(r);let y=x<<ge.BLOCK_SIZE_POWER;y>c&&(y=c);for(let v=0;v<r;v++){let I=v<<ge.BLOCK_SIZE_POWER;I>d&&(I=d);let M=0,D=255,b=0;for(let H=0,$=y*o+I;H<ge.BLOCK_SIZE;H++,$+=o){for(let ee=0;ee<ge.BLOCK_SIZE;ee++){const q=t[$+ee]&255;M+=q,q<D&&(D=q),q>b&&(b=q)}if(b-D>ge.MIN_DYNAMIC_RANGE)for(H++,$+=o;H<ge.BLOCK_SIZE;H++,$+=o)for(let ee=0;ee<ge.BLOCK_SIZE;ee++)M+=t[$+ee]&255}let j=M>>ge.BLOCK_SIZE_POWER*2;if(b-D<=ge.MIN_DYNAMIC_RANGE&&(j=D/2,x>0&&v>0)){const H=(h[x-1][v]+2*h[x][v-1]+h[x-1][v-1])/4;D<H&&(j=H)}h[x][v]=j}}return h}}ge.BLOCK_SIZE_POWER=3,ge.BLOCK_SIZE=1<<ge.BLOCK_SIZE_POWER,ge.BLOCK_SIZE_MASK=ge.BLOCK_SIZE-1,ge.MINIMUM_DIMENSION=ge.BLOCK_SIZE*5,ge.MIN_DYNAMIC_RANGE=24;class re{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,s,o){throw new ae("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ae("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ae("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new Ee;for(let s=0;s<this.height;s++){const o=this.getRow(s,t);for(let l=0;l<this.width;l++){const c=o[l]&255;let d;c<64?d="#":c<128?d="+":c<192?d=".":d=" ",r.append(d)}r.append(`
`)}return r.toString()}}class fe extends re{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const s=this.delegate.getRow(t,r),o=this.getWidth();for(let l=0;l<o;l++)s[l]=255-(s[l]&255);return s}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(r);for(let o=0;o<r;o++)s[o]=255-(t[o]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,s,o){return new fe(this.delegate.crop(t,r,s,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new fe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new fe(this.delegate.rotateCounterClockwise45())}}class pe extends re{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=pe.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return pe.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,s){const o=new Uint8ClampedArray(r*s);for(let l=0,c=0,d=t.length;l<d;l+=4,c++){let h;if(t[l+3]===0)h=255;else{const y=t[l],v=t[l+1],I=t[l+2];h=306*y+601*v+117*I+512>>10}o[c]=h}return o}getRow(t,r){if(t<0||t>=this.getHeight())throw new C("Requested row is outside the image: "+t);const s=this.getWidth(),o=t*s;return r===null?r=this.buffer.slice(o,o+s):(r.length<s&&(r=new Uint8ClampedArray(s)),r.set(this.buffer.slice(o,o+s))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,s,o){return super.crop(t,r,s,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),s=r.getContext("2d"),o=t*pe.DEGREE_TO_RADIANS,l=this.canvas.width,c=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(o))*l+Math.abs(Math.sin(o))*c),h=Math.ceil(Math.abs(Math.sin(o))*l+Math.abs(Math.cos(o))*c);return r.width=d,r.height=h,s.translate(d/2,h/2),s.rotate(o),s.drawImage(this.canvas,l/-2,c/-2),this.buffer=pe.makeBufferFromCanvasImageData(r),this}invert(){return new fe(this)}}pe.DEGREE_TO_RADIANS=Math.PI/180;class je{constructor(t,r,s){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var te=(globalThis||Cs||self||window||void 0)&&(globalThis||Cs||self||window||void 0).__awaiter||function(A,t,r,s){function o(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(y){try{x(s.next(y))}catch(v){c(v)}}function h(y){try{x(s.throw(y))}catch(v){c(v)}}function x(y){y.done?l(y.value):o(y.value).then(d,h)}x((s=s.apply(A,t||[])).next())})};class Ke{constructor(t,r=500,s){this.reader=t,this.timeBetweenScansMillis=r,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return te(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const s of t){const o=s.kind==="video"?"videoinput":s.kind;if(o!=="videoinput")continue;const l=s.deviceId||s.id,c=s.label||`Video device ${r.length+1}`,d=s.groupId,h={deviceId:l,label:c,kind:o,groupId:d};r.push(h)}return r})}getVideoInputDevices(){return te(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new je(r.deviceId,r.label))})}findDeviceById(t){return te(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(s=>s.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return te(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return te(this,void 0,void 0,function*(){this.reset();let s;t?s={deviceId:{exact:t}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeOnceFromConstraints(o,r)})}decodeOnceFromConstraints(t,r){return te(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(s,r)})}decodeOnceFromStream(t,r){return te(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(t,r,s){return te(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,s)})}decodeFromVideoDevice(t,r,s){return te(this,void 0,void 0,function*(){let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeFromConstraints(l,r,s)})}decodeFromConstraints(t,r,s){return te(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(o,r,s)})}decodeFromStream(t,r,s){return te(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(o,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return te(this,void 0,void 0,function*(){const s=this.prepareVideoElement(r);return this.addVideoSource(s,t),this.videoElement=s,this.stream=t,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(t){return new Promise((r,s)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return te(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const s=document.getElementById(t);if(!s)throw new E(`element with id '${t}' not found`);if(s.nodeName.toLowerCase()!==r.toLowerCase())throw new E(`element with id '${t}' must be an ${r} element`);return s}decodeFromImage(t,r){if(!t&&!r)throw new E("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new E("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,s){if(t===void 0&&r===void 0)throw new E("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,s):this.decodeFromVideoElementContinuously(t,s)}decodeFromImageElement(t){if(!t)throw new E("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let s;return this.isImageLoaded(r)?s=this.decodeOnce(r,!1,!0):s=this._decodeOnLoadImage(r),s}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const s=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(s,r)}_decodeFromVideoElementSetup(t){if(!t)throw new E("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new E("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const s=this._decodeOnLoadImage(r);return r.src=t,s}decodeFromVideoUrl(t){if(!t)throw new E("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElement(r);return r.src=t,s}decodeFromVideoUrlContinuously(t,r){if(!t)throw new E("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(s,r);return s.src=t,o}_decodeOnLoadImage(t){return new Promise((r,s)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,s),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return te(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return te(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,s=!0){this._stopAsyncDecode=!1;const o=(l,c)=>{if(this._stopAsyncDecode){c(new W("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(t);l(d)}catch(d){const h=r&&d instanceof W,y=(d instanceof L||d instanceof F)&&s;if(h||y)return setTimeout(o,this._timeBetweenDecodingAttempts,l,c);c(d)}};return new Promise((l,c)=>o(l,c))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(t);r(o,null),setTimeout(s,this.timeBetweenScansMillis)}catch(o){r(null,o);const l=o instanceof L||o instanceof F,c=o instanceof W;(l||c)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,s){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,s=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),s=new pe(r),o=new ge(s);return new T(o)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const s=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let s,o;return typeof t<"u"&&(t instanceof HTMLVideoElement?(s=t.videoWidth,o=t.videoHeight):t instanceof HTMLImageElement&&(s=t.naturalWidth||t.width,o=t.naturalHeight||t.height)),r.style.width=s+"px",r.style.height=o+"px",r.width=s,r.height=o,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Le{constructor(t,r,s=r==null?0:8*r.length,o,l,c=B.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=s,this.resultPoints=o,this.format=l,this.timestamp=c,this.text=t,this.rawBytes=r,s==null?this.numBits=r==null?0:8*r.length:this.numBits=s,this.resultPoints=o,this.format=l,this.resultMetadata=null,c==null?this.timestamp=B.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const s=new Array(r.length+t.length);B.arraycopy(r,0,s,0,r.length),B.arraycopy(t,0,s,r.length,t.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Un;(function(A){A[A.AZTEC=0]="AZTEC",A[A.CODABAR=1]="CODABAR",A[A.CODE_39=2]="CODE_39",A[A.CODE_93=3]="CODE_93",A[A.CODE_128=4]="CODE_128",A[A.DATA_MATRIX=5]="DATA_MATRIX",A[A.EAN_8=6]="EAN_8",A[A.EAN_13=7]="EAN_13",A[A.ITF=8]="ITF",A[A.MAXICODE=9]="MAXICODE",A[A.PDF_417=10]="PDF_417",A[A.QR_CODE=11]="QR_CODE",A[A.RSS_14=12]="RSS_14",A[A.RSS_EXPANDED=13]="RSS_EXPANDED",A[A.UPC_A=14]="UPC_A",A[A.UPC_E=15]="UPC_E",A[A.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Un||(Un={}));var le=Un,gr;(function(A){A[A.OTHER=0]="OTHER",A[A.ORIENTATION=1]="ORIENTATION",A[A.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",A[A.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",A[A.ISSUE_NUMBER=4]="ISSUE_NUMBER",A[A.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",A[A.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",A[A.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",A[A.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",A[A.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",A[A.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(gr||(gr={}));var vt=gr;class cs{constructor(t,r,s,o,l=-1,c=-1){this.rawBytes=t,this.text=r,this.byteSegments=s,this.ecLevel=o,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=c,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class us{exp(t){return this.expTable[t]}log(t){if(t===0)throw new C;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class Qt{constructor(t,r){if(r.length===0)throw new C;this.field=t;const s=r.length;if(s>1&&r[0]===0){let o=1;for(;o<s&&r[o]===0;)o++;o===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-o),B.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let s;if(t===1){s=0;for(let c=0,d=r.length;c!==d;c++){const h=r[c];s=us.addOrSubtract(s,h)}return s}s=r[0];const o=r.length,l=this.field;for(let c=1;c<o;c++)s=us.addOrSubtract(l.multiply(t,s),r[c]);return s}addOrSubtract(t){if(!this.field.equals(t.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,s=t.coefficients;if(r.length>s.length){const c=r;r=s,s=c}let o=new Int32Array(s.length);const l=s.length-r.length;B.arraycopy(s,0,o,0,l);for(let c=l;c<s.length;c++)o[c]=us.addOrSubtract(r[c-l],s[c]);return new Qt(this.field,o)}multiply(t){if(!this.field.equals(t.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,s=r.length,o=t.coefficients,l=o.length,c=new Int32Array(s+l-1),d=this.field;for(let h=0;h<s;h++){const x=r[h];for(let y=0;y<l;y++)c[h+y]=us.addOrSubtract(c[h+y],d.multiply(x,o[y]))}return new Qt(d,c)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,s=this.field,o=new Int32Array(r),l=this.coefficients;for(let c=0;c<r;c++)o[c]=s.multiply(l[c],t);return new Qt(s,o)}multiplyByMonomial(t,r){if(t<0)throw new C;if(r===0)return this.field.getZero();const s=this.coefficients,o=s.length,l=new Int32Array(o+t),c=this.field;for(let d=0;d<o;d++)l[d]=c.multiply(s[d],r);return new Qt(c,l)}divide(t){if(!this.field.equals(t.field))throw new C("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new C("Divide by 0");const r=this.field;let s=r.getZero(),o=this;const l=t.getCoefficient(t.getDegree()),c=r.inverse(l);for(;o.getDegree()>=t.getDegree()&&!o.isZero();){const d=o.getDegree()-t.getDegree(),h=r.multiply(o.getCoefficient(o.getDegree()),c),x=t.multiplyByMonomial(d,h),y=r.buildMonomial(d,h);s=s.addOrSubtract(y),o=o.addOrSubtract(x)}return[s,o]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let s=this.getCoefficient(r);if(s!==0){if(s<0?(t+=" - ",s=-s):t.length>0&&(t+=" + "),r===0||s!==1){const o=this.field.log(s);o===0?t+="1":o===1?t+="a":(t+="a^",t+=o)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class po extends g{}po.kind="ArithmeticException";class Oe extends us{constructor(t,r,s){super(),this.primitive=t,this.size=r,this.generatorBase=s;const o=new Int32Array(r);let l=1;for(let d=0;d<r;d++)o[d]=l,l*=2,l>=r&&(l^=t,l&=r-1);this.expTable=o;const c=new Int32Array(r);for(let d=0;d<r-1;d++)c[o[d]]=d;this.logTable=c,this.zero=new Qt(this,Int32Array.from([0])),this.one=new Qt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new C;if(r===0)return this.zero;const s=new Int32Array(t+1);return s[0]=r,new Qt(this,s)}inverse(t){if(t===0)throw new po;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+_.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}Oe.AZTEC_DATA_12=new Oe(4201,4096,1),Oe.AZTEC_DATA_10=new Oe(1033,1024,1),Oe.AZTEC_DATA_6=new Oe(67,64,1),Oe.AZTEC_PARAM=new Oe(19,16,1),Oe.QR_CODE_FIELD_256=new Oe(285,256,0),Oe.DATA_MATRIX_FIELD_256=new Oe(301,256,1),Oe.AZTEC_DATA_8=Oe.DATA_MATRIX_FIELD_256,Oe.MAXICODE_FIELD_64=Oe.AZTEC_DATA_6;class wi extends g{}wi.kind="ReedSolomonException";class zn extends g{}zn.kind="IllegalStateException";class fs{constructor(t){this.field=t}decode(t,r){const s=this.field,o=new Qt(s,t),l=new Int32Array(r);let c=!0;for(let M=0;M<r;M++){const D=o.evaluateAt(s.exp(M+s.getGeneratorBase()));l[l.length-1-M]=D,D!==0&&(c=!1)}if(c)return;const d=new Qt(s,l),h=this.runEuclideanAlgorithm(s.buildMonomial(r,1),d,r),x=h[0],y=h[1],v=this.findErrorLocations(x),I=this.findErrorMagnitudes(y,v);for(let M=0;M<v.length;M++){const D=t.length-1-s.log(v[M]);if(D<0)throw new wi("Bad error location");t[D]=Oe.addOrSubtract(t[D],I[M])}}runEuclideanAlgorithm(t,r,s){if(t.getDegree()<r.getDegree()){const M=t;t=r,r=M}const o=this.field;let l=t,c=r,d=o.getZero(),h=o.getOne();for(;c.getDegree()>=(s/2|0);){let M=l,D=d;if(l=c,d=h,l.isZero())throw new wi("r_{i-1} was zero");c=M;let b=o.getZero();const j=l.getCoefficient(l.getDegree()),H=o.inverse(j);for(;c.getDegree()>=l.getDegree()&&!c.isZero();){const $=c.getDegree()-l.getDegree(),ee=o.multiply(c.getCoefficient(c.getDegree()),H);b=b.addOrSubtract(o.buildMonomial($,ee)),c=c.addOrSubtract(l.multiplyByMonomial($,ee))}if(h=b.multiply(d).addOrSubtract(D),c.getDegree()>=l.getDegree())throw new zn("Division algorithm failed to reduce polynomial?")}const x=h.getCoefficient(0);if(x===0)throw new wi("sigmaTilde(0) was zero");const y=o.inverse(x),v=h.multiplyScalar(y),I=c.multiplyScalar(y);return[v,I]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const s=new Int32Array(r);let o=0;const l=this.field;for(let c=1;c<l.getSize()&&o<r;c++)t.evaluateAt(c)===0&&(s[o]=l.inverse(c),o++);if(o!==r)throw new wi("Error locator degree does not match number of roots");return s}findErrorMagnitudes(t,r){const s=r.length,o=new Int32Array(s),l=this.field;for(let c=0;c<s;c++){const d=l.inverse(r[c]);let h=1;for(let x=0;x<s;x++)if(c!==x){const y=l.multiply(r[x],d),v=y&1?y&-2:y|1;h=l.multiply(h,v)}o[c]=l.multiply(t.evaluateAt(d),l.inverse(h)),l.getGeneratorBase()!==0&&(o[c]=l.multiply(o[c],d))}return o}}var _t;(function(A){A[A.UPPER=0]="UPPER",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.DIGIT=3]="DIGIT",A[A.PUNCT=4]="PUNCT",A[A.BINARY=5]="BINARY"})(_t||(_t={}));class We{decode(t){this.ddata=t;let r=t.getBits(),s=this.extractBits(r),o=this.correctBits(s),l=We.convertBoolArrayToByteArray(o),c=We.getEncodedData(o),d=new cs(l,c,null,null);return d.setNumBits(o.length),d}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,s=_t.UPPER,o=_t.UPPER,l="",c=0;for(;c<r;)if(o===_t.BINARY){if(r-c<5)break;let d=We.readCode(t,c,5);if(c+=5,d===0){if(r-c<11)break;d=We.readCode(t,c,11)+31,c+=11}for(let h=0;h<d;h++){if(r-c<8){c=r;break}const x=We.readCode(t,c,8);l+=ue.castAsNonUtf8Char(x),c+=8}o=s}else{let d=o===_t.DIGIT?4:5;if(r-c<d)break;let h=We.readCode(t,c,d);c+=d;let x=We.getCharacter(o,h);x.startsWith("CTRL_")?(s=o,o=We.getTable(x.charAt(5)),x.charAt(6)==="L"&&(s=o)):(l+=x,o=s)}return l}static getTable(t){switch(t){case"L":return _t.LOWER;case"P":return _t.PUNCT;case"M":return _t.MIXED;case"D":return _t.DIGIT;case"B":return _t.BINARY;case"U":default:return _t.UPPER}}static getCharacter(t,r){switch(t){case _t.UPPER:return We.UPPER_TABLE[r];case _t.LOWER:return We.LOWER_TABLE[r];case _t.MIXED:return We.MIXED_TABLE[r];case _t.PUNCT:return We.PUNCT_TABLE[r];case _t.DIGIT:return We.DIGIT_TABLE[r];default:throw new zn("Bad table")}}correctBits(t){let r,s;this.ddata.getNbLayers()<=2?(s=6,r=Oe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,r=Oe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,r=Oe.AZTEC_DATA_10):(s=12,r=Oe.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),l=t.length/s;if(l<o)throw new F;let c=t.length%s,d=new Int32Array(l);for(let I=0;I<l;I++,c+=s)d[I]=We.readCode(t,c,s);try{new fs(r).decode(d,l-o)}catch(I){throw new F(I)}let h=(1<<s)-1,x=0;for(let I=0;I<o;I++){let M=d[I];if(M===0||M===h)throw new F;(M===1||M===h-1)&&x++}let y=new Array(o*s-x),v=0;for(let I=0;I<o;I++){let M=d[I];if(M===1||M===h-1)y.fill(M>1,v,v+s-1),v+=s-1;else for(let D=s-1;D>=0;--D)y[v++]=(M&1<<D)!==0}return y}extractBits(t){let r=this.ddata.isCompact(),s=this.ddata.getNbLayers(),o=(r?11:14)+s*4,l=new Int32Array(o),c=new Array(this.totalBitsInLayer(s,r));if(r)for(let d=0;d<l.length;d++)l[d]=d;else{let d=o+1+2*_.truncDivision(_.truncDivision(o,2)-1,15),h=o/2,x=_.truncDivision(d,2);for(let y=0;y<h;y++){let v=y+_.truncDivision(y,15);l[h-y-1]=x-v-1,l[h+y]=x+v+1}}for(let d=0,h=0;d<s;d++){let x=(s-d)*4+(r?9:12),y=d*2,v=o-1-y;for(let I=0;I<x;I++){let M=I*2;for(let D=0;D<2;D++)c[h+M+D]=t.get(l[y+D],l[y+I]),c[h+2*x+M+D]=t.get(l[y+I],l[v-D]),c[h+4*x+M+D]=t.get(l[v-D],l[v-I]),c[h+6*x+M+D]=t.get(l[v-I],l[y+D])}h+=x*8}return c}static readCode(t,r,s){let o=0;for(let l=r;l<r+s;l++)o<<=1,t[l]&&(o|=1);return o}static readByte(t,r){let s=t.length-r;return s>=8?We.readCode(t,r,8):We.readCode(t,r,s)<<8-s}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let s=0;s<r.length;s++)r[s]=We.readByte(t,8*s);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}We.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],We.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],We.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],We.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],We.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ne{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,s,o){const l=t-s,c=r-o;return Math.sqrt(l*l+c*c)}static sum(t){let r=0;for(let s=0,o=t.length;s!==o;s++){const l=t[s];r+=l}return r}}class xo{static floatToIntBits(t){return t}}xo.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ce{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof ce){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*xo.floatToIntBits(this.x)+xo.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),s=this.distance(t[1],t[2]),o=this.distance(t[0],t[2]);let l,c,d;if(s>=r&&s>=o?(c=t[0],l=t[1],d=t[2]):o>=s&&o>=r?(c=t[1],l=t[0],d=t[2]):(c=t[2],l=t[0],d=t[1]),this.crossProductZ(l,c,d)<0){const h=l;l=d,d=h}t[0]=l,t[1]=c,t[2]=d}static distance(t,r){return Ne.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,s){const o=r.x,l=r.y;return(s.x-o)*(t.y-l)-(s.y-l)*(t.x-o)}}class mo{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Zu extends mo{constructor(t,r,s,o,l){super(t,r),this.compact=s,this.nbDatablocks=o,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class er{constructor(t,r,s,o){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=er.INIT_SIZE),s==null&&(s=t.getWidth()/2|0),o==null&&(o=t.getHeight()/2|0);const l=r/2|0;if(this.leftInit=s-l,this.rightInit=s+l,this.upInit=o-l,this.downInit=o+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}detect(){let t=this.leftInit,r=this.rightInit,s=this.upInit,o=this.downInit,l=!1,c=!0,d=!1,h=!1,x=!1,y=!1,v=!1;const I=this.width,M=this.height;for(;c;){c=!1;let D=!0;for(;(D||!h)&&r<I;)D=this.containsBlackPoint(s,o,r,!1),D?(r++,c=!0,h=!0):h||r++;if(r>=I){l=!0;break}let b=!0;for(;(b||!x)&&o<M;)b=this.containsBlackPoint(t,r,o,!0),b?(o++,c=!0,x=!0):x||o++;if(o>=M){l=!0;break}let j=!0;for(;(j||!y)&&t>=0;)j=this.containsBlackPoint(s,o,t,!1),j?(t--,c=!0,y=!0):y||t--;if(t<0){l=!0;break}let H=!0;for(;(H||!v)&&s>=0;)H=this.containsBlackPoint(t,r,s,!0),H?(s--,c=!0,v=!0):v||s--;if(s<0){l=!0;break}c&&(d=!0)}if(!l&&d){const D=r-t;let b=null;for(let ee=1;b===null&&ee<D;ee++)b=this.getBlackPointOnSegment(t,o-ee,t+ee,o);if(b==null)throw new W;let j=null;for(let ee=1;j===null&&ee<D;ee++)j=this.getBlackPointOnSegment(t,s+ee,t+ee,s);if(j==null)throw new W;let H=null;for(let ee=1;H===null&&ee<D;ee++)H=this.getBlackPointOnSegment(r,s+ee,r-ee,s);if(H==null)throw new W;let $=null;for(let ee=1;$===null&&ee<D;ee++)$=this.getBlackPointOnSegment(r,o-ee,r-ee,o);if($==null)throw new W;return this.centerEdges($,b,H,j)}else throw new W}getBlackPointOnSegment(t,r,s,o){const l=Ne.round(Ne.distance(t,r,s,o)),c=(s-t)/l,d=(o-r)/l,h=this.image;for(let x=0;x<l;x++){const y=Ne.round(t+x*c),v=Ne.round(r+x*d);if(h.get(y,v))return new ce(y,v)}return null}centerEdges(t,r,s,o){const l=t.getX(),c=t.getY(),d=r.getX(),h=r.getY(),x=s.getX(),y=s.getY(),v=o.getX(),I=o.getY(),M=er.CORR;return l<this.width/2?[new ce(v-M,I+M),new ce(d+M,h+M),new ce(x-M,y-M),new ce(l+M,c-M)]:[new ce(v+M,I+M),new ce(d+M,h-M),new ce(x-M,y+M),new ce(l-M,c-M)]}containsBlackPoint(t,r,s,o){const l=this.image;if(o){for(let c=t;c<=r;c++)if(l.get(c,s))return!0}else for(let c=t;c<=r;c++)if(l.get(s,c))return!0;return!1}}er.INIT_SIZE=10,er.CORR=1;class Ka{static checkAndNudgePoints(t,r){const s=t.getWidth(),o=t.getHeight();let l=!0;for(let c=0;c<r.length&&l;c+=2){const d=Math.floor(r[c]),h=Math.floor(r[c+1]);if(d<-1||d>s||h<-1||h>o)throw new W;l=!1,d===-1?(r[c]=0,l=!0):d===s&&(r[c]=s-1,l=!0),h===-1?(r[c+1]=0,l=!0):h===o&&(r[c+1]=o-1,l=!0)}l=!0;for(let c=r.length-2;c>=0&&l;c-=2){const d=Math.floor(r[c]),h=Math.floor(r[c+1]);if(d<-1||d>s||h<-1||h>o)throw new W;l=!1,d===-1?(r[c]=0,l=!0):d===s&&(r[c]=s-1,l=!0),h===-1?(r[c+1]=0,l=!0):h===o&&(r[c+1]=o-1,l=!0)}}}class Mn{constructor(t,r,s,o,l,c,d,h,x){this.a11=t,this.a21=r,this.a31=s,this.a12=o,this.a22=l,this.a32=c,this.a13=d,this.a23=h,this.a33=x}static quadrilateralToQuadrilateral(t,r,s,o,l,c,d,h,x,y,v,I,M,D,b,j){const H=Mn.quadrilateralToSquare(t,r,s,o,l,c,d,h);return Mn.squareToQuadrilateral(x,y,v,I,M,D,b,j).times(H)}transformPoints(t){const r=t.length,s=this.a11,o=this.a12,l=this.a13,c=this.a21,d=this.a22,h=this.a23,x=this.a31,y=this.a32,v=this.a33;for(let I=0;I<r;I+=2){const M=t[I],D=t[I+1],b=l*M+h*D+v;t[I]=(s*M+c*D+x)/b,t[I+1]=(o*M+d*D+y)/b}}transformPointsWithValues(t,r){const s=this.a11,o=this.a12,l=this.a13,c=this.a21,d=this.a22,h=this.a23,x=this.a31,y=this.a32,v=this.a33,I=t.length;for(let M=0;M<I;M++){const D=t[M],b=r[M],j=l*D+h*b+v;t[M]=(s*D+c*b+x)/j,r[M]=(o*D+d*b+y)/j}}static squareToQuadrilateral(t,r,s,o,l,c,d,h){const x=t-s+l-d,y=r-o+c-h;if(x===0&&y===0)return new Mn(s-t,l-s,t,o-r,c-o,r,0,0,1);{const v=s-l,I=d-l,M=o-c,D=h-c,b=v*D-I*M,j=(x*D-I*y)/b,H=(v*y-x*M)/b;return new Mn(s-t+j*s,d-t+H*d,t,o-r+j*o,h-r+H*h,r,j,H,1)}}static quadrilateralToSquare(t,r,s,o,l,c,d,h){return Mn.squareToQuadrilateral(t,r,s,o,l,c,d,h).buildAdjoint()}buildAdjoint(){return new Mn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Mn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Ku extends Ka{sampleGrid(t,r,s,o,l,c,d,h,x,y,v,I,M,D,b,j,H,$,ee){const q=Mn.quadrilateralToQuadrilateral(o,l,c,d,h,x,y,v,I,M,D,b,j,H,$,ee);return this.sampleGridWithTransform(t,r,s,q)}sampleGridWithTransform(t,r,s,o){if(r<=0||s<=0)throw new W;const l=new be(r,s),c=new Float32Array(2*r);for(let d=0;d<s;d++){const h=c.length,x=d+.5;for(let y=0;y<h;y+=2)c[y]=y/2+.5,c[y+1]=x;o.transformPoints(c),Ka.checkAndNudgePoints(t,c);try{for(let y=0;y<h;y+=2)t.get(Math.floor(c[y]),Math.floor(c[y+1]))&&l.set(y/2,d)}catch{throw new W}}return l}}class pr{static setGridSampler(t){pr.gridSampler=t}static getInstance(){return pr.gridSampler}}pr.gridSampler=new Ku;class zt{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new ce(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class qu{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),s=this.getBullsEyeCorners(r);if(t){let c=s[0];s[0]=s[2],s[2]=c}this.extractParameters(s);let o=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),l=this.getMatrixCornerPoints(s);return new Zu(o,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new W;let r=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(s,r);let o=0;for(let c=0;c<4;c++){let d=s[(this.shift+c)%4];this.compact?(o<<=7,o+=d>>1&127):(o<<=10,o+=(d>>2&992)+(d>>1&31))}let l=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(t,r){let s=0;t.forEach((o,l,c)=>{let d=(o>>r-2<<1)+(o&1);s=(s<<3)+d}),s=((s&1)<<11)+(s>>1);for(let o=0;o<4;o++)if(_.bitCount(s^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new W}getCorrectedParameterData(t,r){let s,o;r?(s=7,o=2):(s=10,o=4);let l=s-o,c=new Int32Array(s);for(let h=s-1;h>=0;--h)c[h]=t&15,t>>=4;try{new fs(Oe.AZTEC_PARAM).decode(c,l)}catch{throw new W}let d=0;for(let h=0;h<o;h++)d=(d<<4)+c[h];return d}getBullsEyeCorners(t){let r=t,s=t,o=t,l=t,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let v=this.getFirstDifferent(r,c,1,-1),I=this.getFirstDifferent(s,c,1,1),M=this.getFirstDifferent(o,c,-1,1),D=this.getFirstDifferent(l,c,-1,-1);if(this.nbCenterLayers>2){let b=this.distancePoint(D,v)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(b<.75||b>1.25||!this.isWhiteOrBlackRectangle(v,I,M,D))break}r=v,s=I,o=M,l=D,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new W;this.compact=this.nbCenterLayers===5;let d=new ce(r.getX()+.5,r.getY()-.5),h=new ce(s.getX()+.5,s.getY()+.5),x=new ce(o.getX()-.5,o.getY()+.5),y=new ce(l.getX()-.5,l.getY()-.5);return this.expandSquare([d,h,x,y],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,s,o;try{let d=new er(this.image).detect();t=d[0],r=d[1],s=d[2],o=d[3]}catch{let h=this.image.getWidth()/2,x=this.image.getHeight()/2;t=this.getFirstDifferent(new zt(h+7,x-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new zt(h+7,x+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new zt(h-7,x+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new zt(h-7,x-7),!1,-1,-1).toResultPoint()}let l=Ne.round((t.getX()+o.getX()+r.getX()+s.getX())/4),c=Ne.round((t.getY()+o.getY()+r.getY()+s.getY())/4);try{let d=new er(this.image,15,l,c).detect();t=d[0],r=d[1],s=d[2],o=d[3]}catch{t=this.getFirstDifferent(new zt(l+7,c-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new zt(l+7,c+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new zt(l-7,c+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new zt(l-7,c-7),!1,-1,-1).toResultPoint()}return l=Ne.round((t.getX()+o.getX()+r.getX()+s.getX())/4),c=Ne.round((t.getY()+o.getY()+r.getY()+s.getY())/4),new zt(l,c)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,s,o,l){let c=pr.getInstance(),d=this.getDimension(),h=d/2-this.nbCenterLayers,x=d/2+this.nbCenterLayers;return c.sampleGrid(t,d,d,h,h,x,h,x,x,h,x,r.getX(),r.getY(),s.getX(),s.getY(),o.getX(),o.getY(),l.getX(),l.getY())}sampleLine(t,r,s){let o=0,l=this.distanceResultPoint(t,r),c=l/s,d=t.getX(),h=t.getY(),x=c*(r.getX()-t.getX())/l,y=c*(r.getY()-t.getY())/l;for(let v=0;v<s;v++)this.image.get(Ne.round(d+v*x),Ne.round(h+v*y))&&(o|=1<<s-v-1);return o}isWhiteOrBlackRectangle(t,r,s,o){let l=3;t=new zt(t.getX()-l,t.getY()+l),r=new zt(r.getX()-l,r.getY()-l),s=new zt(s.getX()+l,s.getY()-l),o=new zt(o.getX()+l,o.getY()+l);let c=this.getColor(o,t);if(c===0)return!1;let d=this.getColor(t,r);return d!==c||(d=this.getColor(r,s),d!==c)?!1:(d=this.getColor(s,o),d===c)}getColor(t,r){let s=this.distancePoint(t,r),o=(r.getX()-t.getX())/s,l=(r.getY()-t.getY())/s,c=0,d=t.getX(),h=t.getY(),x=this.image.get(t.getX(),t.getY()),y=Math.ceil(s);for(let I=0;I<y;I++)d+=o,h+=l,this.image.get(Ne.round(d),Ne.round(h))!==x&&c++;let v=c/s;return v>.1&&v<.9?0:v<=.1===x?1:-1}getFirstDifferent(t,r,s,o){let l=t.getX()+s,c=t.getY()+o;for(;this.isValid(l,c)&&this.image.get(l,c)===r;)l+=s,c+=o;for(l-=s,c-=o;this.isValid(l,c)&&this.image.get(l,c)===r;)l+=s;for(l-=s;this.isValid(l,c)&&this.image.get(l,c)===r;)c+=o;return c-=o,new zt(l,c)}expandSquare(t,r,s){let o=s/(2*r),l=t[0].getX()-t[2].getX(),c=t[0].getY()-t[2].getY(),d=(t[0].getX()+t[2].getX())/2,h=(t[0].getY()+t[2].getY())/2,x=new ce(d+o*l,h+o*c),y=new ce(d-o*l,h-o*c);l=t[1].getX()-t[3].getX(),c=t[1].getY()-t[3].getY(),d=(t[1].getX()+t[3].getX())/2,h=(t[1].getY()+t[3].getY())/2;let v=new ce(d+o*l,h+o*c),I=new ce(d-o*l,h-o*c);return[x,v,y,I]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=Ne.round(t.getX()),s=Ne.round(t.getY());return this.isValid(r,s)}distancePoint(t,r){return Ne.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return Ne.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(_.truncDivision(this.nbLayers-4,8)+1)+15}}class wo{decode(t,r=null){let s=null,o=new qu(t.getBlackMatrix()),l=null,c=null;try{let y=o.detectMirror(!1);l=y.getPoints(),this.reportFoundResultPoints(r,l),c=new We().decode(y)}catch(y){s=y}if(c==null)try{let y=o.detectMirror(!0);l=y.getPoints(),this.reportFoundResultPoints(r,l),c=new We().decode(y)}catch(y){throw s??y}let d=new Le(c.getText(),c.getRawBytes(),c.getNumBits(),l,le.AZTEC,B.currentTimeMillis()),h=c.getByteSegments();h!=null&&d.putMetadata(vt.BYTE_SEGMENTS,h);let x=c.getECLevel();return x!=null&&d.putMetadata(vt.ERROR_CORRECTION_LEVEL,x),d}reportFoundResultPoints(t,r){if(t!=null){let s=t.get(Z.NEED_RESULT_POINT_CALLBACK);s!=null&&r.forEach((o,l,c)=>{s.foundPossibleResultPoint(o)})}}reset(){}}class Wh extends Ke{constructor(t=500){super(new wo,t)}}class pt{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(Z.TRY_HARDER)===!0&&t.isRotateSupported()){const l=t.rotateCounterClockwise(),c=this.doDecode(l,r),d=c.getResultMetadata();let h=270;d!==null&&d.get(vt.ORIENTATION)===!0&&(h=h+d.get(vt.ORIENTATION)%360),c.putMetadata(vt.ORIENTATION,h);const x=c.getResultPoints();if(x!==null){const y=l.getHeight();for(let v=0;v<x.length;v++)x[v]=new ce(y-x[v].getY()-1,x[v].getX())}return c}else throw new W}}reset(){}doDecode(t,r){const s=t.getWidth(),o=t.getHeight();let l=new P(s);const c=r&&r.get(Z.TRY_HARDER)===!0,d=Math.max(1,o>>(c?8:5));let h;c?h=o:h=15;const x=Math.trunc(o/2);for(let y=0;y<h;y++){const v=Math.trunc((y+1)/2),I=(y&1)===0,M=x+d*(I?v:-v);if(M<0||M>=o)break;try{l=t.getBlackRow(M,l)}catch{continue}for(let D=0;D<2;D++){if(D===1&&(l.reverse(),r&&r.get(Z.NEED_RESULT_POINT_CALLBACK)===!0)){const b=new Map;r.forEach((j,H)=>b.set(H,j)),b.delete(Z.NEED_RESULT_POINT_CALLBACK),r=b}try{const b=this.decodeRow(M,l,r);if(D===1){b.putMetadata(vt.ORIENTATION,180);const j=b.getResultPoints();j!==null&&(j[0]=new ce(s-j[0].getX()-1,j[0].getY()),j[1]=new ce(s-j[1].getX()-1,j[1].getY()))}return b}catch{}}}throw new W}static recordPattern(t,r,s){const o=s.length;for(let x=0;x<o;x++)s[x]=0;const l=t.getSize();if(r>=l)throw new W;let c=!t.get(r),d=0,h=r;for(;h<l;){if(t.get(h)!==c)s[d]++;else{if(++d===o)break;s[d]=1,c=!c}h++}if(!(d===o||d===o-1&&h===l))throw new W}static recordPatternInReverse(t,r,s){let o=s.length,l=t.get(r);for(;r>0&&o>=0;)t.get(--r)!==l&&(o--,l=!l);if(o>=0)throw new W;pt.recordPattern(t,r+1,s)}static patternMatchVariance(t,r,s){const o=t.length;let l=0,c=0;for(let x=0;x<o;x++)l+=t[x],c+=r[x];if(l<c)return Number.POSITIVE_INFINITY;const d=l/c;s*=d;let h=0;for(let x=0;x<o;x++){const y=t[x],v=r[x]*d,I=y>v?y-v:v-y;if(I>s)return Number.POSITIVE_INFINITY;h+=I}return h/l}}class ne extends pt{static findStartPattern(t){const r=t.getSize(),s=t.getNextSet(0);let o=0,l=Int32Array.from([0,0,0,0,0,0]),c=s,d=!1;const h=6;for(let x=s;x<r;x++)if(t.get(x)!==d)l[o]++;else{if(o===h-1){let y=ne.MAX_AVG_VARIANCE,v=-1;for(let I=ne.CODE_START_A;I<=ne.CODE_START_C;I++){const M=pt.patternMatchVariance(l,ne.CODE_PATTERNS[I],ne.MAX_INDIVIDUAL_VARIANCE);M<y&&(y=M,v=I)}if(v>=0&&t.isRange(Math.max(0,c-(x-c)/2),c,!1))return Int32Array.from([c,x,v]);c+=l[0]+l[1],l=l.slice(2,l.length-1),l[o-1]=0,l[o]=0,o--}else o++;l[o]=1,d=!d}throw new W}static decodeCode(t,r,s){pt.recordPattern(t,s,r);let o=ne.MAX_AVG_VARIANCE,l=-1;for(let c=0;c<ne.CODE_PATTERNS.length;c++){const d=ne.CODE_PATTERNS[c],h=this.patternMatchVariance(r,d,ne.MAX_INDIVIDUAL_VARIANCE);h<o&&(o=h,l=c)}if(l>=0)return l;throw new W}decodeRow(t,r,s){const o=s&&s.get(Z.ASSUME_GS1)===!0,l=ne.findStartPattern(r),c=l[2];let d=0;const h=new Uint8Array(20);h[d++]=c;let x;switch(c){case ne.CODE_START_A:x=ne.CODE_CODE_A;break;case ne.CODE_START_B:x=ne.CODE_CODE_B;break;case ne.CODE_START_C:x=ne.CODE_CODE_C;break;default:throw new F}let y=!1,v=!1,I="",M=l[0],D=l[1];const b=Int32Array.from([0,0,0,0,0,0]);let j=0,H=0,$=c,ee=0,q=!0,Ie=!1,ye=!1;for(;!y;){const Ni=v;switch(v=!1,j=H,H=ne.decodeCode(r,b,D),h[d++]=H,H!==ne.CODE_STOP&&(q=!0),H!==ne.CODE_STOP&&(ee++,$+=ee*H),M=D,D+=b.reduce((yg,Eg)=>yg+Eg,0),H){case ne.CODE_START_A:case ne.CODE_START_B:case ne.CODE_START_C:throw new F}switch(x){case ne.CODE_CODE_A:if(H<64)ye===Ie?I+=String.fromCharCode(32+H):I+=String.fromCharCode(32+H+128),ye=!1;else if(H<96)ye===Ie?I+=String.fromCharCode(H-64):I+=String.fromCharCode(H+64),ye=!1;else switch(H!==ne.CODE_STOP&&(q=!1),H){case ne.CODE_FNC_1:o&&(I.length===0?I+="]C1":I+="");break;case ne.CODE_FNC_2:case ne.CODE_FNC_3:break;case ne.CODE_FNC_4_A:!Ie&&ye?(Ie=!0,ye=!1):Ie&&ye?(Ie=!1,ye=!1):ye=!0;break;case ne.CODE_SHIFT:v=!0,x=ne.CODE_CODE_B;break;case ne.CODE_CODE_B:x=ne.CODE_CODE_B;break;case ne.CODE_CODE_C:x=ne.CODE_CODE_C;break;case ne.CODE_STOP:y=!0;break}break;case ne.CODE_CODE_B:if(H<96)ye===Ie?I+=String.fromCharCode(32+H):I+=String.fromCharCode(32+H+128),ye=!1;else switch(H!==ne.CODE_STOP&&(q=!1),H){case ne.CODE_FNC_1:o&&(I.length===0?I+="]C1":I+="");break;case ne.CODE_FNC_2:case ne.CODE_FNC_3:break;case ne.CODE_FNC_4_B:!Ie&&ye?(Ie=!0,ye=!1):Ie&&ye?(Ie=!1,ye=!1):ye=!0;break;case ne.CODE_SHIFT:v=!0,x=ne.CODE_CODE_A;break;case ne.CODE_CODE_A:x=ne.CODE_CODE_A;break;case ne.CODE_CODE_C:x=ne.CODE_CODE_C;break;case ne.CODE_STOP:y=!0;break}break;case ne.CODE_CODE_C:if(H<100)H<10&&(I+="0"),I+=H;else switch(H!==ne.CODE_STOP&&(q=!1),H){case ne.CODE_FNC_1:o&&(I.length===0?I+="]C1":I+="");break;case ne.CODE_CODE_A:x=ne.CODE_CODE_A;break;case ne.CODE_CODE_B:x=ne.CODE_CODE_B;break;case ne.CODE_STOP:y=!0;break}break}Ni&&(x=x===ne.CODE_CODE_A?ne.CODE_CODE_B:ne.CODE_CODE_A)}const Jt=D-M;if(D=r.getNextUnset(D),!r.isRange(D,Math.min(r.getSize(),D+(D-M)/2),!1))throw new W;if($-=ee*j,$%103!==j)throw new L;const Rn=I.length;if(Rn===0)throw new W;Rn>0&&q&&(x===ne.CODE_CODE_C?I=I.substring(0,Rn-2):I=I.substring(0,Rn-1));const $t=(l[1]+l[0])/2,He=M+Jt/2,Rt=h.length,on=new Uint8Array(Rt);for(let Ni=0;Ni<Rt;Ni++)on[Ni]=h[Ni];const Ti=[new ce($t,t),new ce(He,t)];return new Le(I,on,0,Ti,le.CODE_128,new Date().getTime())}}ne.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ne.MAX_AVG_VARIANCE=.25,ne.MAX_INDIVIDUAL_VARIANCE=.7,ne.CODE_SHIFT=98,ne.CODE_CODE_C=99,ne.CODE_CODE_B=100,ne.CODE_CODE_A=101,ne.CODE_FNC_1=102,ne.CODE_FNC_2=97,ne.CODE_FNC_3=96,ne.CODE_FNC_4_A=101,ne.CODE_FNC_4_B=100,ne.CODE_START_A=103,ne.CODE_START_B=104,ne.CODE_START_C=105,ne.CODE_STOP=106;class wt extends pt{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,s){let o=this.counters;o.fill(0),this.decodeRowResult="";let l=wt.findAsteriskPattern(r,o),c=r.getNextSet(l[1]),d=r.getSize(),h,x;do{wt.recordPattern(r,c,o);let b=wt.toNarrowWidePattern(o);if(b<0)throw new W;h=wt.patternToChar(b),this.decodeRowResult+=h,x=c;for(let j of o)c+=j;c=r.getNextSet(c)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let y=0;for(let b of o)y+=b;let v=c-x-y;if(c!==d&&v*2<y)throw new W;if(this.usingCheckDigit){let b=this.decodeRowResult.length-1,j=0;for(let H=0;H<b;H++)j+=wt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(H));if(this.decodeRowResult.charAt(b)!==wt.ALPHABET_STRING.charAt(j%43))throw new L;this.decodeRowResult=this.decodeRowResult.substring(0,b)}if(this.decodeRowResult.length===0)throw new W;let I;this.extendedMode?I=wt.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let M=(l[1]+l[0])/2,D=x+y/2;return new Le(I,null,0,[new ce(M,t),new ce(D,t)],le.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let s=t.getSize(),o=t.getNextSet(0),l=0,c=o,d=!1,h=r.length;for(let x=o;x<s;x++)if(t.get(x)!==d)r[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(r)===wt.ASTERISK_ENCODING&&t.isRange(Math.max(0,c-Math.floor((x-c)/2)),c,!1))return[c,x];c+=r[0]+r[1],r.copyWithin(0,2,2+l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,d=!d}throw new W}static toNarrowWidePattern(t){let r=t.length,s=0,o;do{let l=2147483647;for(let h of t)h<l&&h>s&&(l=h);s=l,o=0;let c=0,d=0;for(let h=0;h<r;h++){let x=t[h];x>s&&(d|=1<<r-1-h,o++,c+=x)}if(o===3){for(let h=0;h<r&&o>0;h++){let x=t[h];if(x>s&&(o--,x*2>=c))return-1}return d}}while(o>3);return-1}static patternToChar(t){for(let r=0;r<wt.CHARACTER_ENCODINGS.length;r++)if(wt.CHARACTER_ENCODINGS[r]===t)return wt.ALPHABET_STRING.charAt(r);if(t===wt.ASTERISK_ENCODING)return"*";throw new W}static decodeExtended(t){let r=t.length,s="";for(let o=0;o<r;o++){let l=t.charAt(o);if(l==="+"||l==="$"||l==="%"||l==="/"){let c=t.charAt(o+1),d="\0";switch(l){case"+":if(c>="A"&&c<="Z")d=String.fromCharCode(c.charCodeAt(0)+32);else throw new F;break;case"$":if(c>="A"&&c<="Z")d=String.fromCharCode(c.charCodeAt(0)-64);else throw new F;break;case"%":if(c>="A"&&c<="E")d=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")d=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")d=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")d=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")d="\0";else if(c==="V")d="@";else if(c==="W")d="`";else if(c==="X"||c==="Y"||c==="Z")d="";else throw new F;break;case"/":if(c>="A"&&c<="O")d=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")d=":";else throw new F;break}s+=d,o++}else s+=l}return s}}wt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",wt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],wt.ASTERISK_ENCODING=148;class ze extends pt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,s){let o=this.decodeStart(r),l=this.decodeEnd(r),c=new Ee;ze.decodeMiddle(r,o[1],l[0],c);let d=c.toString(),h=null;s!=null&&(h=s.get(Z.ALLOWED_LENGTHS)),h==null&&(h=ze.DEFAULT_ALLOWED_LENGTHS);let x=d.length,y=!1,v=0;for(let D of h){if(x===D){y=!0;break}D>v&&(v=D)}if(!y&&x>v&&(y=!0),!y)throw new F;const I=[new ce(o[1],t),new ce(l[0],t)];return new Le(d,null,0,I,le.ITF,new Date().getTime())}static decodeMiddle(t,r,s,o){let l=new Int32Array(10),c=new Int32Array(5),d=new Int32Array(5);for(l.fill(0),c.fill(0),d.fill(0);r<s;){pt.recordPattern(t,r,l);for(let x=0;x<5;x++){let y=2*x;c[x]=l[y],d[x]=l[y+1]}let h=ze.decodeDigit(c);o.append(h.toString()),h=this.decodeDigit(d),o.append(h.toString()),l.forEach(function(x){r+=x})}}decodeStart(t){let r=ze.skipWhiteSpace(t),s=ze.findGuardPattern(t,r,ze.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(t,s[0]),s}validateQuietZone(t,r){let s=this.narrowLineWidth*10;s=s<r?s:r;for(let o=r-1;s>0&&o>=0&&!t.get(o);o--)s--;if(s!==0)throw new W}static skipWhiteSpace(t){const r=t.getSize(),s=t.getNextSet(0);if(s===r)throw new W;return s}decodeEnd(t){t.reverse();try{let r=ze.skipWhiteSpace(t),s;try{s=ze.findGuardPattern(t,r,ze.END_PATTERN_REVERSED[0])}catch(l){l instanceof W&&(s=ze.findGuardPattern(t,r,ze.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,s[0]);let o=s[0];return s[0]=t.getSize()-s[1],s[1]=t.getSize()-o,s}finally{t.reverse()}}static findGuardPattern(t,r,s){let o=s.length,l=new Int32Array(o),c=t.getSize(),d=!1,h=0,x=r;l.fill(0);for(let y=r;y<c;y++)if(t.get(y)!==d)l[h]++;else{if(h===o-1){if(pt.patternMatchVariance(l,s,ze.MAX_INDIVIDUAL_VARIANCE)<ze.MAX_AVG_VARIANCE)return[x,y];x+=l[0]+l[1],B.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,d=!d}throw new W}static decodeDigit(t){let r=ze.MAX_AVG_VARIANCE,s=-1,o=ze.PATTERNS.length;for(let l=0;l<o;l++){let c=ze.PATTERNS[l],d=pt.patternMatchVariance(t,c,ze.MAX_INDIVIDUAL_VARIANCE);d<r?(r=d,s=l):d===r&&(s=-1)}if(s>=0)return s%10;throw new W}}ze.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ze.MAX_AVG_VARIANCE=.38,ze.MAX_INDIVIDUAL_VARIANCE=.5,ze.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ze.START_PATTERN=Int32Array.from([1,1,1,1]),ze.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class st extends pt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,s,o=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),s=st.findGuardPattern(t,o,!1,this.START_END_PATTERN,l);let c=s[0];o=s[1];let d=c-(o-c);d>=0&&(r=t.isRange(d,c,!1))}return s}static checkChecksum(t){return st.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let s=parseInt(t.charAt(r-1),10);return st.getStandardUPCEANChecksum(t.substring(0,r-1))===s}static getStandardUPCEANChecksum(t){let r=t.length,s=0;for(let o=r-1;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new F;s+=l}s*=3;for(let o=r-2;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new F;s+=l}return(1e3-s)%10}static decodeEnd(t,r){return st.findGuardPattern(t,r,!1,st.START_END_PATTERN,new Int32Array(st.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,s,o){return this.findGuardPattern(t,r,s,o,new Int32Array(o.length))}static findGuardPattern(t,r,s,o,l){let c=t.getSize();r=s?t.getNextUnset(r):t.getNextSet(r);let d=0,h=r,x=o.length,y=s;for(let v=r;v<c;v++)if(t.get(v)!==y)l[d]++;else{if(d===x-1){if(pt.patternMatchVariance(l,o,st.MAX_INDIVIDUAL_VARIANCE)<st.MAX_AVG_VARIANCE)return Int32Array.from([h,v]);h+=l[0]+l[1];let I=l.slice(2,l.length-1);for(let M=0;M<d-1;M++)l[M]=I[M];l[d-1]=0,l[d]=0,d--}else d++;l[d]=1,y=!y}throw new W}static decodeDigit(t,r,s,o){this.recordPattern(t,s,r);let l=this.MAX_AVG_VARIANCE,c=-1,d=o.length;for(let h=0;h<d;h++){let x=o[h],y=pt.patternMatchVariance(r,x,st.MAX_INDIVIDUAL_VARIANCE);y<l&&(l=y,c=h)}if(c>=0)return c;throw new W}}st.MAX_AVG_VARIANCE=.48,st.MAX_INDIVIDUAL_VARIANCE=.7,st.START_END_PATTERN=Int32Array.from([1,1,1]),st.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),st.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),st.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ds{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,s){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,s,o),c=o.toString(),d=ds.parseExtensionString(c),h=[new ce((s[0]+s[1])/2,t),new ce(l,t)],x=new Le(c,null,0,h,le.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&x.putAllMetadata(d),x}decodeMiddle(t,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),c=r[1],d=0;for(let x=0;x<5&&c<l;x++){let y=st.decodeDigit(t,o,c,st.L_AND_G_PATTERNS);s+=String.fromCharCode(48+y%10);for(let v of o)c+=v;y>=10&&(d|=1<<4-x),x!==4&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(s.length!==5)throw new W;let h=this.determineCheckDigit(d);if(ds.extensionChecksum(s.toString())!==h)throw new W;return c}static extensionChecksum(t){let r=t.length,s=0;for(let o=r-2;o>=0;o-=2)s+=t.charAt(o).charCodeAt(0)-48;s*=3;for(let o=r-1;o>=0;o-=2)s+=t.charAt(o).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new W}static parseExtensionString(t){if(t.length!==5)return null;let r=ds.parseExtension5String(t);return r==null?null:new Map([[vt.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let s=parseInt(t.substring(1)),o=(s/100).toString(),l=s%100,c=l<10?"0"+l:l.toString();return r+o+"."+c}}class qa{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,s){let o=this.decodeRowStringBuffer,l=this.decodeMiddle(r,s,o),c=o.toString(),d=qa.parseExtensionString(c),h=[new ce((s[0]+s[1])/2,t),new ce(l,t)],x=new Le(c,null,0,h,le.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&x.putAllMetadata(d),x}decodeMiddle(t,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),c=r[1],d=0;for(let h=0;h<2&&c<l;h++){let x=st.decodeDigit(t,o,c,st.L_AND_G_PATTERNS);s+=String.fromCharCode(48+x%10);for(let y of o)c+=y;x>=10&&(d|=1<<1-h),h!==1&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(s.length!==2)throw new W;if(parseInt(s.toString())%4!==d)throw new W;return c}static parseExtensionString(t){return t.length!==2?null:new Map([[vt.ISSUE_NUMBER,parseInt(t)]])}}class Ju{static decodeRow(t,r,s){let o=st.findGuardPattern(r,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ds().decodeRow(t,r,o)}catch{return new qa().decodeRow(t,r,o)}}}Ju.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Re extends st{constructor(){super(),this.decodeRowStringBuffer="",Re.L_AND_G_PATTERNS=Re.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=Re.L_PATTERNS[t-10],s=new Int32Array(r.length);for(let o=0;o<r.length;o++)s[o]=r[r.length-o-1];Re.L_AND_G_PATTERNS[t]=s}}decodeRow(t,r,s){let o=Re.findStartGuardPattern(r),l=s==null?null:s.get(Z.NEED_RESULT_POINT_CALLBACK);if(l!=null){const q=new ce((o[0]+o[1])/2,t);l.foundPossibleResultPoint(q)}let c=this.decodeMiddle(r,o,this.decodeRowStringBuffer),d=c.rowOffset,h=c.resultString;if(l!=null){const q=new ce(d,t);l.foundPossibleResultPoint(q)}let x=this.decodeEnd(r,d);if(l!=null){const q=new ce((x[0]+x[1])/2,t);l.foundPossibleResultPoint(q)}let y=x[1],v=y+(y-x[0]);if(v>=r.getSize()||!r.isRange(y,v,!1))throw new W;let I=h.toString();if(I.length<8)throw new F;if(!Re.checkChecksum(I))throw new L;let M=(o[1]+o[0])/2,D=(x[1]+x[0])/2,b=this.getBarcodeFormat(),j=[new ce(M,t),new ce(D,t)],H=new Le(I,null,0,j,b,new Date().getTime()),$=0;try{let q=Ju.decodeRow(t,r,x[1]);H.putMetadata(vt.UPC_EAN_EXTENSION,q.getText()),H.putAllMetadata(q.getResultMetadata()),H.addResultPoints(q.getResultPoints()),$=q.getText().length}catch{}let ee=s==null?null:s.get(Z.ALLOWED_EAN_EXTENSIONS);if(ee!=null){let q=!1;for(let Ie in ee)if($.toString()===Ie){q=!0;break}if(!q)throw new W}return H}decodeEnd(t,r){return Re.findGuardPattern(t,r,!1,Re.START_END_PATTERN,new Int32Array(Re.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return Re.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let s=parseInt(t.charAt(r-1),10);return Re.getStandardUPCEANChecksum(t.substring(0,r-1))===s}static getStandardUPCEANChecksum(t){let r=t.length,s=0;for(let o=r-1;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new F;s+=l}s*=3;for(let o=r-2;o>=0;o-=2){let l=t.charAt(o).charCodeAt(0)-48;if(l<0||l>9)throw new F;s+=l}return(1e3-s)%10}}class Qr extends Re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,s){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),c=r[1],d=0;for(let x=0;x<6&&c<l;x++){let y=Re.decodeDigit(t,o,c,Re.L_AND_G_PATTERNS);s+=String.fromCharCode(48+y%10);for(let v of o)c+=v;y>=10&&(d|=1<<5-x)}s=Qr.determineFirstDigit(s,d),c=Re.findGuardPattern(t,c,!0,Re.MIDDLE_PATTERN,new Int32Array(Re.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&c<l;x++){let y=Re.decodeDigit(t,o,c,Re.L_PATTERNS);s+=String.fromCharCode(48+y);for(let v of o)c+=v}return{rowOffset:c,resultString:s}}getBarcodeFormat(){return le.EAN_13}static determineFirstDigit(t,r){for(let s=0;s<10;s++)if(r===this.FIRST_DIGIT_ENCODINGS[s])return t=String.fromCharCode(48+s)+t,t;throw new W}}Qr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class $u extends Re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,s){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),c=r[1];for(let h=0;h<4&&c<l;h++){let x=Re.decodeDigit(t,o,c,Re.L_PATTERNS);s+=String.fromCharCode(48+x);for(let y of o)c+=y}c=Re.findGuardPattern(t,c,!0,Re.MIDDLE_PATTERN,new Int32Array(Re.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&c<l;h++){let x=Re.decodeDigit(t,o,c,Re.L_PATTERNS);s+=String.fromCharCode(48+x);for(let y of o)c+=y}return{rowOffset:c,resultString:s}}getBarcodeFormat(){return le.EAN_8}}class e1 extends Re{constructor(){super(...arguments),this.ean13Reader=new Qr}getBarcodeFormat(){return le.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,s))}decodeMiddle(t,r,s){return this.ean13Reader.decodeMiddle(t,r,s)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let s=new Le(r.substring(1),null,null,t.getResultPoints(),le.UPC_A);return t.getResultMetadata()!=null&&s.putAllMetadata(t.getResultMetadata()),s}else throw new W}reset(){this.ean13Reader.reset()}}class On extends Re{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,s){const o=this.decodeMiddleCounters.map(x=>x);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const l=t.getSize();let c=r[1],d=0;for(let x=0;x<6&&c<l;x++){const y=On.decodeDigit(t,o,c,On.L_AND_G_PATTERNS);s+=String.fromCharCode(48+y%10);for(let v of o)c+=v;y>=10&&(d|=1<<5-x)}let h=On.determineNumSysAndCheckDigit(s,d);return{rowOffset:c,resultString:h}}decodeEnd(t,r){return On.findGuardPatternWithoutCounters(t,r,!0,On.MIDDLE_END_PATTERN)}checkChecksum(t){return Re.checkChecksum(On.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let s=0;s<=1;s++)for(let o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][o]){let l=String.fromCharCode(48+s),c=String.fromCharCode(48+o);return l+t+c}throw W.getNotFoundInstance()}getBarcodeFormat(){return le.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(l=>l.charCodeAt(0)),s=new Ee;s.append(t.charAt(0));let o=r[5];switch(o){case 0:case 1:case 2:s.appendChars(r,0,2),s.append(o),s.append("0000"),s.appendChars(r,2,3);break;case 3:s.appendChars(r,0,3),s.append("00000"),s.appendChars(r,3,2);break;case 4:s.appendChars(r,0,4),s.append("00000"),s.append(r[4]);break;default:s.appendChars(r,0,5),s.append("0000"),s.append(o);break}return t.length>=8&&s.append(t.charAt(7)),s.toString()}}On.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),On.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ja extends pt{constructor(t){super();let r=t==null?null:t.get(Z.POSSIBLE_FORMATS),s=[];a(r)?(s.push(new Qr),s.push(new e1),s.push(new $u),s.push(new On)):(r.indexOf(le.EAN_13)>-1&&s.push(new Qr),r.indexOf(le.UPC_A)>-1&&s.push(new e1),r.indexOf(le.EAN_8)>-1&&s.push(new $u),r.indexOf(le.UPC_E)>-1&&s.push(new On)),this.readers=s}decodeRow(t,r,s){for(let o of this.readers)try{const l=o.decodeRow(t,r,s),c=l.getBarcodeFormat()===le.EAN_13&&l.getText().charAt(0)==="0",d=s==null?null:s.get(Z.POSSIBLE_FORMATS),h=d==null||d.includes(le.UPC_A);if(c&&h){const x=l.getRawBytes(),y=new Le(l.getText().substring(1),x,x?x.length:null,l.getResultPoints(),le.UPC_A);return y.putAllMetadata(l.getResultMetadata()),y}return l}catch{}throw new W}reset(){for(let t of this.readers)t.reset()}}class kt extends pt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let s=0;s<r.length;s++)if(pt.patternMatchVariance(t,r[s],kt.MAX_INDIVIDUAL_VARIANCE)<kt.MAX_AVG_VARIANCE)return s;throw new W}static count(t){return Ne.sum(new Int32Array(t))}static increment(t,r){let s=0,o=r[0];for(let l=1;l<t.length;l++)r[l]>o&&(o=r[l],s=l);t[s]++}static decrement(t,r){let s=0,o=r[0];for(let l=1;l<t.length;l++)r[l]<o&&(o=r[l],s=l);t[s]--}static isFinderPattern(t){let r=t[0]+t[1],s=r+t[2]+t[3],o=r/s;if(o>=kt.MIN_FINDER_PATTERN_RATIO&&o<=kt.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let d of t)d>c&&(c=d),d<l&&(l=d);return c<10*l}return!1}}kt.MAX_AVG_VARIANCE=.2,kt.MAX_INDIVIDUAL_VARIANCE=.45,kt.MIN_FINDER_PATTERN_RATIO=9.5/12,kt.MAX_FINDER_PATTERN_RATIO=12.5/14;class yi{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof yi))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class yo{constructor(t,r,s,o,l){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new ce(s,l)),this.resultPoints.push(new ce(o,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof yo))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class Vn{constructor(){}static getRSSvalue(t,r,s){let o=0;for(let h of t)o+=h;let l=0,c=0,d=t.length;for(let h=0;h<d-1;h++){let x;for(x=1,c|=1<<h;x<t[h];x++,c&=~(1<<h)){let y=Vn.combins(o-x-1,d-h-2);if(s&&c===0&&o-x-(d-h-1)>=d-h-1&&(y-=Vn.combins(o-x-(d-h),d-h-2)),d-h-1>1){let v=0;for(let I=o-x-(d-h-2);I>r;I--)v+=Vn.combins(o-x-I-1,d-h-3);y-=v*(d-1-h)}else o-x>r&&y--;l+=y}o-=x}return l}static combins(t,r){let s,o;t-r>r?(o=r,s=t-r):(o=t-r,s=r);let l=1,c=1;for(let d=t;d>s;d--)l*=d,c<=o&&(l/=c,c++);for(;c<=o;)l/=c,c++;return l}}class Gh{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let s=12*r,o=new P(s),l=0,d=t[0].getRightChar().getValue();for(let h=11;h>=0;--h)d&1<<h&&o.set(l),l++;for(let h=1;h<t.length;++h){let x=t[h],y=x.getLeftChar().getValue();for(let v=11;v>=0;--v)y&1<<v&&o.set(l),l++;if(x.getRightChar()!=null){let v=x.getRightChar().getValue();for(let I=11;I>=0;--I)v&1<<I&&o.set(l),l++}}return o}}class Zr{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class $a{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Zt extends $a{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===Zt.FNC1}}Zt.FNC1="$";class Kr extends $a{constructor(t,r,s){super(t),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class mn extends $a{constructor(t,r,s){if(super(t),r<0||r>10||s<0||s>10)throw new F;this.firstDigit=r,this.secondDigit=s}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===mn.FNC1}isSecondDigitFNC1(){return this.secondDigit===mn.FNC1}isAnyFNC1(){return this.firstDigit===mn.FNC1||this.secondDigit===mn.FNC1}}mn.FNC1=10;class ie{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new W;let r=t.substring(0,2);for(let l of ie.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(2,l[2],t):ie.processFixedAI(2,l[1],t);if(t.length<3)throw new W;let s=t.substring(0,3);for(let l of ie.THREE_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(3,l[2],t):ie.processFixedAI(3,l[1],t);for(let l of ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(4,l[2],t):ie.processFixedAI(4,l[1],t);if(t.length<4)throw new W;let o=t.substring(0,4);for(let l of ie.FOUR_DIGIT_DATA_LENGTH)if(l[0]===o)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(4,l[2],t):ie.processFixedAI(4,l[1],t);throw new W}static processFixedAI(t,r,s){if(s.length<t)throw new W;let o=s.substring(0,t);if(s.length<t+r)throw new W;let l=s.substring(t,t+r),c=s.substring(t+r),d="("+o+")"+l,h=ie.parseFieldsInGeneralPurpose(c);return h==null?d:d+h}static processVariableAI(t,r,s){let o=s.substring(0,t),l;s.length<t+r?l=s.length:l=t+r;let c=s.substring(t,l),d=s.substring(l),h="("+o+")"+c,x=ie.parseFieldsInGeneralPurpose(d);return x==null?h:h+x}}ie.VARIABLE_LENGTH=[],ie.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ie.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ie.VARIABLE_LENGTH,20],["22",ie.VARIABLE_LENGTH,29],["30",ie.VARIABLE_LENGTH,8],["37",ie.VARIABLE_LENGTH,8],["90",ie.VARIABLE_LENGTH,30],["91",ie.VARIABLE_LENGTH,30],["92",ie.VARIABLE_LENGTH,30],["93",ie.VARIABLE_LENGTH,30],["94",ie.VARIABLE_LENGTH,30],["95",ie.VARIABLE_LENGTH,30],["96",ie.VARIABLE_LENGTH,30],["97",ie.VARIABLE_LENGTH,3],["98",ie.VARIABLE_LENGTH,30],["99",ie.VARIABLE_LENGTH,30]],ie.THREE_DIGIT_DATA_LENGTH=[["240",ie.VARIABLE_LENGTH,30],["241",ie.VARIABLE_LENGTH,30],["242",ie.VARIABLE_LENGTH,6],["250",ie.VARIABLE_LENGTH,30],["251",ie.VARIABLE_LENGTH,30],["253",ie.VARIABLE_LENGTH,17],["254",ie.VARIABLE_LENGTH,20],["400",ie.VARIABLE_LENGTH,30],["401",ie.VARIABLE_LENGTH,30],["402",17],["403",ie.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ie.VARIABLE_LENGTH,20],["421",ie.VARIABLE_LENGTH,15],["422",3],["423",ie.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ie.VARIABLE_LENGTH,15],["391",ie.VARIABLE_LENGTH,18],["392",ie.VARIABLE_LENGTH,15],["393",ie.VARIABLE_LENGTH,18],["703",ie.VARIABLE_LENGTH,30]],ie.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ie.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ie.VARIABLE_LENGTH,20],["8003",ie.VARIABLE_LENGTH,30],["8004",ie.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ie.VARIABLE_LENGTH,30],["8008",ie.VARIABLE_LENGTH,12],["8018",18],["8020",ie.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ie.VARIABLE_LENGTH,70],["8200",ie.VARIABLE_LENGTH,70]];class Ei{constructor(t){this.buffer=new Ee,this.information=t}decodeAllCodes(t,r){let s=r,o=null;do{let l=this.decodeGeneralPurposeField(s,o),c=ie.parseFieldsInGeneralPurpose(l.getNewString());if(c!=null&&t.append(c),l.isRemaining()?o=""+l.getRemainingValue():o=null,s===l.getNewPosition())break;s=l.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(t,4);return l===0?new mn(this.information.getSize(),mn.FNC1,mn.FNC1):new mn(this.information.getSize(),l-1,mn.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),s=(r-8)/11,o=(r-8)%11;return new mn(t+7,s,o)}extractNumericValueFromBitArray(t,r){return Ei.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,s){let o=0;for(let l=0;l<s;++l)t.get(r+l)&&(o|=1<<s-l-1);return o}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new Kr(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new Kr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let s=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(s!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new Kr(this.current.getPosition(),this.buffer.toString()):r=new Kr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Zr(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new Kr(this.current.getPosition(),this.buffer.toString());return new Zr(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Zr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Kr(this.current.getPosition(),this.buffer.toString());return new Zr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Zr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Kr(this.current.getPosition(),this.buffer.toString());return new Zr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Zr(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,7);if(s>=64&&s<116)return!0;if(t+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,8);return o>=232&&o<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Zt(t+5,Zt.FNC1);if(r>=5&&r<15)return new Zt(t+5,"0"+(r-5));let s=this.extractNumericValueFromBitArray(t,7);if(s>=64&&s<90)return new Zt(t+7,""+(s+1));if(s>=90&&s<116)return new Zt(t+7,""+(s+7));let o=this.extractNumericValueFromBitArray(t,8),l;switch(o){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new F}return new Zt(t+8,l)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,6);return s>=16&&s<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Zt(t+5,Zt.FNC1);if(r>=5&&r<15)return new Zt(t+5,"0"+(r-5));let s=this.extractNumericValueFromBitArray(t,6);if(s>=32&&s<58)return new Zt(t+6,""+(s+33));let o;switch(s){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new zn("Decoding invalid alphanumeric value: "+s)}return new Zt(t+6,o)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class el{constructor(t){this.information=t,this.generalDecoder=new Ei(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Kt extends el{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let s=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,s)}encodeCompressedGtinWithoutAI(t,r,s){for(let o=0;o<4;++o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);l/100===0&&t.append("0"),l/10===0&&t.append("0"),t.append(l)}Kt.appendCheckDigit(t,s)}static appendCheckDigit(t,r){let s=0;for(let o=0;o<13;o++){let l=t.charAt(o+r).charCodeAt(0)-48;s+=o&1?l:3*l}s=10-s%10,s===10&&(s=0),t.append(s)}}Kt.GTIN_SIZE=40;class Ci extends Kt{constructor(t){super(t)}parseInformation(){let t=new Ee;t.append("(01)");let r=t.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(Ci.HEADER_SIZE,4);return t.append(s),this.encodeCompressedGtinWithoutAI(t,Ci.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,Ci.HEADER_SIZE+44)}}Ci.HEADER_SIZE=4;class Eo extends el{constructor(t){super(t)}parseInformation(){let t=new Ee;return this.getGeneralDecoder().decodeAllCodes(t,Eo.HEADER_SIZE)}}Eo.HEADER_SIZE=5;class Co extends Kt{constructor(t){super(t)}encodeCompressedWeight(t,r,s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,s);this.addWeightCode(t,o);let l=this.checkWeight(o),c=1e5;for(let d=0;d<5;++d)l/c===0&&t.append("0"),c/=10;t.append(l)}}class Hn extends Co{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Hn.HEADER_SIZE+Co.GTIN_SIZE+Hn.WEIGHT_SIZE)throw new W;let t=new Ee;return this.encodeCompressedGtin(t,Hn.HEADER_SIZE),this.encodeCompressedWeight(t,Hn.HEADER_SIZE+Co.GTIN_SIZE,Hn.WEIGHT_SIZE),t.toString()}}Hn.HEADER_SIZE=5,Hn.WEIGHT_SIZE=15;class Yh extends Hn{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class Xh extends Hn{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Wn extends Kt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Wn.HEADER_SIZE+Kt.GTIN_SIZE)throw new W;let t=new Ee;this.encodeCompressedGtin(t,Wn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Wn.HEADER_SIZE+Kt.GTIN_SIZE,Wn.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let s=this.getGeneralDecoder().decodeGeneralPurposeField(Wn.HEADER_SIZE+Kt.GTIN_SIZE+Wn.LAST_DIGIT_SIZE,null);return t.append(s.getNewString()),t.toString()}}Wn.HEADER_SIZE=8,Wn.LAST_DIGIT_SIZE=2;class Vt extends Kt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Vt.HEADER_SIZE+Kt.GTIN_SIZE)throw new W;let t=new Ee;this.encodeCompressedGtin(t,Vt.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Vt.HEADER_SIZE+Kt.GTIN_SIZE,Vt.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Vt.HEADER_SIZE+Kt.GTIN_SIZE+Vt.LAST_DIGIT_SIZE,Vt.FIRST_THREE_DIGITS_SIZE);s/100==0&&t.append("0"),s/10==0&&t.append("0"),t.append(s);let o=this.getGeneralDecoder().decodeGeneralPurposeField(Vt.HEADER_SIZE+Kt.GTIN_SIZE+Vt.LAST_DIGIT_SIZE+Vt.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()}}Vt.HEADER_SIZE=8,Vt.LAST_DIGIT_SIZE=2,Vt.FIRST_THREE_DIGITS_SIZE=10;class qe extends Co{constructor(t,r,s){super(t),this.dateCode=s,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=qe.HEADER_SIZE+qe.GTIN_SIZE+qe.WEIGHT_SIZE+qe.DATE_SIZE)throw new W;let t=new Ee;return this.encodeCompressedGtin(t,qe.HEADER_SIZE),this.encodeCompressedWeight(t,qe.HEADER_SIZE+qe.GTIN_SIZE,qe.WEIGHT_SIZE),this.encodeCompressedDate(t,qe.HEADER_SIZE+qe.GTIN_SIZE+qe.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r,qe.DATE_SIZE);if(s==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let o=s%32;s/=32;let l=s%12+1;s/=12;let c=s;c/10==0&&t.append("0"),t.append(c),l/10==0&&t.append("0"),t.append(l),o/10==0&&t.append("0"),t.append(o)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}qe.HEADER_SIZE=8,qe.WEIGHT_SIZE=20,qe.DATE_SIZE=16;function t1(A){try{if(A.get(1))return new Ci(A);if(!A.get(2))return new Eo(A);switch(Ei.extractNumericValueFromBitArray(A,1,4)){case 4:return new Yh(A);case 5:return new Xh(A)}switch(Ei.extractNumericValueFromBitArray(A,1,5)){case 12:return new Wn(A);case 13:return new Vt(A)}switch(Ei.extractNumericValueFromBitArray(A,1,7)){case 56:return new qe(A,"310","11");case 57:return new qe(A,"320","11");case 58:return new qe(A,"310","13");case 59:return new qe(A,"320","13");case 60:return new qe(A,"310","15");case 61:return new qe(A,"320","15");case 62:return new qe(A,"310","17");case 63:return new qe(A,"320","17")}}catch(t){throw console.log(t),new zn("unknown decoder: "+A)}}class xr{constructor(t,r,s,o){this.leftchar=t,this.rightchar=r,this.finderpattern=s,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof xr?xr.equalsOrNull(t.leftchar,r.leftchar)&&xr.equalsOrNull(t.rightchar,r.rightchar)&&xr.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:xr.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class tl{constructor(t,r,s){this.pairs=t,this.rowNumber=r,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof tl?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let s;return t.forEach((o,l)=>{r.forEach(c=>{o.getLeftChar().getValue()===c.getLeftChar().getValue()&&o.getRightChar().getValue()===c.getRightChar().getValue()&&o.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(s=!0)})}),s}}class K extends kt{constructor(t){super(...arguments),this.pairs=new Array(K.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,s){this.pairs.length=0,this.startFromEven=!1;try{return K.constructResult(this.decodeRow2pairs(t,r))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,K.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(l){if(l instanceof W){if(!this.pairs.length)throw new W;s=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(t,!1),o){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new W}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let s=r;s<this.rows.length;s++){let o=this.rows[s];this.pairs.length=0;for(let c of t)this.pairs.push(c.getPairs());if(this.pairs.push(o.getPairs()),!K.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(t);l.push(o);try{return this.checkRows(l,s+1)}catch(c){this.verbose&&console.log(c)}}throw new W}static isValidSequence(t){for(let r of K.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let s=!0;for(let o=0;o<t.length;o++)if(t[o].getFinderPattern().getValue()!=r[o]){s=!1;break}if(s)return!0}return!1}storeRow(t,r){let s=0,o=!1,l=!1;for(;s<this.rows.length;){let c=this.rows[s];if(c.getRowNumber()>t){l=c.isEquivalent(this.pairs);break}o=c.isEquivalent(this.pairs),s++}l||o||K.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new tl(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let s of r)if(s.getPairs().length!==t.length){for(let o of s.getPairs())for(let l of t)if(xr.equals(o,l))break}}static isPartialRow(t,r){for(let s of r){let o=!0;for(let l of t){let c=!1;for(let d of s.getPairs())if(l.equals(d)){c=!0;break}if(!c){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=Gh.buildBitArray(t),o=t1(r).parseInformation(),l=t[0].getFinderPattern().getResultPoints(),c=t[t.length-1].getFinderPattern().getResultPoints(),d=[l[0],l[1],c[0],c[1]];return new Le(o,null,null,d,le.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),s=t.getRightChar();if(s==null)return!1;let o=s.getChecksumPortion(),l=2;for(let d=1;d<this.pairs.size();++d){let h=this.pairs.get(d);o+=h.getLeftChar().getChecksumPortion(),l++;let x=h.getRightChar();x!=null&&(o+=x.getChecksumPortion(),l++)}return o%=211,211*(l-4)+o==r.getValue()}static getNextSecondBar(t,r){let s;return t.get(r)?(s=t.getNextUnset(r),s=t.getNextSet(s)):(s=t.getNextSet(r),s=t.getNextUnset(s)),s}retrieveNextPair(t,r,s){let o=r.length%2==0;this.startFromEven&&(o=!o);let l,c=!0,d=-1;do this.findNextPair(t,r,d),l=this.parseFoundFinderPattern(t,s,o),l==null?d=K.getNextSecondBar(t,this.startEnd[0]):c=!1;while(c);let h=this.decodeDataCharacter(t,l,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new W;let x;try{x=this.decodeDataCharacter(t,l,o,!1)}catch(y){x=null,this.verbose&&console.log(y)}return new xr(h,x,l,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,s){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=t.getSize(),c;s>=0?c=s:this.isEmptyPair(r)?c=0:c=r[r.length-1].getFinderPattern().getStartEnd()[1];let d=r.length%2!=0;this.startFromEven&&(d=!d);let h=!1;for(;c<l&&(h=!t.get(c),!!h);)c++;let x=0,y=c;for(let v=c;v<l;v++)if(t.get(v)!=h)o[x]++;else{if(x==3){if(d&&K.reverseCounters(o),K.isFinderPattern(o)){this.startEnd[0]=y,this.startEnd[1]=v;return}d&&K.reverseCounters(o),y+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,x--}else x++;o[x]=1,h=!h}throw new W}static reverseCounters(t){let r=t.length;for(let s=0;s<r/2;++s){let o=t[s];t[s]=t[r-s-1],t[r-s-1]=o}}parseFoundFinderPattern(t,r,s){let o,l,c;if(s){let x=this.startEnd[0]-1;for(;x>=0&&!t.get(x);)x--;x++,o=this.startEnd[0]-x,l=x,c=this.startEnd[1]}else l=this.startEnd[0],c=t.getNextUnset(this.startEnd[1]+1),o=c-this.startEnd[1];let d=this.getDecodeFinderCounters();B.arraycopy(d,0,d,1,d.length-1),d[0]=o;let h;try{h=this.parseFinderValue(d,K.FINDER_PATTERNS)}catch{return null}return new yo(h,[l,c],l,c,r)}decodeDataCharacter(t,r,s,o){let l=this.getDataCharacterCounters();for(let He=0;He<l.length;He++)l[He]=0;if(o)K.recordPatternInReverse(t,r.getStartEnd()[0],l);else{K.recordPattern(t,r.getStartEnd()[1],l);for(let He=0,Rt=l.length-1;He<Rt;He++,Rt--){let on=l[He];l[He]=l[Rt],l[Rt]=on}}let c=17,d=Ne.sum(new Int32Array(l))/c,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(d-h)/h>.3)throw new W;let x=this.getOddCounts(),y=this.getEvenCounts(),v=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let He=0;He<l.length;He++){let Rt=1*l[He]/d,on=Rt+.5;if(on<1){if(Rt<.3)throw new W;on=1}else if(on>8){if(Rt>8.7)throw new W;on=8}let Ti=He/2;He&1?(y[Ti]=on,I[Ti]=Rt-on):(x[Ti]=on,v[Ti]=Rt-on)}this.adjustOddEvenCounts(c);let M=4*r.getValue()+(s?0:2)+(o?0:1)-1,D=0,b=0;for(let He=x.length-1;He>=0;He--){if(K.isNotA1left(r,s,o)){let Rt=K.WEIGHTS[M][2*He];b+=x[He]*Rt}D+=x[He]}let j=0;for(let He=y.length-1;He>=0;He--)if(K.isNotA1left(r,s,o)){let Rt=K.WEIGHTS[M][2*He+1];j+=y[He]*Rt}let H=b+j;if(D&1||D>13||D<4)throw new W;let $=(13-D)/2,ee=K.SYMBOL_WIDEST[$],q=9-ee,Ie=Vn.getRSSvalue(x,ee,!0),ye=Vn.getRSSvalue(y,q,!1),Jt=K.EVEN_TOTAL_SUBSET[$],Rn=K.GSUM[$],$t=Ie*Jt+ye+Rn;return new yi($t,H)}static isNotA1left(t,r,s){return!(t.getValue()==0&&r&&s)}adjustOddEvenCounts(t){let r=Ne.sum(new Int32Array(this.getOddCounts())),s=Ne.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1;r>13?l=!0:r<4&&(o=!0);let c=!1,d=!1;s>13?d=!0:s<4&&(c=!0);let h=r+s-t,x=(r&1)==1,y=(s&1)==0;if(h==1)if(x){if(y)throw new W;l=!0}else{if(!y)throw new W;d=!0}else if(h==-1)if(x){if(y)throw new W;o=!0}else{if(!y)throw new W;c=!0}else if(h==0){if(x){if(!y)throw new W;r<s?(o=!0,d=!0):(l=!0,c=!0)}else if(y)throw new W}else throw new W;if(o){if(l)throw new W;K.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&K.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(d)throw new W;K.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&K.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}K.SYMBOL_WIDEST=[7,5,4,3,1],K.EVEN_TOTAL_SUBSET=[4,20,52,104,204],K.GSUM=[0,348,1388,2948,3988],K.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],K.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],K.FINDER_PAT_A=0,K.FINDER_PAT_B=1,K.FINDER_PAT_C=2,K.FINDER_PAT_D=3,K.FINDER_PAT_E=4,K.FINDER_PAT_F=5,K.FINDER_PATTERN_SEQUENCES=[[K.FINDER_PAT_A,K.FINDER_PAT_A],[K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B],[K.FINDER_PAT_A,K.FINDER_PAT_C,K.FINDER_PAT_B,K.FINDER_PAT_D],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_C],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_D,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_D],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_E],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F]],K.MAX_PAIRS=11;class Qh extends yi{constructor(t,r,s){super(t,r),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ot extends kt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,s){const o=this.decodePair(r,!1,t,s);ot.addOrTally(this.possibleLeftPairs,o),r.reverse();let l=this.decodePair(r,!0,t,s);ot.addOrTally(this.possibleRightPairs,l),r.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&ot.checkChecksum(c,d))return ot.constructResult(c,d)}throw new W}static addOrTally(t,r){if(r==null)return;let s=!1;for(let o of t)if(o.getValue()===r.getValue()){o.incrementCount(),s=!0;break}s||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let s=4537077*t.getValue()+r.getValue(),o=new String(s).toString(),l=new Ee;for(let x=13-o.length;x>0;x--)l.append("0");l.append(o);let c=0;for(let x=0;x<13;x++){let y=l.charAt(x).charCodeAt(0)-48;c+=x&1?y:3*y}c=10-c%10,c===10&&(c=0),l.append(c.toString());let d=t.getFinderPattern().getResultPoints(),h=r.getFinderPattern().getResultPoints();return new Le(l.toString(),null,0,[d[0],d[1],h[0],h[1]],le.RSS_14,new Date().getTime())}static checkChecksum(t,r){let s=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,s===o}decodePair(t,r,s,o){try{let l=this.findFinderPattern(t,r),c=this.parseFoundFinderPattern(t,s,r,l),d=o==null?null:o.get(Z.NEED_RESULT_POINT_CALLBACK);if(d!=null){let y=(l[0]+l[1])/2;r&&(y=t.getSize()-1-y),d.foundPossibleResultPoint(new ce(y,s))}let h=this.decodeDataCharacter(t,c,!0),x=this.decodeDataCharacter(t,c,!1);return new Qh(1597*h.getValue()+x.getValue(),h.getChecksumPortion()+4*x.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(t,r,s){let o=this.getDataCharacterCounters();for(let j=0;j<o.length;j++)o[j]=0;if(s)pt.recordPatternInReverse(t,r.getStartEnd()[0],o);else{pt.recordPattern(t,r.getStartEnd()[1]+1,o);for(let j=0,H=o.length-1;j<H;j++,H--){let $=o[j];o[j]=o[H],o[H]=$}}let l=s?16:15,c=Ne.sum(new Int32Array(o))/l,d=this.getOddCounts(),h=this.getEvenCounts(),x=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(let j=0;j<o.length;j++){let H=o[j]/c,$=Math.floor(H+.5);$<1?$=1:$>8&&($=8);let ee=Math.floor(j/2);j&1?(h[ee]=$,y[ee]=H-$):(d[ee]=$,x[ee]=H-$)}this.adjustOddEvenCounts(s,l);let v=0,I=0;for(let j=d.length-1;j>=0;j--)I*=9,I+=d[j],v+=d[j];let M=0,D=0;for(let j=h.length-1;j>=0;j--)M*=9,M+=h[j],D+=h[j];let b=I+3*M;if(s){if(v&1||v>12||v<4)throw new W;let j=(12-v)/2,H=ot.OUTSIDE_ODD_WIDEST[j],$=9-H,ee=Vn.getRSSvalue(d,H,!1),q=Vn.getRSSvalue(h,$,!0),Ie=ot.OUTSIDE_EVEN_TOTAL_SUBSET[j],ye=ot.OUTSIDE_GSUM[j];return new yi(ee*Ie+q+ye,b)}else{if(D&1||D>10||D<4)throw new W;let j=(10-D)/2,H=ot.INSIDE_ODD_WIDEST[j],$=9-H,ee=Vn.getRSSvalue(d,H,!0),q=Vn.getRSSvalue(h,$,!1),Ie=ot.INSIDE_ODD_TOTAL_SUBSET[j],ye=ot.INSIDE_GSUM[j];return new yi(q*Ie+ee+ye,b)}}findFinderPattern(t,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=t.getSize(),l=!1,c=0;for(;c<o&&(l=!t.get(c),r!==l);)c++;let d=0,h=c;for(let x=c;x<o;x++)if(t.get(x)!==l)s[d]++;else{if(d===3){if(kt.isFinderPattern(s))return[h,x];h+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,d--}else d++;s[d]=1,l=!l}throw new W}parseFoundFinderPattern(t,r,s,o){let l=t.get(o[0]),c=o[0]-1;for(;c>=0&&l!==t.get(c);)c--;c++;const d=o[0]-c,h=this.getDecodeFinderCounters(),x=new Int32Array(h.length);B.arraycopy(h,0,x,1,h.length-1),x[0]=d;const y=this.parseFinderValue(x,ot.FINDER_PATTERNS);let v=c,I=o[1];return s&&(v=t.getSize()-1-v,I=t.getSize()-1-I),new yo(y,[c,o[1]],v,I,r)}adjustOddEvenCounts(t,r){let s=Ne.sum(new Int32Array(this.getOddCounts())),o=Ne.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1,d=!1,h=!1;t?(s>12?c=!0:s<4&&(l=!0),o>12?h=!0:o<4&&(d=!0)):(s>11?c=!0:s<5&&(l=!0),o>10?h=!0:o<4&&(d=!0));let x=s+o-r,y=(s&1)===(t?1:0),v=(o&1)===1;if(x===1)if(y){if(v)throw new W;c=!0}else{if(!v)throw new W;h=!0}else if(x===-1)if(y){if(v)throw new W;l=!0}else{if(!v)throw new W;d=!0}else if(x===0){if(y){if(!v)throw new W;s<o?(l=!0,h=!0):(c=!0,d=!0)}else if(v)throw new W}else throw new W;if(l){if(c)throw new W;kt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&kt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new W;kt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&kt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ot.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ot.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ot.OUTSIDE_GSUM=[0,161,961,2015,2715],ot.INSIDE_GSUM=[0,336,1036,1516],ot.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ot.INSIDE_ODD_WIDEST=[2,4,6,8],ot.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ai extends pt{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const s=t?t.get(Z.POSSIBLE_FORMATS):null,o=t&&t.get(Z.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(le.EAN_13)||s.includes(le.UPC_A)||s.includes(le.EAN_8)||s.includes(le.UPC_E))&&this.readers.push(new Ja(t)),s.includes(le.CODE_39)&&this.readers.push(new wt(o)),s.includes(le.CODE_128)&&this.readers.push(new ne),s.includes(le.ITF)&&this.readers.push(new ze),s.includes(le.RSS_14)&&this.readers.push(new ot),s.includes(le.RSS_EXPANDED)&&this.readers.push(new K(this.verbose))):(this.readers.push(new Ja(t)),this.readers.push(new wt),this.readers.push(new Ja(t)),this.readers.push(new ne),this.readers.push(new ze),this.readers.push(new ot),this.readers.push(new K(this.verbose)))}decodeRow(t,r,s){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(t,r,s)}catch{}throw new W}reset(){this.readers.forEach(t=>t.reset())}}class Zh extends Ke{constructor(t=500,r){super(new Ai(r),t,r)}}class ke{constructor(t,r,s){this.ecCodewords=t,this.ecBlocks=[r],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class De{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Te{constructor(t,r,s,o,l,c){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=s,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=l,this.ecBlocks=c;let d=0;const h=c.getECCodewords(),x=c.getECBlocks();for(let y of x)d+=y.getCount()*(y.getDataCodewords()+h);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if(t&1||r&1)throw new F;for(let s of Te.VERSIONS)if(s.symbolSizeRows===t&&s.symbolSizeColumns===r)return s;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new Te(1,10,10,8,8,new ke(5,new De(1,3))),new Te(2,12,12,10,10,new ke(7,new De(1,5))),new Te(3,14,14,12,12,new ke(10,new De(1,8))),new Te(4,16,16,14,14,new ke(12,new De(1,12))),new Te(5,18,18,16,16,new ke(14,new De(1,18))),new Te(6,20,20,18,18,new ke(18,new De(1,22))),new Te(7,22,22,20,20,new ke(20,new De(1,30))),new Te(8,24,24,22,22,new ke(24,new De(1,36))),new Te(9,26,26,24,24,new ke(28,new De(1,44))),new Te(10,32,32,14,14,new ke(36,new De(1,62))),new Te(11,36,36,16,16,new ke(42,new De(1,86))),new Te(12,40,40,18,18,new ke(48,new De(1,114))),new Te(13,44,44,20,20,new ke(56,new De(1,144))),new Te(14,48,48,22,22,new ke(68,new De(1,174))),new Te(15,52,52,24,24,new ke(42,new De(2,102))),new Te(16,64,64,14,14,new ke(56,new De(2,140))),new Te(17,72,72,16,16,new ke(36,new De(4,92))),new Te(18,80,80,18,18,new ke(48,new De(4,114))),new Te(19,88,88,20,20,new ke(56,new De(4,144))),new Te(20,96,96,22,22,new ke(68,new De(4,174))),new Te(21,104,104,24,24,new ke(56,new De(6,136))),new Te(22,120,120,18,18,new ke(68,new De(6,175))),new Te(23,132,132,20,20,new ke(62,new De(8,163))),new Te(24,144,144,22,22,new ke(62,new De(8,156),new De(2,155))),new Te(25,8,18,6,16,new ke(7,new De(1,5))),new Te(26,8,32,6,14,new ke(11,new De(1,10))),new Te(27,12,26,10,24,new ke(14,new De(1,16))),new Te(28,12,36,10,16,new ke(18,new De(1,22))),new Te(29,16,36,14,16,new ke(24,new De(1,32))),new Te(30,16,48,14,22,new ke(28,new De(1,49)))]}}Te.VERSIONS=Te.buildVersions();class nl{constructor(t){const r=t.getHeight();if(r<8||r>144||r&1)throw new F;this.version=nl.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new be(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),s=t.getWidth();return Te.getVersionForDimensions(r,s)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,s=4,o=0;const l=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let d=!1,h=!1,x=!1,y=!1;do if(s===l&&o===0&&!d)t[r++]=this.readCorner1(l,c)&255,s-=2,o+=2,d=!0;else if(s===l-2&&o===0&&c&3&&!h)t[r++]=this.readCorner2(l,c)&255,s-=2,o+=2,h=!0;else if(s===l+4&&o===2&&!(c&7)&&!x)t[r++]=this.readCorner3(l,c)&255,s-=2,o+=2,x=!0;else if(s===l-2&&o===0&&(c&7)===4&&!y)t[r++]=this.readCorner4(l,c)&255,s-=2,o+=2,y=!0;else{do s<l&&o>=0&&!this.readMappingMatrix.get(o,s)&&(t[r++]=this.readUtah(s,o,l,c)&255),s-=2,o+=2;while(s>=0&&o<c);s+=1,o+=3;do s>=0&&o<c&&!this.readMappingMatrix.get(o,s)&&(t[r++]=this.readUtah(s,o,l,c)&255),s+=2,o-=2;while(s<l&&o>=0);s+=3,o+=1}while(s<l||o<c);if(r!==this.version.getTotalCodewords())throw new F;return t}readModule(t,r,s,o){return t<0&&(t+=s,r+=4-(s+4&7)),r<0&&(r+=o,t+=4-(o+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,s,o){let l=0;return this.readModule(t-2,r-2,s,o)&&(l|=1),l<<=1,this.readModule(t-2,r-1,s,o)&&(l|=1),l<<=1,this.readModule(t-1,r-2,s,o)&&(l|=1),l<<=1,this.readModule(t-1,r-1,s,o)&&(l|=1),l<<=1,this.readModule(t-1,r,s,o)&&(l|=1),l<<=1,this.readModule(t,r-2,s,o)&&(l|=1),l<<=1,this.readModule(t,r-1,s,o)&&(l|=1),l<<=1,this.readModule(t,r,s,o)&&(l|=1),l}readCorner1(t,r){let s=0;return this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,1,t,r)&&(s|=1),s<<=1,this.readModule(t-1,2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s<<=1,this.readModule(2,r-1,t,r)&&(s|=1),s<<=1,this.readModule(3,r-1,t,r)&&(s|=1),s}readCorner2(t,r){let s=0;return this.readModule(t-3,0,t,r)&&(s|=1),s<<=1,this.readModule(t-2,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(0,r-4,t,r)&&(s|=1),s<<=1,this.readModule(0,r-3,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s}readCorner3(t,r){let s=0;return this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,r-1,t,r)&&(s|=1),s<<=1,this.readModule(0,r-3,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-3,t,r)&&(s|=1),s<<=1,this.readModule(1,r-2,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s}readCorner4(t,r){let s=0;return this.readModule(t-3,0,t,r)&&(s|=1),s<<=1,this.readModule(t-2,0,t,r)&&(s|=1),s<<=1,this.readModule(t-1,0,t,r)&&(s|=1),s<<=1,this.readModule(0,r-2,t,r)&&(s|=1),s<<=1,this.readModule(0,r-1,t,r)&&(s|=1),s<<=1,this.readModule(1,r-1,t,r)&&(s|=1),s<<=1,this.readModule(2,r-1,t,r)&&(s|=1),s<<=1,this.readModule(3,r-1,t,r)&&(s|=1),s}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new C("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),c=r/o|0,d=s/l|0,h=c*o,x=d*l,y=new be(x,h);for(let v=0;v<c;++v){const I=v*o;for(let M=0;M<d;++M){const D=M*l;for(let b=0;b<o;++b){const j=v*(o+2)+1+b,H=I+b;for(let $=0;$<l;++$){const ee=M*(l+2)+1+$;if(t.get(ee,j)){const q=D+$;y.set(q,H)}}}}}return y}}class rl{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const s=r.getECBlocks();let o=0;const l=s.getECBlocks();for(let b of l)o+=b.getCount();const c=new Array(o);let d=0;for(let b of l)for(let j=0;j<b.getCount();j++){const H=b.getDataCodewords(),$=s.getECCodewords()+H;c[d++]=new rl(H,new Uint8Array($))}const x=c[0].codewords.length-s.getECCodewords(),y=x-1;let v=0;for(let b=0;b<y;b++)for(let j=0;j<d;j++)c[j].codewords[b]=t[v++];const I=r.getVersionNumber()===24,M=I?8:d;for(let b=0;b<M;b++)c[b].codewords[x-1]=t[v++];const D=c[0].codewords.length;for(let b=x;b<D;b++)for(let j=0;j<d;j++){const H=I?(j+8)%d:j,$=I&&H>7?b-1:b;c[H].codewords[$]=t[v++]}if(v!==t.length)throw new C;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class il{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new C(""+t);let r=0,s=this.bitOffset,o=this.byteOffset;const l=this.bytes;if(s>0){const c=8-s,d=t<c?t:c,h=c-d,x=255>>8-d<<h;r=(l[o]&x)>>h,t-=d,s+=d,s===8&&(s=0,o++)}if(t>0){for(;t>=8;)r=r<<8|l[o]&255,o++,t-=8;if(t>0){const c=8-t,d=255>>c<<c;r=r<<t|(l[o]&d)>>c,s+=t}}return this.bitOffset=s,this.byteOffset=o,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var yt;(function(A){A[A.PAD_ENCODE=0]="PAD_ENCODE",A[A.ASCII_ENCODE=1]="ASCII_ENCODE",A[A.C40_ENCODE=2]="C40_ENCODE",A[A.TEXT_ENCODE=3]="TEXT_ENCODE",A[A.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",A[A.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",A[A.BASE256_ENCODE=6]="BASE256_ENCODE"})(yt||(yt={}));class mr{static decode(t){const r=new il(t),s=new Ee,o=new Ee,l=new Array;let c=yt.ASCII_ENCODE;do if(c===yt.ASCII_ENCODE)c=this.decodeAsciiSegment(r,s,o);else{switch(c){case yt.C40_ENCODE:this.decodeC40Segment(r,s);break;case yt.TEXT_ENCODE:this.decodeTextSegment(r,s);break;case yt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,s);break;case yt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,s);break;case yt.BASE256_ENCODE:this.decodeBase256Segment(r,s,l);break;default:throw new F}c=yt.ASCII_ENCODE}while(c!==yt.PAD_ENCODE&&r.available()>0);return o.length()>0&&s.append(o.toString()),new cs(t,s.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(t,r,s){let o=!1;do{let l=t.readBits(8);if(l===0)throw new F;if(l<=128)return o&&(l+=128),r.append(String.fromCharCode(l-1)),yt.ASCII_ENCODE;if(l===129)return yt.PAD_ENCODE;if(l<=229){const c=l-130;c<10&&r.append("0"),r.append(""+c)}else switch(l){case 230:return yt.C40_ENCODE;case 231:return yt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:r.append("[)>05"),s.insert(0,"");break;case 237:r.append("[)>06"),s.insert(0,"");break;case 238:return yt.ANSIX12_ENCODE;case 239:return yt.TEXT_ENCODE;case 240:return yt.EDIFACT_ENCODE;case 241:break;default:if(l!==254||t.available()!==0)throw new F;break}}while(t.available()>0);return yt.ASCII_ENCODE}static decodeC40Segment(t,r){let s=!1;const o=[];let l=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),o);for(let d=0;d<3;d++){const h=o[d];switch(l){case 0:if(h<3)l=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[h];s?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),s=!1):r.append(x)}else throw new F;break;case 1:s?(r.append(String.fromCharCode(h+128)),s=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[h];s?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),s=!1):r.append(x)}else switch(h){case 27:r.append("");break;case 30:s=!0;break;default:throw new F}l=0;break;case 3:s?(r.append(String.fromCharCode(h+224)),s=!1):r.append(String.fromCharCode(h+96)),l=0;break;default:throw new F}}}while(t.available()>0)}static decodeTextSegment(t,r){let s=!1,o=[],l=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),o);for(let d=0;d<3;d++){const h=o[d];switch(l){case 0:if(h<3)l=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[h];s?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),s=!1):r.append(x)}else throw new F;break;case 1:s?(r.append(String.fromCharCode(h+128)),s=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[h];s?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),s=!1):r.append(x)}else switch(h){case 27:r.append("");break;case 30:s=!0;break;default:throw new F}l=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[h];s?(r.append(String.fromCharCode(x.charCodeAt(0)+128)),s=!1):r.append(x),l=0}else throw new F;break;default:throw new F}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const s=[];do{if(t.available()===8)return;const o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),s);for(let l=0;l<3;l++){const c=s[l];switch(c){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(c<14)r.append(String.fromCharCode(c+44));else if(c<40)r.append(String.fromCharCode(c+51));else throw new F;break}}}while(t.available()>0)}static parseTwoBytes(t,r,s){let o=(t<<8)+r-1,l=Math.floor(o/1600);s[0]=l,o-=l*1600,l=Math.floor(o/40),s[1]=l,s[2]=o-l*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let s=0;s<4;s++){let o=t.readBits(6);if(o===31){const l=8-t.getBitOffset();l!==8&&t.readBits(l);return}o&32||(o|=64),r.append(String.fromCharCode(o))}}while(t.available()>0)}static decodeBase256Segment(t,r,s){let o=1+t.getByteOffset();const l=this.unrandomize255State(t.readBits(8),o++);let c;if(l===0?c=t.available()/8|0:l<250?c=l:c=250*(l-249)+this.unrandomize255State(t.readBits(8),o++),c<0)throw new F;const d=new Uint8Array(c);for(let h=0;h<c;h++){if(t.available()<8)throw new F;d[h]=this.unrandomize255State(t.readBits(8),o++)}s.push(d);try{r.append(we.decode(d,ue.ISO88591))}catch(h){throw new zn("Platform does not support required encoding: "+h.message)}}static unrandomize255State(t,r){const s=149*r%255+1,o=t-s;return o>=0?o:o+256}}mr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],mr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],mr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],mr.TEXT_SHIFT2_SET_CHARS=mr.C40_SHIFT2_SET_CHARS,mr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Kh{constructor(){this.rsDecoder=new fs(Oe.DATA_MATRIX_FIELD_256)}decode(t){const r=new nl(t),s=r.getVersion(),o=r.readCodewords(),l=rl.getDataBlocks(o,s);let c=0;for(let x of l)c+=x.getNumDataCodewords();const d=new Uint8Array(c),h=l.length;for(let x=0;x<h;x++){const y=l[x],v=y.getCodewords(),I=y.getNumDataCodewords();this.correctErrors(v,I);for(let M=0;M<I;M++)d[M*h+x]=v[M]}return mr.decode(d)}correctErrors(t,r){const s=new Int32Array(t);try{this.rsDecoder.decode(s,t.length-r)}catch{throw new L}for(let o=0;o<r;o++)t[o]=s[o]}}class ft{constructor(t){this.image=t,this.rectangleDetector=new er(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new W;r=this.shiftToModuleCenter(r);const s=r[0],o=r[1],l=r[2],c=r[3];let d=this.transitionsBetween(s,c)+1,h=this.transitionsBetween(l,c)+1;(d&1)===1&&(d+=1),(h&1)===1&&(h+=1),4*d<7*h&&4*h<7*d&&(d=h=Math.max(d,h));let x=ft.sampleGrid(this.image,s,o,l,c,d,h);return new mo(x,[s,o,l,c])}static shiftPoint(t,r,s){let o=(r.getX()-t.getX())/(s+1),l=(r.getY()-t.getY())/(s+1);return new ce(t.getX()+o,t.getY()+l)}static moveAway(t,r,s){let o=t.getX(),l=t.getY();return o<r?o-=1:o+=1,l<s?l-=1:l+=1,new ce(o,l)}detectSolid1(t){let r=t[0],s=t[1],o=t[3],l=t[2],c=this.transitionsBetween(r,s),d=this.transitionsBetween(s,o),h=this.transitionsBetween(o,l),x=this.transitionsBetween(l,r),y=c,v=[l,r,s,o];return y>d&&(y=d,v[0]=r,v[1]=s,v[2]=o,v[3]=l),y>h&&(y=h,v[0]=s,v[1]=o,v[2]=l,v[3]=r),y>x&&(v[0]=o,v[1]=l,v[2]=r,v[3]=s),v}detectSolid2(t){let r=t[0],s=t[1],o=t[2],l=t[3],c=this.transitionsBetween(r,l),d=ft.shiftPoint(s,o,(c+1)*4),h=ft.shiftPoint(o,s,(c+1)*4),x=this.transitionsBetween(d,r),y=this.transitionsBetween(h,l);return x<y?(t[0]=r,t[1]=s,t[2]=o,t[3]=l):(t[0]=s,t[1]=o,t[2]=l,t[3]=r),t}correctTopRight(t){let r=t[0],s=t[1],o=t[2],l=t[3],c=this.transitionsBetween(r,l),d=this.transitionsBetween(s,l),h=ft.shiftPoint(r,s,(d+1)*4),x=ft.shiftPoint(o,s,(c+1)*4);c=this.transitionsBetween(h,l),d=this.transitionsBetween(x,l);let y=new ce(l.getX()+(o.getX()-s.getX())/(c+1),l.getY()+(o.getY()-s.getY())/(c+1)),v=new ce(l.getX()+(r.getX()-s.getX())/(d+1),l.getY()+(r.getY()-s.getY())/(d+1));if(!this.isValid(y))return this.isValid(v)?v:null;if(!this.isValid(v))return y;let I=this.transitionsBetween(h,y)+this.transitionsBetween(x,y),M=this.transitionsBetween(h,v)+this.transitionsBetween(x,v);return I>M?y:v}shiftToModuleCenter(t){let r=t[0],s=t[1],o=t[2],l=t[3],c=this.transitionsBetween(r,l)+1,d=this.transitionsBetween(o,l)+1,h=ft.shiftPoint(r,s,d*4),x=ft.shiftPoint(o,s,c*4);c=this.transitionsBetween(h,l)+1,d=this.transitionsBetween(x,l)+1,(c&1)===1&&(c+=1),(d&1)===1&&(d+=1);let y=(r.getX()+s.getX()+o.getX()+l.getX())/4,v=(r.getY()+s.getY()+o.getY()+l.getY())/4;r=ft.moveAway(r,y,v),s=ft.moveAway(s,y,v),o=ft.moveAway(o,y,v),l=ft.moveAway(l,y,v);let I,M;return h=ft.shiftPoint(r,s,d*4),h=ft.shiftPoint(h,l,c*4),I=ft.shiftPoint(s,r,d*4),I=ft.shiftPoint(I,o,c*4),x=ft.shiftPoint(o,l,d*4),x=ft.shiftPoint(x,s,c*4),M=ft.shiftPoint(l,o,d*4),M=ft.shiftPoint(M,r,c*4),[h,I,x,M]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,s,o,l,c,d){return pr.getInstance().sampleGrid(t,c,d,.5,.5,c-.5,.5,c-.5,d-.5,.5,d-.5,r.getX(),r.getY(),l.getX(),l.getY(),o.getX(),o.getY(),s.getX(),s.getY())}transitionsBetween(t,r){let s=Math.trunc(t.getX()),o=Math.trunc(t.getY()),l=Math.trunc(r.getX()),c=Math.trunc(r.getY()),d=Math.abs(c-o)>Math.abs(l-s);if(d){let b=s;s=o,o=b,b=l,l=c,c=b}let h=Math.abs(l-s),x=Math.abs(c-o),y=-h/2,v=o<c?1:-1,I=s<l?1:-1,M=0,D=this.image.get(d?o:s,d?s:o);for(let b=s,j=o;b!==l;b+=I){let H=this.image.get(d?j:b,d?b:j);if(H!==D&&(M++,D=H),y+=x,y>0){if(j===c)break;j+=v,y-=h}}return M}}class wr{constructor(){this.decoder=new Kh}decode(t,r=null){let s,o;if(r!=null&&r.has(Z.PURE_BARCODE)){const x=wr.extractPureBits(t.getBlackMatrix());s=this.decoder.decode(x),o=wr.NO_POINTS}else{const x=new ft(t.getBlackMatrix()).detect();s=this.decoder.decode(x.getBits()),o=x.getPoints()}const l=s.getRawBytes(),c=new Le(s.getText(),l,8*l.length,o,le.DATA_MATRIX,B.currentTimeMillis()),d=s.getByteSegments();d!=null&&c.putMetadata(vt.BYTE_SEGMENTS,d);const h=s.getECLevel();return h!=null&&c.putMetadata(vt.ERROR_CORRECTION_LEVEL,h),c}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),s=t.getBottomRightOnBit();if(r==null||s==null)throw new W;const o=this.moduleSize(r,t);let l=r[1];const c=s[1];let d=r[0];const x=(s[0]-d+1)/o,y=(c-l+1)/o;if(x<=0||y<=0)throw new W;const v=o/2;l+=v,d+=v;const I=new be(x,y);for(let M=0;M<y;M++){const D=l+M*o;for(let b=0;b<x;b++)t.get(d+b*o,D)&&I.set(b,M)}return I}static moduleSize(t,r){const s=r.getWidth();let o=t[0];const l=t[1];for(;o<s&&r.get(o,l);)o++;if(o===s)throw new W;const c=o-t[0];if(c===0)throw new W;return c}}wr.NO_POINTS=[];class qh extends Ke{constructor(t=500){super(new wr,t)}}var vi;(function(A){A[A.L=0]="L",A[A.M=1]="M",A[A.Q=2]="Q",A[A.H=3]="H"})(vi||(vi={}));class Ge{constructor(t,r,s){this.value=t,this.stringValue=r,this.bits=s,Ge.FOR_BITS.set(s,this),Ge.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return Ge.L;case"M":return Ge.M;case"Q":return Ge.Q;case"H":return Ge.H;default:throw new E(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof Ge))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=Ge.FOR_BITS.size)throw new C;return Ge.FOR_BITS.get(t)}}Ge.FOR_BITS=new Map,Ge.FOR_VALUE=new Map,Ge.L=new Ge(vi.L,"L",1),Ge.M=new Ge(vi.M,"M",0),Ge.Q=new Ge(vi.Q,"Q",3),Ge.H=new Ge(vi.H,"H",2);class Pt{constructor(t){this.errorCorrectionLevel=Ge.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return _.bitCount(t^r)}static decodeFormatInformation(t,r){const s=Pt.doDecodeFormatInformation(t,r);return s!==null?s:Pt.doDecodeFormatInformation(t^Pt.FORMAT_INFO_MASK_QR,r^Pt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let s=Number.MAX_SAFE_INTEGER,o=0;for(const l of Pt.FORMAT_INFO_DECODE_LOOKUP){const c=l[0];if(c===t||c===r)return new Pt(l[1]);let d=Pt.numBitsDiffering(t,c);d<s&&(o=l[1],s=d),t!==r&&(d=Pt.numBitsDiffering(r,c),d<s&&(o=l[1],s=d))}return s<=3?new Pt(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Pt))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Pt.FORMAT_INFO_MASK_QR=21522,Pt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class U{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const s of r)t+=s.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class N{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class de{constructor(t,r,...s){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=s;let o=0;const l=s[0].getECCodewordsPerBlock(),c=s[0].getECBlocks();for(const d of c)o+=d.getCount()*(d.getDataCodewords()+l);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new F;try{return this.getVersionForNumber((t-17)/4)}catch{throw new F}}static getVersionForNumber(t){if(t<1||t>40)throw new C;return de.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,s=0;for(let o=0;o<de.VERSION_DECODE_INFO.length;o++){const l=de.VERSION_DECODE_INFO[o];if(l===t)return de.getVersionForNumber(o+7);const c=Pt.numBitsDiffering(t,l);c<r&&(s=o+7,r=c)}return r<=3?de.getVersionForNumber(s):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new be(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const s=this.alignmentPatternCenters.length;for(let o=0;o<s;o++){const l=this.alignmentPatternCenters[o]-2;for(let c=0;c<s;c++)o===0&&(c===0||c===s-1)||o===s-1&&c===0||r.setRegion(this.alignmentPatternCenters[c]-2,l,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}de.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),de.VERSIONS=[new de(1,new Int32Array(0),new U(7,new N(1,19)),new U(10,new N(1,16)),new U(13,new N(1,13)),new U(17,new N(1,9))),new de(2,Int32Array.from([6,18]),new U(10,new N(1,34)),new U(16,new N(1,28)),new U(22,new N(1,22)),new U(28,new N(1,16))),new de(3,Int32Array.from([6,22]),new U(15,new N(1,55)),new U(26,new N(1,44)),new U(18,new N(2,17)),new U(22,new N(2,13))),new de(4,Int32Array.from([6,26]),new U(20,new N(1,80)),new U(18,new N(2,32)),new U(26,new N(2,24)),new U(16,new N(4,9))),new de(5,Int32Array.from([6,30]),new U(26,new N(1,108)),new U(24,new N(2,43)),new U(18,new N(2,15),new N(2,16)),new U(22,new N(2,11),new N(2,12))),new de(6,Int32Array.from([6,34]),new U(18,new N(2,68)),new U(16,new N(4,27)),new U(24,new N(4,19)),new U(28,new N(4,15))),new de(7,Int32Array.from([6,22,38]),new U(20,new N(2,78)),new U(18,new N(4,31)),new U(18,new N(2,14),new N(4,15)),new U(26,new N(4,13),new N(1,14))),new de(8,Int32Array.from([6,24,42]),new U(24,new N(2,97)),new U(22,new N(2,38),new N(2,39)),new U(22,new N(4,18),new N(2,19)),new U(26,new N(4,14),new N(2,15))),new de(9,Int32Array.from([6,26,46]),new U(30,new N(2,116)),new U(22,new N(3,36),new N(2,37)),new U(20,new N(4,16),new N(4,17)),new U(24,new N(4,12),new N(4,13))),new de(10,Int32Array.from([6,28,50]),new U(18,new N(2,68),new N(2,69)),new U(26,new N(4,43),new N(1,44)),new U(24,new N(6,19),new N(2,20)),new U(28,new N(6,15),new N(2,16))),new de(11,Int32Array.from([6,30,54]),new U(20,new N(4,81)),new U(30,new N(1,50),new N(4,51)),new U(28,new N(4,22),new N(4,23)),new U(24,new N(3,12),new N(8,13))),new de(12,Int32Array.from([6,32,58]),new U(24,new N(2,92),new N(2,93)),new U(22,new N(6,36),new N(2,37)),new U(26,new N(4,20),new N(6,21)),new U(28,new N(7,14),new N(4,15))),new de(13,Int32Array.from([6,34,62]),new U(26,new N(4,107)),new U(22,new N(8,37),new N(1,38)),new U(24,new N(8,20),new N(4,21)),new U(22,new N(12,11),new N(4,12))),new de(14,Int32Array.from([6,26,46,66]),new U(30,new N(3,115),new N(1,116)),new U(24,new N(4,40),new N(5,41)),new U(20,new N(11,16),new N(5,17)),new U(24,new N(11,12),new N(5,13))),new de(15,Int32Array.from([6,26,48,70]),new U(22,new N(5,87),new N(1,88)),new U(24,new N(5,41),new N(5,42)),new U(30,new N(5,24),new N(7,25)),new U(24,new N(11,12),new N(7,13))),new de(16,Int32Array.from([6,26,50,74]),new U(24,new N(5,98),new N(1,99)),new U(28,new N(7,45),new N(3,46)),new U(24,new N(15,19),new N(2,20)),new U(30,new N(3,15),new N(13,16))),new de(17,Int32Array.from([6,30,54,78]),new U(28,new N(1,107),new N(5,108)),new U(28,new N(10,46),new N(1,47)),new U(28,new N(1,22),new N(15,23)),new U(28,new N(2,14),new N(17,15))),new de(18,Int32Array.from([6,30,56,82]),new U(30,new N(5,120),new N(1,121)),new U(26,new N(9,43),new N(4,44)),new U(28,new N(17,22),new N(1,23)),new U(28,new N(2,14),new N(19,15))),new de(19,Int32Array.from([6,30,58,86]),new U(28,new N(3,113),new N(4,114)),new U(26,new N(3,44),new N(11,45)),new U(26,new N(17,21),new N(4,22)),new U(26,new N(9,13),new N(16,14))),new de(20,Int32Array.from([6,34,62,90]),new U(28,new N(3,107),new N(5,108)),new U(26,new N(3,41),new N(13,42)),new U(30,new N(15,24),new N(5,25)),new U(28,new N(15,15),new N(10,16))),new de(21,Int32Array.from([6,28,50,72,94]),new U(28,new N(4,116),new N(4,117)),new U(26,new N(17,42)),new U(28,new N(17,22),new N(6,23)),new U(30,new N(19,16),new N(6,17))),new de(22,Int32Array.from([6,26,50,74,98]),new U(28,new N(2,111),new N(7,112)),new U(28,new N(17,46)),new U(30,new N(7,24),new N(16,25)),new U(24,new N(34,13))),new de(23,Int32Array.from([6,30,54,78,102]),new U(30,new N(4,121),new N(5,122)),new U(28,new N(4,47),new N(14,48)),new U(30,new N(11,24),new N(14,25)),new U(30,new N(16,15),new N(14,16))),new de(24,Int32Array.from([6,28,54,80,106]),new U(30,new N(6,117),new N(4,118)),new U(28,new N(6,45),new N(14,46)),new U(30,new N(11,24),new N(16,25)),new U(30,new N(30,16),new N(2,17))),new de(25,Int32Array.from([6,32,58,84,110]),new U(26,new N(8,106),new N(4,107)),new U(28,new N(8,47),new N(13,48)),new U(30,new N(7,24),new N(22,25)),new U(30,new N(22,15),new N(13,16))),new de(26,Int32Array.from([6,30,58,86,114]),new U(28,new N(10,114),new N(2,115)),new U(28,new N(19,46),new N(4,47)),new U(28,new N(28,22),new N(6,23)),new U(30,new N(33,16),new N(4,17))),new de(27,Int32Array.from([6,34,62,90,118]),new U(30,new N(8,122),new N(4,123)),new U(28,new N(22,45),new N(3,46)),new U(30,new N(8,23),new N(26,24)),new U(30,new N(12,15),new N(28,16))),new de(28,Int32Array.from([6,26,50,74,98,122]),new U(30,new N(3,117),new N(10,118)),new U(28,new N(3,45),new N(23,46)),new U(30,new N(4,24),new N(31,25)),new U(30,new N(11,15),new N(31,16))),new de(29,Int32Array.from([6,30,54,78,102,126]),new U(30,new N(7,116),new N(7,117)),new U(28,new N(21,45),new N(7,46)),new U(30,new N(1,23),new N(37,24)),new U(30,new N(19,15),new N(26,16))),new de(30,Int32Array.from([6,26,52,78,104,130]),new U(30,new N(5,115),new N(10,116)),new U(28,new N(19,47),new N(10,48)),new U(30,new N(15,24),new N(25,25)),new U(30,new N(23,15),new N(25,16))),new de(31,Int32Array.from([6,30,56,82,108,134]),new U(30,new N(13,115),new N(3,116)),new U(28,new N(2,46),new N(29,47)),new U(30,new N(42,24),new N(1,25)),new U(30,new N(23,15),new N(28,16))),new de(32,Int32Array.from([6,34,60,86,112,138]),new U(30,new N(17,115)),new U(28,new N(10,46),new N(23,47)),new U(30,new N(10,24),new N(35,25)),new U(30,new N(19,15),new N(35,16))),new de(33,Int32Array.from([6,30,58,86,114,142]),new U(30,new N(17,115),new N(1,116)),new U(28,new N(14,46),new N(21,47)),new U(30,new N(29,24),new N(19,25)),new U(30,new N(11,15),new N(46,16))),new de(34,Int32Array.from([6,34,62,90,118,146]),new U(30,new N(13,115),new N(6,116)),new U(28,new N(14,46),new N(23,47)),new U(30,new N(44,24),new N(7,25)),new U(30,new N(59,16),new N(1,17))),new de(35,Int32Array.from([6,30,54,78,102,126,150]),new U(30,new N(12,121),new N(7,122)),new U(28,new N(12,47),new N(26,48)),new U(30,new N(39,24),new N(14,25)),new U(30,new N(22,15),new N(41,16))),new de(36,Int32Array.from([6,24,50,76,102,128,154]),new U(30,new N(6,121),new N(14,122)),new U(28,new N(6,47),new N(34,48)),new U(30,new N(46,24),new N(10,25)),new U(30,new N(2,15),new N(64,16))),new de(37,Int32Array.from([6,28,54,80,106,132,158]),new U(30,new N(17,122),new N(4,123)),new U(28,new N(29,46),new N(14,47)),new U(30,new N(49,24),new N(10,25)),new U(30,new N(24,15),new N(46,16))),new de(38,Int32Array.from([6,32,58,84,110,136,162]),new U(30,new N(4,122),new N(18,123)),new U(28,new N(13,46),new N(32,47)),new U(30,new N(48,24),new N(14,25)),new U(30,new N(42,15),new N(32,16))),new de(39,Int32Array.from([6,26,54,82,110,138,166]),new U(30,new N(20,117),new N(4,118)),new U(28,new N(40,47),new N(7,48)),new U(30,new N(43,24),new N(22,25)),new U(30,new N(10,15),new N(67,16))),new de(40,Int32Array.from([6,30,58,86,114,142,170]),new U(30,new N(19,118),new N(6,119)),new U(28,new N(18,47),new N(31,48)),new U(30,new N(34,24),new N(34,25)),new U(30,new N(20,15),new N(61,16)))];var St;(function(A){A[A.DATA_MASK_000=0]="DATA_MASK_000",A[A.DATA_MASK_001=1]="DATA_MASK_001",A[A.DATA_MASK_010=2]="DATA_MASK_010",A[A.DATA_MASK_011=3]="DATA_MASK_011",A[A.DATA_MASK_100=4]="DATA_MASK_100",A[A.DATA_MASK_101=5]="DATA_MASK_101",A[A.DATA_MASK_110=6]="DATA_MASK_110",A[A.DATA_MASK_111=7]="DATA_MASK_111"})(St||(St={}));class wn{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let s=0;s<r;s++)for(let o=0;o<r;o++)this.isMasked(s,o)&&t.flip(o,s)}}wn.values=new Map([[St.DATA_MASK_000,new wn(St.DATA_MASK_000,(A,t)=>(A+t&1)===0)],[St.DATA_MASK_001,new wn(St.DATA_MASK_001,(A,t)=>(A&1)===0)],[St.DATA_MASK_010,new wn(St.DATA_MASK_010,(A,t)=>t%3===0)],[St.DATA_MASK_011,new wn(St.DATA_MASK_011,(A,t)=>(A+t)%3===0)],[St.DATA_MASK_100,new wn(St.DATA_MASK_100,(A,t)=>(Math.floor(A/2)+Math.floor(t/3)&1)===0)],[St.DATA_MASK_101,new wn(St.DATA_MASK_101,(A,t)=>A*t%6===0)],[St.DATA_MASK_110,new wn(St.DATA_MASK_110,(A,t)=>A*t%6<3)],[St.DATA_MASK_111,new wn(St.DATA_MASK_111,(A,t)=>(A+t+A*t%3&1)===0)]]);class Jh{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new F;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let l=0;l<6;l++)t=this.copyBit(l,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let l=5;l>=0;l--)t=this.copyBit(8,l,t);const r=this.bitMatrix.getHeight();let s=0;const o=r-7;for(let l=r-1;l>=o;l--)s=this.copyBit(8,l,s);for(let l=r-8;l<r;l++)s=this.copyBit(l,8,s);if(this.parsedFormatInfo=Pt.decodeFormatInformation(t,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return de.getVersionForNumber(r);let s=0;const o=t-11;for(let c=5;c>=0;c--)for(let d=t-9;d>=o;d--)s=this.copyBit(d,c,s);let l=de.decodeVersionInformation(s);if(l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;s=0;for(let c=5;c>=0;c--)for(let d=t-9;d>=o;d--)s=this.copyBit(c,d,s);if(l=de.decodeVersionInformation(s),l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;throw new F}copyBit(t,r,s){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?s<<1|1:s<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),s=wn.values.get(t.getDataMask()),o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o);const l=r.buildFunctionPattern();let c=!0;const d=new Uint8Array(r.getTotalCodewords());let h=0,x=0,y=0;for(let v=o-1;v>0;v-=2){v===6&&v--;for(let I=0;I<o;I++){const M=c?o-1-I:I;for(let D=0;D<2;D++)l.get(v-D,M)||(y++,x<<=1,this.bitMatrix.get(v-D,M)&&(x|=1),y===8&&(d[h++]=x,y=0,x=0))}c=!c}if(h!==r.getTotalCodewords())throw new F;return d}remask(){if(this.parsedFormatInfo===null)return;const t=wn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,s=t.getWidth();r<s;r++)for(let o=r+1,l=t.getHeight();o<l;o++)t.get(r,o)!==t.get(o,r)&&(t.flip(o,r),t.flip(r,o))}}class sl{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,s){if(t.length!==r.getTotalCodewords())throw new C;const o=r.getECBlocksForLevel(s);let l=0;const c=o.getECBlocks();for(const D of c)l+=D.getCount();const d=new Array(l);let h=0;for(const D of c)for(let b=0;b<D.getCount();b++){const j=D.getDataCodewords(),H=o.getECCodewordsPerBlock()+j;d[h++]=new sl(j,new Uint8Array(H))}const x=d[0].codewords.length;let y=d.length-1;for(;y>=0&&d[y].codewords.length!==x;)y--;y++;const v=x-o.getECCodewordsPerBlock();let I=0;for(let D=0;D<v;D++)for(let b=0;b<h;b++)d[b].codewords[D]=t[I++];for(let D=y;D<h;D++)d[D].codewords[v]=t[I++];const M=d[0].codewords.length;for(let D=v;D<M;D++)for(let b=0;b<h;b++){const j=b<y?D:D+1;d[b].codewords[j]=t[I++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var yn;(function(A){A[A.TERMINATOR=0]="TERMINATOR",A[A.NUMERIC=1]="NUMERIC",A[A.ALPHANUMERIC=2]="ALPHANUMERIC",A[A.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",A[A.BYTE=4]="BYTE",A[A.ECI=5]="ECI",A[A.KANJI=6]="KANJI",A[A.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",A[A.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",A[A.HANZI=9]="HANZI"})(yn||(yn={}));class he{constructor(t,r,s,o){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=s,this.bits=o,he.FOR_BITS.set(o,this),he.FOR_VALUE.set(t,this)}static forBits(t){const r=he.FOR_BITS.get(t);if(r===void 0)throw new C;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let s;return r<=9?s=0:r<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof he))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}he.FOR_BITS=new Map,he.FOR_VALUE=new Map,he.TERMINATOR=new he(yn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),he.NUMERIC=new he(yn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),he.ALPHANUMERIC=new he(yn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),he.STRUCTURED_APPEND=new he(yn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),he.BYTE=new he(yn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),he.ECI=new he(yn.ECI,"ECI",Int32Array.from([0,0,0]),7),he.KANJI=new he(yn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),he.FNC1_FIRST_POSITION=new he(yn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),he.FNC1_SECOND_POSITION=new he(yn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),he.HANZI=new he(yn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class $e{static decode(t,r,s,o){const l=new il(t);let c=new Ee;const d=new Array;let h=-1,x=-1;try{let y=null,v=!1,I;do{if(l.available()<4)I=he.TERMINATOR;else{const M=l.readBits(4);I=he.forBits(M)}switch(I){case he.TERMINATOR:break;case he.FNC1_FIRST_POSITION:case he.FNC1_SECOND_POSITION:v=!0;break;case he.STRUCTURED_APPEND:if(l.available()<16)throw new F;h=l.readBits(8),x=l.readBits(8);break;case he.ECI:const M=$e.parseECIValue(l);if(y=Y.getCharacterSetECIByValue(M),y===null)throw new F;break;case he.HANZI:const D=l.readBits(4),b=l.readBits(I.getCharacterCountBits(r));D===$e.GB2312_SUBSET&&$e.decodeHanziSegment(l,c,b);break;default:const j=l.readBits(I.getCharacterCountBits(r));switch(I){case he.NUMERIC:$e.decodeNumericSegment(l,c,j);break;case he.ALPHANUMERIC:$e.decodeAlphanumericSegment(l,c,j,v);break;case he.BYTE:$e.decodeByteSegment(l,c,j,y,d,o);break;case he.KANJI:$e.decodeKanjiSegment(l,c,j);break;default:throw new F}break}}while(I!==he.TERMINATOR)}catch{throw new F}return new cs(t,c.toString(),d.length===0?null:d,s===null?null:s.toString(),h,x)}static decodeHanziSegment(t,r,s){if(s*13>t.available())throw new F;const o=new Uint8Array(2*s);let l=0;for(;s>0;){const c=t.readBits(13);let d=c/96<<8&4294967295|c%96;d<959?d+=41377:d+=42657,o[l]=d>>8&255,o[l+1]=d&255,l+=2,s--}try{r.append(we.decode(o,ue.GB2312))}catch(c){throw new F(c)}}static decodeKanjiSegment(t,r,s){if(s*13>t.available())throw new F;const o=new Uint8Array(2*s);let l=0;for(;s>0;){const c=t.readBits(13);let d=c/192<<8&4294967295|c%192;d<7936?d+=33088:d+=49472,o[l]=d>>8,o[l+1]=d,l+=2,s--}try{r.append(we.decode(o,ue.SHIFT_JIS))}catch(c){throw new F(c)}}static decodeByteSegment(t,r,s,o,l,c){if(8*s>t.available())throw new F;const d=new Uint8Array(s);for(let x=0;x<s;x++)d[x]=t.readBits(8);let h;o===null?h=ue.guessEncoding(d,c):h=o.getName();try{r.append(we.decode(d,h))}catch(x){throw new F(x)}l.push(d)}static toAlphaNumericChar(t){if(t>=$e.ALPHANUMERIC_CHARS.length)throw new F;return $e.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,s,o){const l=r.length();for(;s>1;){if(t.available()<11)throw new F;const c=t.readBits(11);r.append($e.toAlphaNumericChar(Math.floor(c/45))),r.append($e.toAlphaNumericChar(c%45)),s-=2}if(s===1){if(t.available()<6)throw new F;r.append($e.toAlphaNumericChar(t.readBits(6)))}if(o)for(let c=l;c<r.length();c++)r.charAt(c)==="%"&&(c<r.length()-1&&r.charAt(c+1)==="%"?r.deleteCharAt(c+1):r.setCharAt(c,""))}static decodeNumericSegment(t,r,s){for(;s>=3;){if(t.available()<10)throw new F;const o=t.readBits(10);if(o>=1e3)throw new F;r.append($e.toAlphaNumericChar(Math.floor(o/100))),r.append($e.toAlphaNumericChar(Math.floor(o/10)%10)),r.append($e.toAlphaNumericChar(o%10)),s-=3}if(s===2){if(t.available()<7)throw new F;const o=t.readBits(7);if(o>=100)throw new F;r.append($e.toAlphaNumericChar(Math.floor(o/10))),r.append($e.toAlphaNumericChar(o%10))}else if(s===1){if(t.available()<4)throw new F;const o=t.readBits(4);if(o>=10)throw new F;r.append($e.toAlphaNumericChar(o))}}static parseECIValue(t){const r=t.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const s=t.readBits(8);return(r&63)<<8&4294967295|s}if((r&224)===192){const s=t.readBits(16);return(r&31)<<16&4294967295|s}throw new F}}$e.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",$e.GB2312_SUBSET=1;class n1{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class $h{constructor(){this.rsDecoder=new fs(Oe.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(be.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const s=new Jh(t);let o=null;try{return this.decodeBitMatrixParser(s,r)}catch(l){o=l}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();const l=this.decodeBitMatrixParser(s,r);return l.setOther(new n1(!0)),l}catch(l){throw o!==null?o:l}}decodeBitMatrixParser(t,r){const s=t.readVersion(),o=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),c=sl.getDataBlocks(l,s,o);let d=0;for(const y of c)d+=y.getNumDataCodewords();const h=new Uint8Array(d);let x=0;for(const y of c){const v=y.getCodewords(),I=y.getNumDataCodewords();this.correctErrors(v,I);for(let M=0;M<I;M++)h[x++]=v[M]}return $e.decode(h,s,o,r)}correctErrors(t,r){const s=new Int32Array(t);try{this.rsDecoder.decode(s,t.length-r)}catch{throw new L}for(let o=0;o<r;o++)t[o]=s[o]}}class ol extends ce{constructor(t,r,s){super(t,r),this.estimatedModuleSize=s}aboutEquals(t,r,s){if(Math.abs(r-this.getY())<=t&&Math.abs(s-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,s){const o=(this.getX()+r)/2,l=(this.getY()+t)/2,c=(this.estimatedModuleSize+s)/2;return new ol(o,l,c)}}class Ao{constructor(t,r,s,o,l,c,d){this.image=t,this.startX=r,this.startY=s,this.width=o,this.height=l,this.moduleSize=c,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,s=this.width,o=t+s,l=this.startY+r/2,c=new Int32Array(3),d=this.image;for(let h=0;h<r;h++){const x=l+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));c[0]=0,c[1]=0,c[2]=0;let y=t;for(;y<o&&!d.get(y,x);)y++;let v=0;for(;y<o;){if(d.get(y,x))if(v===1)c[1]++;else if(v===2){if(this.foundPatternCross(c)){const I=this.handlePossibleCenter(c,x,y);if(I!==null)return I}c[0]=c[2],c[1]=1,c[2]=0,v=1}else c[++v]++;else v===1&&v++,c[v]++;y++}if(this.foundPatternCross(c)){const I=this.handlePossibleCenter(c,x,o);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new W}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,s=r/2;for(let o=0;o<3;o++)if(Math.abs(r-t[o])>=s)return!1;return!0}crossCheckVertical(t,r,s,o){const l=this.image,c=l.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let h=t;for(;h>=0&&l.get(r,h)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&!l.get(r,h)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=t+1;h<c&&l.get(r,h)&&d[1]<=s;)d[1]++,h++;if(h===c||d[1]>s)return NaN;for(;h<c&&!l.get(r,h)&&d[2]<=s;)d[2]++,h++;if(d[2]>s)return NaN;const x=d[0]+d[1]+d[2];return 5*Math.abs(x-o)>=2*o?NaN:this.foundPatternCross(d)?Ao.centerFromEnd(d,h):NaN}handlePossibleCenter(t,r,s){const o=t[0]+t[1]+t[2],l=Ao.centerFromEnd(t,s),c=this.crossCheckVertical(r,l,2*t[1],o);if(!isNaN(c)){const d=(t[0]+t[1]+t[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(d,c,l))return x.combineEstimate(c,l,d);const h=new ol(l,c,d);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class al extends ce{constructor(t,r,s,o){super(t,r),this.estimatedModuleSize=s,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,s){if(Math.abs(r-this.getY())<=t&&Math.abs(s-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,s){const o=this.count+1,l=(this.count*this.getX()+r)/o,c=(this.count*this.getY()+t)/o,d=(this.count*this.estimatedModuleSize+s)/o;return new al(l,c,d,o)}}class eg{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class It{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(Z.TRY_HARDER)!==void 0,s=t!=null&&t.get(Z.PURE_BARCODE)!==void 0,o=this.image,l=o.getHeight(),c=o.getWidth();let d=Math.floor(3*l/(4*It.MAX_MODULES));(d<It.MIN_SKIP||r)&&(d=It.MIN_SKIP);let h=!1;const x=new Int32Array(5);for(let v=d-1;v<l&&!h;v+=d){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let I=0;for(let M=0;M<c;M++)if(o.get(M,v))(I&1)===1&&I++,x[I]++;else if(I&1)x[I]++;else if(I===4)if(It.foundPatternCross(x)){if(this.handlePossibleCenter(x,v,M,s)===!0)if(d=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const b=this.findRowSkip();b>x[2]&&(v+=b-x[2]-d,M=c-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,I=3;continue}I=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,I=3;else x[++I]++;It.foundPatternCross(x)&&this.handlePossibleCenter(x,v,c,s)===!0&&(d=x[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const y=this.selectBestPatterns();return ce.orderBestPatterns(y),new eg(y)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let l=0;l<5;l++){const c=t[l];if(c===0)return!1;r+=c}if(r<7)return!1;const s=r/7,o=s/2;return Math.abs(s-t[0])<o&&Math.abs(s-t[1])<o&&Math.abs(3*s-t[2])<3*o&&Math.abs(s-t[3])<o&&Math.abs(s-t[4])<o}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,s,o){const l=this.getCrossCheckStateCount();let c=0;const d=this.image;for(;t>=c&&r>=c&&d.get(r-c,t-c);)l[2]++,c++;if(t<c||r<c)return!1;for(;t>=c&&r>=c&&!d.get(r-c,t-c)&&l[1]<=s;)l[1]++,c++;if(t<c||r<c||l[1]>s)return!1;for(;t>=c&&r>=c&&d.get(r-c,t-c)&&l[0]<=s;)l[0]++,c++;if(l[0]>s)return!1;const h=d.getHeight(),x=d.getWidth();for(c=1;t+c<h&&r+c<x&&d.get(r+c,t+c);)l[2]++,c++;if(t+c>=h||r+c>=x)return!1;for(;t+c<h&&r+c<x&&!d.get(r+c,t+c)&&l[3]<s;)l[3]++,c++;if(t+c>=h||r+c>=x||l[3]>=s)return!1;for(;t+c<h&&r+c<x&&d.get(r+c,t+c)&&l[4]<s;)l[4]++,c++;if(l[4]>=s)return!1;const y=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(y-o)<2*o&&It.foundPatternCross(l)}crossCheckVertical(t,r,s,o){const l=this.image,c=l.getHeight(),d=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(r,h);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(r,h)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&l.get(r,h)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=t+1;h<c&&l.get(r,h);)d[2]++,h++;if(h===c)return NaN;for(;h<c&&!l.get(r,h)&&d[3]<s;)d[3]++,h++;if(h===c||d[3]>=s)return NaN;for(;h<c&&l.get(r,h)&&d[4]<s;)d[4]++,h++;if(d[4]>=s)return NaN;const x=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(x-o)>=2*o?NaN:It.foundPatternCross(d)?It.centerFromEnd(d,h):NaN}crossCheckHorizontal(t,r,s,o){const l=this.image,c=l.getWidth(),d=this.getCrossCheckStateCount();let h=t;for(;h>=0&&l.get(h,r);)d[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(h,r)&&d[1]<=s;)d[1]++,h--;if(h<0||d[1]>s)return NaN;for(;h>=0&&l.get(h,r)&&d[0]<=s;)d[0]++,h--;if(d[0]>s)return NaN;for(h=t+1;h<c&&l.get(h,r);)d[2]++,h++;if(h===c)return NaN;for(;h<c&&!l.get(h,r)&&d[3]<s;)d[3]++,h++;if(h===c||d[3]>=s)return NaN;for(;h<c&&l.get(h,r)&&d[4]<s;)d[4]++,h++;if(d[4]>=s)return NaN;const x=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(x-o)>=o?NaN:It.foundPatternCross(d)?It.centerFromEnd(d,h):NaN}handlePossibleCenter(t,r,s,o){const l=t[0]+t[1]+t[2]+t[3]+t[4];let c=It.centerFromEnd(t,s),d=this.crossCheckVertical(r,Math.floor(c),t[2],l);if(!isNaN(d)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(d),t[2],l),!isNaN(c)&&(!o||this.crossCheckDiagonal(Math.floor(d),Math.floor(c),t[2],l)))){const h=l/7;let x=!1;const y=this.possibleCenters;for(let v=0,I=y.length;v<I;v++){const M=y[v];if(M.aboutEquals(h,d,c)){y[v]=M.combineEstimate(d,c,h),x=!0;break}}if(!x){const v=new al(c,d,h);y.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const s of this.possibleCenters)if(s.getCount()>=It.CENTER_QUORUM)if(r==null)r=s;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-s.getX())-Math.abs(r.getY()-s.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const s=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=It.CENTER_QUORUM&&(t++,r+=c.getEstimatedModuleSize());if(t<3)return!1;const o=r/s;let l=0;for(const c of this.possibleCenters)l+=Math.abs(c.getEstimatedModuleSize()-o);return l<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new W;const r=this.possibleCenters;let s;if(t>3){let o=0,l=0;for(const h of this.possibleCenters){const x=h.getEstimatedModuleSize();o+=x,l+=x*x}s=o/t;let c=Math.sqrt(l/t-s*s);r.sort((h,x)=>{const y=Math.abs(x.getEstimatedModuleSize()-s),v=Math.abs(h.getEstimatedModuleSize()-s);return y<v?-1:y>v?1:0});const d=Math.max(.2*s,c);for(let h=0;h<r.length&&r.length>3;h++){const x=r[h];Math.abs(x.getEstimatedModuleSize()-s)>d&&(r.splice(h,1),h--)}}if(r.length>3){let o=0;for(const l of r)o+=l.getEstimatedModuleSize();s=o/r.length,r.sort((l,c)=>{if(c.getCount()===l.getCount()){const d=Math.abs(c.getEstimatedModuleSize()-s),h=Math.abs(l.getEstimatedModuleSize()-s);return d<h?1:d>h?-1:0}else return c.getCount()-l.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}It.CENTER_QUORUM=2,It.MIN_SKIP=3,It.MAX_MODULES=57;class hs{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(Z.NEED_RESULT_POINT_CALLBACK);const s=new It(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(s)}processFinderPatternInfo(t){const r=t.getTopLeft(),s=t.getTopRight(),o=t.getBottomLeft(),l=this.calculateModuleSize(r,s,o);if(l<1)throw new W("No pattern found in proccess finder.");const c=hs.computeDimension(r,s,o,l),d=de.getProvisionalVersionForDimension(c),h=d.getDimensionForVersion()-7;let x=null;if(d.getAlignmentPatternCenters().length>0){const M=s.getX()-r.getX()+o.getX(),D=s.getY()-r.getY()+o.getY(),b=1-3/h,j=Math.floor(r.getX()+b*(M-r.getX())),H=Math.floor(r.getY()+b*(D-r.getY()));for(let $=4;$<=16;$<<=1)try{x=this.findAlignmentInRegion(l,j,H,$);break}catch(ee){if(!(ee instanceof W))throw ee}}const y=hs.createTransform(r,s,o,x,c),v=hs.sampleGrid(this.image,y,c);let I;return x===null?I=[o,r,s]:I=[o,r,s,x],new mo(v,I)}static createTransform(t,r,s,o,l){const c=l-3.5;let d,h,x,y;return o!==null?(d=o.getX(),h=o.getY(),x=c-3,y=x):(d=r.getX()-t.getX()+s.getX(),h=r.getY()-t.getY()+s.getY(),x=c,y=c),Mn.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,x,y,3.5,c,t.getX(),t.getY(),r.getX(),r.getY(),d,h,s.getX(),s.getY())}static sampleGrid(t,r,s){return pr.getInstance().sampleGridWithTransform(t,s,s,r)}static computeDimension(t,r,s,o){const l=Ne.round(ce.distance(t,r)/o),c=Ne.round(ce.distance(t,s)/o);let d=Math.floor((l+c)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new W("Dimensions could be not found.")}return d}calculateModuleSize(t,r,s){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,s))/2}calculateModuleSizeOneWay(t,r){const s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(s)?o/7:isNaN(o)?s/7:(s+o)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,s,o){let l=this.sizeOfBlackWhiteBlackRun(t,r,s,o),c=1,d=t-(s-t);d<0?(c=t/(t-d),d=0):d>=this.image.getWidth()&&(c=(this.image.getWidth()-1-t)/(d-t),d=this.image.getWidth()-1);let h=Math.floor(r-(o-r)*c);return c=1,h<0?(c=r/(r-h),h=0):h>=this.image.getHeight()&&(c=(this.image.getHeight()-1-r)/(h-r),h=this.image.getHeight()-1),d=Math.floor(t+(d-t)*c),l+=this.sizeOfBlackWhiteBlackRun(t,r,d,h),l-1}sizeOfBlackWhiteBlackRun(t,r,s,o){const l=Math.abs(o-r)>Math.abs(s-t);if(l){let M=t;t=r,r=M,M=s,s=o,o=M}const c=Math.abs(s-t),d=Math.abs(o-r);let h=-c/2;const x=t<s?1:-1,y=r<o?1:-1;let v=0;const I=s+x;for(let M=t,D=r;M!==I;M+=x){const b=l?D:M,j=l?M:D;if(v===1===this.image.get(b,j)){if(v===2)return Ne.distance(M,D,t,r);v++}if(h+=d,h>0){if(D===o)break;D+=y,h-=c}}return v===2?Ne.distance(s+x,o,t,r):NaN}findAlignmentInRegion(t,r,s,o){const l=Math.floor(o*t),c=Math.max(0,r-l),d=Math.min(this.image.getWidth()-1,r+l);if(d-c<t*3)throw new W("Alignment top exceeds estimated module size.");const h=Math.max(0,s-l),x=Math.min(this.image.getHeight()-1,s+l);if(x-h<t*3)throw new W("Alignment bottom exceeds estimated module size.");return new Ao(this.image,c,h,d-c,x-h,t,this.resultPointCallback).find()}}class yr{constructor(){this.decoder=new $h}getDecoder(){return this.decoder}decode(t,r){let s,o;if(r!=null&&r.get(Z.PURE_BARCODE)!==void 0){const h=yr.extractPureBits(t.getBlackMatrix());s=this.decoder.decodeBitMatrix(h,r),o=yr.NO_POINTS}else{const h=new hs(t.getBlackMatrix()).detect(r);s=this.decoder.decodeBitMatrix(h.getBits(),r),o=h.getPoints()}s.getOther()instanceof n1&&s.getOther().applyMirroredCorrection(o);const l=new Le(s.getText(),s.getRawBytes(),void 0,o,le.QR_CODE,void 0),c=s.getByteSegments();c!==null&&l.putMetadata(vt.BYTE_SEGMENTS,c);const d=s.getECLevel();return d!==null&&l.putMetadata(vt.ERROR_CORRECTION_LEVEL,d),s.hasStructuredAppend()&&(l.putMetadata(vt.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),l.putMetadata(vt.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),l}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),s=t.getBottomRightOnBit();if(r===null||s===null)throw new W;const o=this.moduleSize(r,t);let l=r[1],c=s[1],d=r[0],h=s[0];if(d>=h||l>=c)throw new W;if(c-l!==h-d&&(h=d+(c-l),h>=t.getWidth()))throw new W;const x=Math.round((h-d+1)/o),y=Math.round((c-l+1)/o);if(x<=0||y<=0)throw new W;if(y!==x)throw new W;const v=Math.floor(o/2);l+=v,d+=v;const I=d+Math.floor((x-1)*o)-h;if(I>0){if(I>v)throw new W;d-=I}const M=l+Math.floor((y-1)*o)-c;if(M>0){if(M>v)throw new W;l-=M}const D=new be(x,y);for(let b=0;b<y;b++){const j=l+Math.floor(b*o);for(let H=0;H<x;H++)t.get(d+Math.floor(H*o),j)&&D.set(H,b)}return D}static moduleSize(t,r){const s=r.getHeight(),o=r.getWidth();let l=t[0],c=t[1],d=!0,h=0;for(;l<o&&c<s;){if(d!==r.get(l,c)){if(++h===5)break;d=!d}l++,c++}if(l===o||c===s)throw new W;return(l-t[0])/7}}yr.NO_POINTS=new Array;class me{PDF417Common(){}static getBitCountSum(t){return Ne.sum(t)}static toIntArray(t){if(t==null||!t.length)return me.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let s=0;for(const o of t)r[s++]=o;return r}static getCodeword(t){const r=O.binarySearch(me.SYMBOL_TABLE,t&262143);return r<0?-1:(me.CODEWORD_TABLE[r]-1)%me.NUMBER_OF_CODEWORDS}}me.NUMBER_OF_CODEWORDS=929,me.MAX_CODEWORDS_IN_BARCODE=me.NUMBER_OF_CODEWORDS-1,me.MIN_ROWS_IN_BARCODE=3,me.MAX_ROWS_IN_BARCODE=90,me.MODULES_IN_CODEWORD=17,me.MODULES_IN_STOP_PATTERN=18,me.BARS_IN_MODULE=8,me.EMPTY_INT_ARRAY=new Int32Array([]),me.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),me.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class tg{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ce{static detectMultiple(t,r,s){let o=t.getBlackMatrix(),l=Ce.detect(s,o);return l.length||(o=o.clone(),o.rotate180(),l=Ce.detect(s,o)),new tg(o,l)}static detect(t,r){const s=new Array;let o=0,l=0,c=!1;for(;o<r.getHeight();){const d=Ce.findVertices(r,o,l);if(d[0]==null&&d[3]==null){if(!c)break;c=!1,l=0;for(const h of s)h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())));o+=Ce.ROW_STEP;continue}if(c=!0,s.push(d),!t)break;d[2]!=null?(l=Math.trunc(d[2].getX()),o=Math.trunc(d[2].getY())):(l=Math.trunc(d[4].getX()),o=Math.trunc(d[4].getY()))}return s}static findVertices(t,r,s){const o=t.getHeight(),l=t.getWidth(),c=new Array(8);return Ce.copyToResult(c,Ce.findRowsWithPattern(t,o,l,r,s,Ce.START_PATTERN),Ce.INDEXES_START_PATTERN),c[4]!=null&&(s=Math.trunc(c[4].getX()),r=Math.trunc(c[4].getY())),Ce.copyToResult(c,Ce.findRowsWithPattern(t,o,l,r,s,Ce.STOP_PATTERN),Ce.INDEXES_STOP_PATTERN),c}static copyToResult(t,r,s){for(let o=0;o<s.length;o++)t[s[o]]=r[o]}static findRowsWithPattern(t,r,s,o,l,c){const d=new Array(4);let h=!1;const x=new Int32Array(c.length);for(;o<r;o+=Ce.ROW_STEP){let v=Ce.findGuardPattern(t,l,o,s,!1,c,x);if(v!=null){for(;o>0;){const I=Ce.findGuardPattern(t,l,--o,s,!1,c,x);if(I!=null)v=I;else{o++;break}}d[0]=new ce(v[0],o),d[1]=new ce(v[1],o),h=!0;break}}let y=o+1;if(h){let v=0,I=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;y<r;y++){const M=Ce.findGuardPattern(t,I[0],y,s,!1,c,x);if(M!=null&&Math.abs(I[0]-M[0])<Ce.MAX_PATTERN_DRIFT&&Math.abs(I[1]-M[1])<Ce.MAX_PATTERN_DRIFT)I=M,v=0;else{if(v>Ce.SKIPPED_ROW_COUNT_MAX)break;v++}}y-=v+1,d[2]=new ce(I[0],y),d[3]=new ce(I[1],y)}return y-o<Ce.BARCODE_MIN_HEIGHT&&O.fill(d,null),d}static findGuardPattern(t,r,s,o,l,c,d){O.fillWithin(d,0,d.length,0);let h=r,x=0;for(;t.get(h,s)&&h>0&&x++<Ce.MAX_PIXEL_DRIFT;)h--;let y=h,v=0,I=c.length;for(let M=l;y<o;y++)if(t.get(y,s)!==M)d[v]++;else{if(v===I-1){if(Ce.patternMatchVariance(d,c,Ce.MAX_INDIVIDUAL_VARIANCE)<Ce.MAX_AVG_VARIANCE)return new Int32Array([h,y]);h+=d[0]+d[1],B.arraycopy(d,2,d,0,v-1),d[v-1]=0,d[v]=0,v--}else v++;d[v]=1,M=!M}return v===I-1&&Ce.patternMatchVariance(d,c,Ce.MAX_INDIVIDUAL_VARIANCE)<Ce.MAX_AVG_VARIANCE?new Int32Array([h,y-1]):null}static patternMatchVariance(t,r,s){let o=t.length,l=0,c=0;for(let x=0;x<o;x++)l+=t[x],c+=r[x];if(l<c)return 1/0;let d=l/c;s*=d;let h=0;for(let x=0;x<o;x++){let y=t[x],v=r[x]*d,I=y>v?y-v:v-y;if(I>s)return 1/0;h+=I}return h/l}}Ce.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ce.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ce.MAX_AVG_VARIANCE=.42,Ce.MAX_INDIVIDUAL_VARIANCE=.8,Ce.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ce.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ce.MAX_PIXEL_DRIFT=3,Ce.MAX_PATTERN_DRIFT=5,Ce.SKIPPED_ROW_COUNT_MAX=25,Ce.ROW_STEP=5,Ce.BARCODE_MIN_HEIGHT=10;class Mt{constructor(t,r){if(r.length===0)throw new C;this.field=t;let s=r.length;if(s>1&&r[0]===0){let o=1;for(;o<s&&r[o]===0;)o++;o===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-o),B.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let o=0;for(let l of this.coefficients)o=this.field.add(o,l);return o}let r=this.coefficients[0],s=this.coefficients.length;for(let o=1;o<s;o++)r=this.field.add(this.field.multiply(t,r),this.coefficients[o]);return r}add(t){if(!this.field.equals(t.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,s=t.coefficients;if(r.length>s.length){let c=r;r=s,s=c}let o=new Int32Array(s.length),l=s.length-r.length;B.arraycopy(s,0,o,0,l);for(let c=l;c<s.length;c++)o[c]=this.field.add(r[c-l],s[c]);return new Mt(this.field,o)}subtract(t){if(!this.field.equals(t.field))throw new C("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Mt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Mt(this.field,new Int32Array([0]));let r=this.coefficients,s=r.length,o=t.coefficients,l=o.length,c=new Int32Array(s+l-1);for(let d=0;d<s;d++){let h=r[d];for(let x=0;x<l;x++)c[d+x]=this.field.add(c[d+x],this.field.multiply(h,o[x]))}return new Mt(this.field,c)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let s=0;s<t;s++)r[s]=this.field.subtract(0,this.coefficients[s]);return new Mt(this.field,r)}multiplyScalar(t){if(t===0)return new Mt(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,s=new Int32Array(r);for(let o=0;o<r;o++)s[o]=this.field.multiply(this.coefficients[o],t);return new Mt(this.field,s)}multiplyByMonomial(t,r){if(t<0)throw new C;if(r===0)return new Mt(this.field,new Int32Array([0]));let s=this.coefficients.length,o=new Int32Array(s+t);for(let l=0;l<s;l++)o[l]=this.field.multiply(this.coefficients[l],r);return new Mt(this.field,o)}toString(){let t=new Ee;for(let r=this.getDegree();r>=0;r--){let s=this.getCoefficient(r);s!==0&&(s<0?(t.append(" - "),s=-s):t.length()>0&&t.append(" + "),(r===0||s!==1)&&t.append(s),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class ng{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new C;return this.logTable[t]}inverse(t){if(t===0)throw new po;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class ll extends ng{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let s=1;for(let o=0;o<t;o++)this.expTable[o]=s,s=s*r%t;for(let o=0;o<t-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new Mt(this,new Int32Array([0])),this.one=new Mt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new C;if(r===0)return this.zero;let s=new Int32Array(t+1);return s[0]=r,new Mt(this,s)}}ll.PDF417_GF=new ll(me.NUMBER_OF_CODEWORDS,3);class r1{constructor(){this.field=ll.PDF417_GF}decode(t,r,s){let o=new Mt(this.field,t),l=new Int32Array(r),c=!1;for(let D=r;D>0;D--){let b=o.evaluateAt(this.field.exp(D));l[r-D]=b,b!==0&&(c=!0)}if(!c)return 0;let d=this.field.getOne();if(s!=null)for(const D of s){let b=this.field.exp(t.length-1-D),j=new Mt(this.field,new Int32Array([this.field.subtract(0,b),1]));d=d.multiply(j)}let h=new Mt(this.field,l),x=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),h,r),y=x[0],v=x[1],I=this.findErrorLocations(y),M=this.findErrorMagnitudes(v,y,I);for(let D=0;D<I.length;D++){let b=t.length-1-this.field.log(I[D]);if(b<0)throw L.getChecksumInstance();t[b]=this.field.subtract(t[b],M[D])}return I.length}runEuclideanAlgorithm(t,r,s){if(t.getDegree()<r.getDegree()){let I=t;t=r,r=I}let o=t,l=r,c=this.field.getZero(),d=this.field.getOne();for(;l.getDegree()>=Math.round(s/2);){let I=o,M=c;if(o=l,c=d,o.isZero())throw L.getChecksumInstance();l=I;let D=this.field.getZero(),b=o.getCoefficient(o.getDegree()),j=this.field.inverse(b);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){let H=l.getDegree()-o.getDegree(),$=this.field.multiply(l.getCoefficient(l.getDegree()),j);D=D.add(this.field.buildMonomial(H,$)),l=l.subtract(o.multiplyByMonomial(H,$))}d=D.multiply(c).subtract(M).negative()}let h=d.getCoefficient(0);if(h===0)throw L.getChecksumInstance();let x=this.field.inverse(h),y=d.multiply(x),v=l.multiply(x);return[y,v]}findErrorLocations(t){let r=t.getDegree(),s=new Int32Array(r),o=0;for(let l=1;l<this.field.getSize()&&o<r;l++)t.evaluateAt(l)===0&&(s[o]=this.field.inverse(l),o++);if(o!==r)throw L.getChecksumInstance();return s}findErrorMagnitudes(t,r,s){let o=r.getDegree(),l=new Int32Array(o);for(let x=1;x<=o;x++)l[o-x]=this.field.multiply(x,r.getCoefficient(x));let c=new Mt(this.field,l),d=s.length,h=new Int32Array(d);for(let x=0;x<d;x++){let y=this.field.inverse(s[x]),v=this.field.subtract(0,t.evaluateAt(y)),I=this.field.inverse(c.evaluateAt(y));h[x]=this.field.multiply(v,I)}return h}}class qr{constructor(t,r,s,o,l){t instanceof qr?this.constructor_2(t):this.constructor_1(t,r,s,o,l)}constructor_1(t,r,s,o,l){const c=r==null||s==null,d=o==null||l==null;if(c&&d)throw new W;c?(r=new ce(0,o.getY()),s=new ce(0,l.getY())):d&&(o=new ce(t.getWidth()-1,r.getY()),l=new ce(t.getWidth()-1,s.getY())),this.image=t,this.topLeft=r,this.bottomLeft=s,this.topRight=o,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),s.getX())),this.maxX=Math.trunc(Math.max(o.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),o.getY())),this.maxY=Math.trunc(Math.max(s.getY(),l.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new qr(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,s){let o=this.topLeft,l=this.bottomLeft,c=this.topRight,d=this.bottomRight;if(t>0){let h=s?this.topLeft:this.topRight,x=Math.trunc(h.getY()-t);x<0&&(x=0);let y=new ce(h.getX(),x);s?o=y:c=y}if(r>0){let h=s?this.bottomLeft:this.bottomRight,x=Math.trunc(h.getY()+r);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let y=new ce(h.getX(),x);s?l=y:d=y}return new qr(this.image,o,l,c,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class rg{constructor(t,r,s,o){this.columnCount=t,this.errorCorrectionLevel=o,this.rowCountUpperPart=r,this.rowCountLowerPart=s,this.rowCount=r+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class gs{constructor(){this.buffer=""}static form(t,r){let s=-1;function o(c,d,h,x,y,v){if(c==="%%")return"%";if(r[++s]===void 0)return;c=x?parseInt(x.substr(1)):void 0;let I=y?parseInt(y.substr(1)):void 0,M;switch(v){case"s":M=r[s];break;case"c":M=r[s][0];break;case"f":M=parseFloat(r[s]).toFixed(c);break;case"p":M=parseFloat(r[s]).toPrecision(c);break;case"e":M=parseFloat(r[s]).toExponential(c);break;case"x":M=parseInt(r[s]).toString(I||16);break;case"d":M=parseFloat(parseInt(r[s],I||10).toPrecision(c)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(I);let D=parseInt(h),b=h&&h[0]+""=="0"?"0":" ";for(;M.length<D;)M=d!==void 0?M+b:b+M;return M}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,o)}format(t,...r){this.buffer+=gs.form(t,r)}toString(){return this.buffer}}class ps{constructor(t){this.boundingBox=new qr(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let s=1;s<ps.MAX_NEARBY_DISTANCE;s++){let o=this.imageRowToCodewordIndex(t)-s;if(o>=0&&(r=this.codewords[o],r!=null)||(o=this.imageRowToCodewordIndex(t)+s,o<this.codewords.length&&(r=this.codewords[o],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new gs;let r=0;for(const s of this.codewords){if(s==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,s.getRowNumber(),s.getValue())}return t.toString()}}ps.MAX_NEARBY_DISTANCE=5;class xs{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[s,o]of this.values.entries()){const l={getKey:()=>s,getValue:()=>o};l.getValue()>t?(t=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===t&&r.push(l.getKey())}return me.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class i1 extends ps{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let s=this.getBoundingBox(),o=this._isLeft?s.getTopLeft():s.getTopRight(),l=this._isLeft?s.getBottomLeft():s.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,x=1,y=0;for(let v=c;v<d;v++){if(r[v]==null)continue;let I=r[v],M=I.getRowNumber()-h;if(M===0)y++;else if(M===1)x=Math.max(x,y),y=1,h=I.getRowNumber();else if(M<0||I.getRowNumber()>=t.getRowCount()||M>v)r[v]=null;else{let D;x>2?D=(x-2)*M:D=M;let b=D>=v;for(let j=1;j<=D&&!b;j++)b=r[v-j]!=null;b?r[v]=null:(h=I.getRowNumber(),y=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let s of this.getCodewords())if(s!=null){let o=s.getRowNumber();if(o>=r.length)continue;r[o]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.getCodewords(),h=-1;for(let x=l;x<c;x++){if(d[x]==null)continue;let y=d[x];y.setRowNumberAsRowIndicatorColumn();let v=y.getRowNumber()-h;v===0||(v===1?h=y.getRowNumber():y.getRowNumber()>=t.getRowCount()?d[x]=null:h=y.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new xs,s=new xs,o=new xs,l=new xs;for(let d of t){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let h=d.getValue()%30,x=d.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:s.setValue(h*3+1);break;case 1:l.setValue(h/3),o.setValue(h%3);break;case 2:r.setValue(h+1);break}}if(r.getValue().length===0||s.getValue().length===0||o.getValue().length===0||l.getValue().length===0||r.getValue()[0]<1||s.getValue()[0]+o.getValue()[0]<me.MIN_ROWS_IN_BARCODE||s.getValue()[0]+o.getValue()[0]>me.MAX_ROWS_IN_BARCODE)return null;let c=new rg(r.getValue()[0],s.getValue()[0],o.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(t,c),c}removeIncorrectCodewords(t,r){for(let s=0;s<t.length;s++){let o=t[s];if(t[s]==null)continue;let l=o.getValue()%30,c=o.getRowNumber();if(c>r.getRowCount()){t[s]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:l*3+1!==r.getRowCountUpperPart()&&(t[s]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(t[s]=null);break;case 2:l+1!==r.getColumnCount()&&(t[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ms{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=me.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let s=this.detectionResultColumns[r].getCodewords();for(let o=0;o<s.length;o++)s[o]!=null&&(s[o].hasValidRowNumber()||this.adjustRowNumbers(r,o,s))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<t.length;s++)if(t[s]!=null&&r[s]!=null&&t[s].getRowNumber()===r[s].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let l=this.detectionResultColumns[o].getCodewords()[s];l!=null&&(l.setRowNumber(t[s].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<r.length;s++){if(r[s]==null)continue;let o=r[s].getRowNumber(),l=0;for(let c=this.barcodeColumnCount+1;c>0&&l<this.ADJUST_ROW_NUMBER_SKIP;c--){let d=this.detectionResultColumns[c].getCodewords()[s];d!=null&&(l=ms.adjustRowNumberIfValid(o,l,d),d.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let s=0;s<r.length;s++){if(r[s]==null)continue;let o=r[s].getRowNumber(),l=0;for(let c=1;c<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;c++){let d=this.detectionResultColumns[c].getCodewords()[s];d!=null&&(l=ms.adjustRowNumberIfValid(o,l,d),d.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(t)?(s.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,s){if(!this.detectionResultColumns[t-1])return;let o=s[r],l=this.detectionResultColumns[t-1].getCodewords(),c=l;this.detectionResultColumns[t+1]!=null&&(c=this.detectionResultColumns[t+1].getCodewords());let d=new Array(14);d[2]=l[r],d[3]=c[r],r>0&&(d[0]=s[r-1],d[4]=l[r-1],d[5]=c[r-1]),r>1&&(d[8]=s[r-2],d[10]=l[r-2],d[11]=c[r-2]),r<s.length-1&&(d[1]=s[r+1],d[6]=l[r+1],d[7]=c[r+1]),r<s.length-2&&(d[9]=s[r+2],d[12]=l[r+2],d[13]=c[r+2]);for(let h of d)if(ms.adjustRowNumber(o,h))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new gs;for(let s=0;s<t.getCodewords().length;s++){r.format("CW %3d:",s);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){r.format("    |   ");continue}let l=this.detectionResultColumns[o].getCodewords()[s];if(l==null){r.format("    |   ");continue}r.format(" %3d|%3d",l.getRowNumber(),l.getValue())}r.format("%n")}return r.toString()}}class ws{constructor(t,r,s,o){this.rowNumber=ws.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(s),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==ws.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}ws.BARCODE_ROW_UNKNOWN=-1;class qt{static initialize(){for(let t=0;t<me.SYMBOL_TABLE.length;t++){let r=me.SYMBOL_TABLE[t],s=r&1;for(let o=0;o<me.BARS_IN_MODULE;o++){let l=0;for(;(r&1)===s;)l+=1,r>>=1;s=r&1,qt.RATIOS_TABLE[t]||(qt.RATIOS_TABLE[t]=new Array(me.BARS_IN_MODULE)),qt.RATIOS_TABLE[t][me.BARS_IN_MODULE-o-1]=Math.fround(l/me.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=qt.getDecodedCodewordValue(qt.sampleBitCounts(t));return r!==-1?r:qt.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=Ne.sum(t),s=new Int32Array(me.BARS_IN_MODULE),o=0,l=0;for(let c=0;c<me.MODULES_IN_CODEWORD;c++){let d=r/(2*me.MODULES_IN_CODEWORD)+c*r/me.MODULES_IN_CODEWORD;l+t[o]<=d&&(l+=t[o],o++),s[o]++}return s}static getDecodedCodewordValue(t){let r=qt.getBitValue(t);return me.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let s=0;s<t.length;s++)for(let o=0;o<t[s];o++)r=r<<1|(s%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=Ne.sum(t),s=new Array(me.BARS_IN_MODULE);if(r>1)for(let c=0;c<s.length;c++)s[c]=Math.fround(t[c]/r);let o=xo.MAX_VALUE,l=-1;this.bSymbolTableReady||qt.initialize();for(let c=0;c<qt.RATIOS_TABLE.length;c++){let d=0,h=qt.RATIOS_TABLE[c];for(let x=0;x<me.BARS_IN_MODULE;x++){let y=Math.fround(h[x]-s[x]);if(d+=Math.fround(y*y),d>=o)break}d<o&&(o=d,l=me.SYMBOL_TABLE[c])}return l}}qt.bSymbolTableReady=!1,qt.RATIOS_TABLE=new Array(me.SYMBOL_TABLE.length).map(A=>new Array(me.BARS_IN_MODULE));class s1{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class o1{static parseLong(t,r=void 0){return parseInt(t,r)}}class a1 extends g{}a1.kind="NullPointerException";class ig{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,s){if(t==null)throw new a1;if(r<0||r>t.length||s<0||r+s>t.length||r+s<0)throw new z;if(s===0)return;for(let o=0;o<s;o++)this.write(t[r+o])}flush(){}close(){}}class sg extends g{}class og extends ig{constructor(t=32){if(super(),this.count=0,t<0)throw new C("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let s=this.buf.length<<1;if(s-t<0&&(s=t),s<0){if(t<0)throw new sg;s=_.MAX_VALUE}this.buf=O.copyOfUint8Array(this.buf,s)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,s){if(r<0||r>t.length||s<0||r+s-t.length>0)throw new z;this.ensureCapacity(this.count+s),B.arraycopy(t,r,this.buf,this.count,s),this.count+=s}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return O.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Ue;(function(A){A[A.ALPHA=0]="ALPHA",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.PUNCT=3]="PUNCT",A[A.ALPHA_SHIFT=4]="ALPHA_SHIFT",A[A.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ue||(Ue={}));function l1(){if(typeof window<"u")return window.BigInt||null;if(typeof Cs<"u")return Cs.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let vo;function Er(A){if(typeof vo>"u"&&(vo=l1()),vo===null)throw new Error("BigInt is not supported!");return vo(A)}function ag(){let A=[];A[0]=Er(1);let t=Er(900);A[1]=t;for(let r=2;r<16;r++)A[r]=A[r-1]*t;return A}class V{static decode(t,r){let s=new Ee(""),o=Y.ISO8859_1;s.enableDecoding(o);let l=1,c=t[l++],d=new s1;for(;l<t[0];){switch(c){case V.TEXT_COMPACTION_MODE_LATCH:l=V.textCompaction(t,l,s);break;case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:l=V.byteCompaction(c,t,o,l,s);break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(t[l++]);break;case V.NUMERIC_COMPACTION_MODE_LATCH:l=V.numericCompaction(t,l,s);break;case V.ECI_CHARSET:Y.getCharacterSetECIByValue(t[l++]);break;case V.ECI_GENERAL_PURPOSE:l+=2;break;case V.ECI_USER_DEFINED:l++;break;case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=V.decodeMacroBlock(t,l,d);break;case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:throw new F;default:l--,l=V.textCompaction(t,l,s);break}if(l<t.length)c=t[l++];else throw F.getFormatInstance()}if(s.length()===0)throw F.getFormatInstance();let h=new cs(null,s.toString(),null,r);return h.setOther(d),h}static decodeMacroBlock(t,r,s){if(r+V.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw F.getFormatInstance();let o=new Int32Array(V.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<V.NUMBER_OF_SEQUENCE_CODEWORDS;d++,r++)o[d]=t[r];s.setSegmentIndex(_.parseInt(V.decodeBase900toBase10(o,V.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new Ee;r=V.textCompaction(t,r,l),s.setFileId(l.toString());let c=-1;for(t[r]===V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=r+1);r<t[0];)switch(t[r]){case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case V.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new Ee;r=V.textCompaction(t,r+1,d),s.setFileName(d.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new Ee;r=V.textCompaction(t,r+1,h),s.setSender(h.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new Ee;r=V.textCompaction(t,r+1,x),s.setAddressee(x.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let y=new Ee;r=V.numericCompaction(t,r+1,y),s.setSegmentCount(_.parseInt(y.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let v=new Ee;r=V.numericCompaction(t,r+1,v),s.setTimestamp(o1.parseLong(v.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new Ee;r=V.numericCompaction(t,r+1,I),s.setChecksum(_.parseInt(I.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let M=new Ee;r=V.numericCompaction(t,r+1,M),s.setFileSize(o1.parseLong(M.toString()));break;default:throw F.getFormatInstance()}break;case V.MACRO_PDF417_TERMINATOR:r++,s.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(c!==-1){let d=r-c;s.isLastSegment()&&d--,s.setOptionalData(O.copyOfRange(t,c,c+d))}return r}static textCompaction(t,r,s){let o=new Int32Array((t[0]-r)*2),l=new Int32Array((t[0]-r)*2),c=0,d=!1;for(;r<t[0]&&!d;){let h=t[r++];if(h<V.TEXT_COMPACTION_MODE_LATCH)o[c]=h/30,o[c+1]=h%30,c+=2;else switch(h){case V.TEXT_COMPACTION_MODE_LATCH:o[c++]=V.TEXT_COMPACTION_MODE_LATCH;break;case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:r--,d=!0;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[c]=V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=t[r++],l[c]=h,c++;break}}return V.decodeTextCompaction(o,l,c,s),r}static decodeTextCompaction(t,r,s,o){let l=Ue.ALPHA,c=Ue.ALPHA,d=0;for(;d<s;){let h=t[d],x="";switch(l){case Ue.ALPHA:if(h<26)x=String.fromCharCode(65+h);else switch(h){case 26:x=" ";break;case V.LL:l=Ue.LOWER;break;case V.ML:l=Ue.MIXED;break;case V.PS:c=l,l=Ue.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break;case Ue.LOWER:if(h<26)x=String.fromCharCode(97+h);else switch(h){case 26:x=" ";break;case V.AS:c=l,l=Ue.ALPHA_SHIFT;break;case V.ML:l=Ue.MIXED;break;case V.PS:c=l,l=Ue.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break;case Ue.MIXED:if(h<V.PL)x=V.MIXED_CHARS[h];else switch(h){case V.PL:l=Ue.PUNCT;break;case 26:x=" ";break;case V.LL:l=Ue.LOWER;break;case V.AL:l=Ue.ALPHA;break;case V.PS:c=l,l=Ue.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break;case Ue.PUNCT:if(h<V.PAL)x=V.PUNCT_CHARS[h];else switch(h){case V.PAL:l=Ue.ALPHA;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break;case Ue.ALPHA_SHIFT:if(l=c,h<26)x=String.fromCharCode(65+h);else switch(h){case 26:x=" ";break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break;case Ue.PUNCT_SHIFT:if(l=c,h<V.PAL)x=V.PUNCT_CHARS[h];else switch(h){case V.PAL:l=Ue.ALPHA;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break}x!==""&&o.append(x),d++}}static byteCompaction(t,r,s,o,l){let c=new og,d=0,h=0,x=!1;switch(t){case V.BYTE_COMPACTION_MODE_LATCH:let y=new Int32Array(6),v=r[o++];for(;o<r[0]&&!x;)switch(y[d++]=v,h=900*h+v,v=r[o++],v){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:o--,x=!0;break;default:if(d%5===0&&d>0){for(let I=0;I<6;++I)c.write(Number(Er(h)>>Er(8*(5-I))));h=0,d=0}break}o===r[0]&&v<V.TEXT_COMPACTION_MODE_LATCH&&(y[d++]=v);for(let I=0;I<d;I++)c.write(y[I]);break;case V.BYTE_COMPACTION_MODE_LATCH_6:for(;o<r[0]&&!x;){let I=r[o++];if(I<V.TEXT_COMPACTION_MODE_LATCH)d++,h=900*h+I;else switch(I){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:o--,x=!0;break}if(d%5===0&&d>0){for(let M=0;M<6;++M)c.write(Number(Er(h)>>Er(8*(5-M))));h=0,d=0}}break}return l.append(we.decode(c.toByteArray(),s)),o}static numericCompaction(t,r,s){let o=0,l=!1,c=new Int32Array(V.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!l;){let d=t[r++];if(r===t[0]&&(l=!0),d<V.TEXT_COMPACTION_MODE_LATCH)c[o]=d,o++;else switch(d){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:r--,l=!0;break}(o%V.MAX_NUMERIC_CODEWORDS===0||d===V.NUMERIC_COMPACTION_MODE_LATCH||l)&&o>0&&(s.append(V.decodeBase900toBase10(c,o)),o=0)}return r}static decodeBase900toBase10(t,r){let s=Er(0);for(let l=0;l<r;l++)s+=V.EXP900[r-l-1]*Er(t[l]);let o=s.toString();if(o.charAt(0)!=="1")throw new F;return o.substring(1)}}V.TEXT_COMPACTION_MODE_LATCH=900,V.BYTE_COMPACTION_MODE_LATCH=901,V.NUMERIC_COMPACTION_MODE_LATCH=902,V.BYTE_COMPACTION_MODE_LATCH_6=924,V.ECI_USER_DEFINED=925,V.ECI_GENERAL_PURPOSE=926,V.ECI_CHARSET=927,V.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,V.MACRO_PDF417_TERMINATOR=922,V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,V.MAX_NUMERIC_CODEWORDS=15,V.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,V.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,V.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,V.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,V.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,V.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,V.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,V.PL=25,V.LL=27,V.AS=27,V.ML=28,V.AL=28,V.PS=29,V.PAL=29,V.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,V.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",V.EXP900=l1()?ag():[],V.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ae{constructor(){}static decode(t,r,s,o,l,c,d){let h=new qr(t,r,s,o,l),x=null,y=null,v;for(let D=!0;;D=!1){if(r!=null&&(x=Ae.getRowIndicatorColumn(t,h,r,!0,c,d)),o!=null&&(y=Ae.getRowIndicatorColumn(t,h,o,!1,c,d)),v=Ae.merge(x,y),v==null)throw W.getNotFoundInstance();let b=v.getBoundingBox();if(D&&b!=null&&(b.getMinY()<h.getMinY()||b.getMaxY()>h.getMaxY()))h=b;else break}v.setBoundingBox(h);let I=v.getBarcodeColumnCount()+1;v.setDetectionResultColumn(0,x),v.setDetectionResultColumn(I,y);let M=x!=null;for(let D=1;D<=I;D++){let b=M?D:I-D;if(v.getDetectionResultColumn(b)!==void 0)continue;let j;b===0||b===I?j=new i1(h,b===0):j=new ps(h),v.setDetectionResultColumn(b,j);let H=-1,$=H;for(let ee=h.getMinY();ee<=h.getMaxY();ee++){if(H=Ae.getStartColumn(v,b,ee,M),H<0||H>h.getMaxX()){if($===-1)continue;H=$}let q=Ae.detectCodeword(t,h.getMinX(),h.getMaxX(),M,H,ee,c,d);q!=null&&(j.setCodeword(ee,q),$=H,c=Math.min(c,q.getWidth()),d=Math.max(d,q.getWidth()))}}return Ae.createDecoderResult(v)}static merge(t,r){if(t==null&&r==null)return null;let s=Ae.getBarcodeMetadata(t,r);if(s==null)return null;let o=qr.merge(Ae.adjustBoundingBox(t),Ae.adjustBoundingBox(r));return new ms(s,o)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let s=Ae.getMax(r),o=0;for(let d of r)if(o+=s-d,d>0)break;let l=t.getCodewords();for(let d=0;o>0&&l[d]==null;d++)o--;let c=0;for(let d=r.length-1;d>=0&&(c+=s-r[d],!(r[d]>0));d--);for(let d=l.length-1;c>0&&l[d]==null;d--)c--;return t.getBoundingBox().addMissingRows(o,c,t.isLeft())}static getMax(t){let r=-1;for(let s of t)r=Math.max(r,s);return r}static getBarcodeMetadata(t,r){let s;if(t==null||(s=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let o;return r==null||(o=r.getBarcodeMetadata())==null?s:s.getColumnCount()!==o.getColumnCount()&&s.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&s.getRowCount()!==o.getRowCount()?null:s}static getRowIndicatorColumn(t,r,s,o,l,c){let d=new i1(r,o);for(let h=0;h<2;h++){let x=h===0?1:-1,y=Math.trunc(Math.trunc(s.getX()));for(let v=Math.trunc(Math.trunc(s.getY()));v<=r.getMaxY()&&v>=r.getMinY();v+=x){let I=Ae.detectCodeword(t,0,t.getWidth(),o,y,v,l,c);I!=null&&(d.setCodeword(v,I),o?y=I.getStartX():y=I.getEndX())}}return d}static adjustCodewordCount(t,r){let s=r[0][1],o=s.getValue(),l=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Ae.getNumberOfECCodeWords(t.getBarcodeECLevel());if(o.length===0){if(l<1||l>me.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();s.setValue(l)}else o[0]!==l&&s.setValue(l)}static createDecoderResult(t){let r=Ae.createBarcodeMatrix(t);Ae.adjustCodewordCount(t,r);let s=new Array,o=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),l=[],c=new Array;for(let h=0;h<t.getBarcodeRowCount();h++)for(let x=0;x<t.getBarcodeColumnCount();x++){let y=r[h][x+1].getValue(),v=h*t.getBarcodeColumnCount()+x;y.length===0?s.push(v):y.length===1?o[v]=y[0]:(c.push(v),l.push(y))}let d=new Array(l.length);for(let h=0;h<d.length;h++)d[h]=l[h];return Ae.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),o,me.toIntArray(s),me.toIntArray(c),d)}static createDecoderResultFromAmbiguousValues(t,r,s,o,l){let c=new Int32Array(o.length),d=100;for(;d-- >0;){for(let h=0;h<c.length;h++)r[o[h]]=l[h][c[h]];try{return Ae.decodeCodewords(r,t,s)}catch(h){if(!(h instanceof L))throw h}if(c.length===0)throw L.getChecksumInstance();for(let h=0;h<c.length;h++)if(c[h]<l[h].length-1){c[h]++;break}else if(c[h]=0,h===c.length-1)throw L.getChecksumInstance()}throw L.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let o=0;o<r.length;o++)for(let l=0;l<r[o].length;l++)r[o][l]=new xs;let s=0;for(let o of t.getDetectionResultColumns()){if(o!=null){for(let l of o.getCodewords())if(l!=null){let c=l.getRowNumber();if(c>=0){if(c>=r.length)continue;r[c][s].setValue(l.getValue())}}}s++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,s,o){let l=o?1:-1,c=null;if(Ae.isValidBarcodeColumn(t,r-l)&&(c=t.getDetectionResultColumn(r-l).getCodeword(s)),c!=null)return o?c.getEndX():c.getStartX();if(c=t.getDetectionResultColumn(r).getCodewordNearby(s),c!=null)return o?c.getStartX():c.getEndX();if(Ae.isValidBarcodeColumn(t,r-l)&&(c=t.getDetectionResultColumn(r-l).getCodewordNearby(s)),c!=null)return o?c.getEndX():c.getStartX();let d=0;for(;Ae.isValidBarcodeColumn(t,r-l);){r-=l;for(let h of t.getDetectionResultColumn(r).getCodewords())if(h!=null)return(o?h.getEndX():h.getStartX())+l*d*(h.getEndX()-h.getStartX());d++}return o?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,s,o,l,c,d,h){l=Ae.adjustCodewordStartColumn(t,r,s,o,l,c);let x=Ae.getModuleBitCount(t,r,s,o,l,c);if(x==null)return null;let y,v=Ne.sum(x);if(o)y=l+v;else{for(let D=0;D<x.length/2;D++){let b=x[D];x[D]=x[x.length-1-D],x[x.length-1-D]=b}y=l,l=y-v}if(!Ae.checkCodewordSkew(v,d,h))return null;let I=qt.getDecodedValue(x),M=me.getCodeword(I);return M===-1?null:new ws(l,y,Ae.getCodewordBucketNumber(I),M)}static getModuleBitCount(t,r,s,o,l,c){let d=l,h=new Int32Array(8),x=0,y=o?1:-1,v=o;for(;(o?d<s:d>=r)&&x<h.length;)t.get(d,c)===v?(h[x]++,d+=y):(x++,v=!v);return x===h.length||d===(o?s:r)&&x===h.length-1?h:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,s,o,l,c){let d=l,h=o?-1:1;for(let x=0;x<2;x++){for(;(o?d>=r:d<s)&&o===t.get(d,c);){if(Math.abs(l-d)>Ae.CODEWORD_SKEW_SIZE)return l;d+=h}h=-h,o=!o}return d}static checkCodewordSkew(t,r,s){return r-Ae.CODEWORD_SKEW_SIZE<=t&&t<=s+Ae.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,s){if(t.length===0)throw F.getFormatInstance();let o=1<<r+1,l=Ae.correctErrors(t,s,o);Ae.verifyCodewordCount(t,o);let c=V.decode(t,""+r);return c.setErrorsCorrected(l),c.setErasures(s.length),c}static correctErrors(t,r,s){if(r!=null&&r.length>s/2+Ae.MAX_ERRORS||s<0||s>Ae.MAX_EC_CODEWORDS)throw L.getChecksumInstance();return Ae.errorCorrection.decode(t,s,r)}static verifyCodewordCount(t,r){if(t.length<4)throw F.getFormatInstance();let s=t[0];if(s>t.length)throw F.getFormatInstance();if(s===0)if(r<t.length)t[0]=t.length-r;else throw F.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),s=0,o=r.length-1;for(;!((t&1)!==s&&(s=t&1,o--,o<0));)r[o]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Ae.getCodewordBucketNumber(Ae.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new gs;for(let s=0;s<t.length;s++){r.format("Row %2d: ",s);for(let o=0;o<t[s].length;o++){let l=t[s][o];l.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}Ae.CODEWORD_SKEW_SIZE=2,Ae.MAX_ERRORS=3,Ae.MAX_EC_CODEWORDS=512,Ae.errorCorrection=new r1;class Ot{decode(t,r=null){let s=Ot.decode(t,r,!1);if(s==null||s.length===0||s[0]==null)throw W.getNotFoundInstance();return s[0]}decodeMultiple(t,r=null){try{return Ot.decode(t,r,!0)}catch(s){throw s instanceof F||s instanceof L?W.getNotFoundInstance():s}}static decode(t,r,s){const o=new Array,l=Ce.detectMultiple(t,r,s);for(const c of l.getPoints()){const d=Ae.decode(l.getBits(),c[4],c[5],c[6],c[7],Ot.getMinCodewordWidth(c),Ot.getMaxCodewordWidth(c)),h=new Le(d.getText(),d.getRawBytes(),void 0,c,le.PDF_417);h.putMetadata(vt.ERROR_CORRECTION_LEVEL,d.getECLevel());const x=d.getOther();x!=null&&h.putMetadata(vt.PDF417_EXTRA_METADATA,x),o.push(h)}return o.map(c=>c)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?_.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Ot.getMaxWidth(t[0],t[4]),Ot.getMaxWidth(t[6],t[2])*me.MODULES_IN_CODEWORD/me.MODULES_IN_STOP_PATTERN),Math.max(Ot.getMaxWidth(t[1],t[5]),Ot.getMaxWidth(t[7],t[3])*me.MODULES_IN_CODEWORD/me.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Ot.getMinWidth(t[0],t[4]),Ot.getMinWidth(t[6],t[2])*me.MODULES_IN_CODEWORD/me.MODULES_IN_STOP_PATTERN),Math.min(Ot.getMinWidth(t[1],t[5]),Ot.getMinWidth(t[7],t[3])*me.MODULES_IN_CODEWORD/me.MODULES_IN_STOP_PATTERN)))}reset(){}}class So extends g{}So.kind="ReaderException";class c1{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!a(t)&&t.get(Z.TRY_HARDER)===!0,s=a(t)?null:t.get(Z.POSSIBLE_FORMATS),o=new Array;if(!a(s)){const l=s.some(c=>c===le.UPC_A||c===le.UPC_E||c===le.EAN_13||c===le.EAN_8||c===le.CODABAR||c===le.CODE_39||c===le.CODE_93||c===le.CODE_128||c===le.ITF||c===le.RSS_14||c===le.RSS_EXPANDED);l&&!r&&o.push(new Ai(t,this.verbose)),s.includes(le.QR_CODE)&&o.push(new yr),s.includes(le.DATA_MATRIX)&&o.push(new wr),s.includes(le.AZTEC)&&o.push(new wo),s.includes(le.PDF_417)&&o.push(new Ot),l&&r&&o.push(new Ai(t,this.verbose))}o.length===0&&(r||o.push(new Ai(t,this.verbose)),o.push(new yr),o.push(new wr),o.push(new wo),o.push(new Ot),r&&o.push(new Ai(t,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new So("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(s){if(s instanceof So)continue}throw new W("No MultiFormat Readers were able to detect the code.")}}class lg extends Ke{constructor(t=null,r=500){const s=new c1;s.setHints(t),super(s,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class cg extends Ke{constructor(t=500){super(new Ot,t)}}class ug extends Ke{constructor(t=500){super(new yr,t)}}var cl;(function(A){A[A.ERROR_CORRECTION=0]="ERROR_CORRECTION",A[A.CHARACTER_SET=1]="CHARACTER_SET",A[A.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",A[A.MIN_SIZE=3]="MIN_SIZE",A[A.MAX_SIZE=4]="MAX_SIZE",A[A.MARGIN=5]="MARGIN",A[A.PDF417_COMPACT=6]="PDF417_COMPACT",A[A.PDF417_COMPACTION=7]="PDF417_COMPACTION",A[A.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",A[A.AZTEC_LAYERS=9]="AZTEC_LAYERS",A[A.QR_VERSION=10]="QR_VERSION"})(cl||(cl={}));var Et=cl;class ul{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new Qt(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let s=r[r.length-1];const o=this.field;for(let l=r.length;l<=t;l++){const c=s.multiply(new Qt(o,Int32Array.from([1,o.exp(l-1+o.getGeneratorBase())])));r.push(c),s=c}}return r[t]}encode(t,r){if(r===0)throw new C("No error correction bytes");const s=t.length-r;if(s<=0)throw new C("No data bytes provided");const o=this.buildGenerator(r),l=new Int32Array(s);B.arraycopy(t,0,l,0,s);let c=new Qt(this.field,l);c=c.multiplyByMonomial(r,1);const h=c.divide(o)[1].getCoefficients(),x=r-h.length;for(let y=0;y<x;y++)t[s+y]=0;B.arraycopy(h,0,t,s+x,h.length)}}class at{constructor(){}static applyMaskPenaltyRule1(t){return at.applyMaskPenaltyRule1Internal(t,!0)+at.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const s=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let c=0;c<l-1;c++){const d=s[c];for(let h=0;h<o-1;h++){const x=d[h];x===d[h+1]&&x===s[c+1][h]&&x===s[c+1][h+1]&&r++}}return at.N2*r}static applyMaskPenaltyRule3(t){let r=0;const s=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let c=0;c<l;c++)for(let d=0;d<o;d++){const h=s[c];d+6<o&&h[d]===1&&h[d+1]===0&&h[d+2]===1&&h[d+3]===1&&h[d+4]===1&&h[d+5]===0&&h[d+6]===1&&(at.isWhiteHorizontal(h,d-4,d)||at.isWhiteHorizontal(h,d+7,d+11))&&r++,c+6<l&&s[c][d]===1&&s[c+1][d]===0&&s[c+2][d]===1&&s[c+3][d]===1&&s[c+4][d]===1&&s[c+5][d]===0&&s[c+6][d]===1&&(at.isWhiteVertical(s,d,c-4,c)||at.isWhiteVertical(s,d,c+7,c+11))&&r++}return r*at.N3}static isWhiteHorizontal(t,r,s){r=Math.max(r,0),s=Math.min(s,t.length);for(let o=r;o<s;o++)if(t[o]===1)return!1;return!0}static isWhiteVertical(t,r,s,o){s=Math.max(s,0),o=Math.min(o,t.length);for(let l=s;l<o;l++)if(t[l][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const s=t.getArray(),o=t.getWidth(),l=t.getHeight();for(let h=0;h<l;h++){const x=s[h];for(let y=0;y<o;y++)x[y]===1&&r++}const c=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-c)*10/c)*at.N4}static getDataMaskBit(t,r,s){let o,l;switch(t){case 0:o=s+r&1;break;case 1:o=s&1;break;case 2:o=r%3;break;case 3:o=(s+r)%3;break;case 4:o=Math.floor(s/2)+Math.floor(r/3)&1;break;case 5:l=s*r,o=(l&1)+l%3;break;case 6:l=s*r,o=(l&1)+l%3&1;break;case 7:l=s*r,o=l%3+(s+r&1)&1;break;default:throw new C("Invalid mask pattern: "+t)}return o===0}static applyMaskPenaltyRule1Internal(t,r){let s=0;const o=r?t.getHeight():t.getWidth(),l=r?t.getWidth():t.getHeight(),c=t.getArray();for(let d=0;d<o;d++){let h=0,x=-1;for(let y=0;y<l;y++){const v=r?c[d][y]:c[y][d];v===x?h++:(h>=5&&(s+=at.N1+(h-5)),h=1,x=v)}h>=5&&(s+=at.N1+(h-5))}return s}}at.N1=3,at.N2=3,at.N3=40,at.N4=10;class Io{constructor(t,r){this.width=t,this.height=r;const s=new Array(r);for(let o=0;o!==r;o++)s[o]=new Uint8Array(t);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,s){this.bytes[r][t]=s}setBoolean(t,r,s){this.bytes[r][t]=s?1:0}clear(t){for(const r of this.bytes)O.fill(r,t)}equals(t){if(!(t instanceof Io))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let s=0,o=this.height;s<o;++s){const l=this.bytes[s],c=r.bytes[s];for(let d=0,h=this.width;d<h;++d)if(l[d]!==c[d])return!1}return!0}toString(){const t=new Ee;for(let r=0,s=this.height;r<s;++r){const o=this.bytes[r];for(let l=0,c=this.width;l<c;++l)switch(o[l]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Jr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Ee;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Jr.NUM_MASK_PATTERNS}}Jr.NUM_MASK_PATTERNS=8;class Ve extends g{}Ve.kind="WriterException";class xe{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,s,o,l){xe.clearMatrix(l),xe.embedBasicPatterns(s,l),xe.embedTypeInfo(r,o,l),xe.maybeEmbedVersionInfo(s,l),xe.embedDataBits(t,o,l)}static embedBasicPatterns(t,r){xe.embedPositionDetectionPatternsAndSeparators(r),xe.embedDarkDotAtLeftBottomCorner(r),xe.maybeEmbedPositionAdjustmentPatterns(t,r),xe.embedTimingPatterns(r)}static embedTypeInfo(t,r,s){const o=new P;xe.makeTypeInfoBits(t,r,o);for(let l=0,c=o.getSize();l<c;++l){const d=o.get(o.getSize()-1-l),h=xe.TYPE_INFO_COORDINATES[l],x=h[0],y=h[1];if(s.setBoolean(x,y,d),l<8){const v=s.getWidth()-l-1;s.setBoolean(v,8,d)}else{const I=s.getHeight()-7+(l-8);s.setBoolean(8,I,d)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const s=new P;xe.makeVersionInfoBits(t,s);let o=6*3-1;for(let l=0;l<6;++l)for(let c=0;c<3;++c){const d=s.get(o);o--,r.setBoolean(l,r.getHeight()-11+c,d),r.setBoolean(r.getHeight()-11+c,l,d)}}static embedDataBits(t,r,s){let o=0,l=-1,c=s.getWidth()-1,d=s.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);d>=0&&d<s.getHeight();){for(let h=0;h<2;++h){const x=c-h;if(!xe.isEmpty(s.get(x,d)))continue;let y;o<t.getSize()?(y=t.get(o),++o):y=!1,r!==255&&at.getDataMaskBit(r,x,d)&&(y=!y),s.setBoolean(x,d,y)}d+=l}l=-l,d+=l,c-=2}if(o!==t.getSize())throw new Ve("Not all bits consumed: "+o+"/"+t.getSize())}static findMSBSet(t){return 32-_.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new C("0 polynomial");const s=xe.findMSBSet(r);for(t<<=s-1;xe.findMSBSet(t)>=s;)t^=r<<xe.findMSBSet(t)-s;return t}static makeTypeInfoBits(t,r,s){if(!Jr.isValidMaskPattern(r))throw new Ve("Invalid mask pattern");const o=t.getBits()<<3|r;s.appendBits(o,5);const l=xe.calculateBCHCode(o,xe.TYPE_INFO_POLY);s.appendBits(l,10);const c=new P;if(c.appendBits(xe.TYPE_INFO_MASK_PATTERN,15),s.xor(c),s.getSize()!==15)throw new Ve("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const s=xe.calculateBCHCode(t.getVersionNumber(),xe.VERSION_INFO_POLY);if(r.appendBits(s,12),r.getSize()!==18)throw new Ve("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const s=(r+1)%2;xe.isEmpty(t.get(r,6))&&t.setNumber(r,6,s),xe.isEmpty(t.get(6,r))&&t.setNumber(6,r,s)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Ve;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,s){for(let o=0;o<8;++o){if(!xe.isEmpty(s.get(t+o,r)))throw new Ve;s.setNumber(t+o,r,0)}}static embedVerticalSeparationPattern(t,r,s){for(let o=0;o<7;++o){if(!xe.isEmpty(s.get(t,r+o)))throw new Ve;s.setNumber(t,r+o,0)}}static embedPositionAdjustmentPattern(t,r,s){for(let o=0;o<5;++o){const l=xe.POSITION_ADJUSTMENT_PATTERN[o];for(let c=0;c<5;++c)s.setNumber(t+c,r+o,l[c])}}static embedPositionDetectionPattern(t,r,s){for(let o=0;o<7;++o){const l=xe.POSITION_DETECTION_PATTERN[o];for(let c=0;c<7;++c)s.setNumber(t+c,r+o,l[c])}}static embedPositionDetectionPatternsAndSeparators(t){const r=xe.POSITION_DETECTION_PATTERN[0].length;xe.embedPositionDetectionPattern(0,0,t),xe.embedPositionDetectionPattern(t.getWidth()-r,0,t),xe.embedPositionDetectionPattern(0,t.getWidth()-r,t);const s=8;xe.embedHorizontalSeparationPattern(0,s-1,t),xe.embedHorizontalSeparationPattern(t.getWidth()-s,s-1,t),xe.embedHorizontalSeparationPattern(0,t.getWidth()-s,t);const o=7;xe.embedVerticalSeparationPattern(o,0,t),xe.embedVerticalSeparationPattern(t.getHeight()-o-1,0,t),xe.embedVerticalSeparationPattern(o,t.getHeight()-o,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const s=t.getVersionNumber()-1,o=xe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let l=0,c=o.length;l!==c;l++){const d=o[l];if(d>=0)for(let h=0;h!==c;h++){const x=o[h];x>=0&&xe.isEmpty(r.get(x,d))&&xe.embedPositionAdjustmentPattern(x-2,d-2,r)}}}}xe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),xe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),xe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),xe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),xe.VERSION_INFO_POLY=7973,xe.TYPE_INFO_POLY=1335,xe.TYPE_INFO_MASK_PATTERN=21522;class fg{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Xe{constructor(){}static calculateMaskPenalty(t){return at.applyMaskPenaltyRule1(t)+at.applyMaskPenaltyRule2(t)+at.applyMaskPenaltyRule3(t)+at.applyMaskPenaltyRule4(t)}static encode(t,r,s=null){let o=Xe.DEFAULT_BYTE_MODE_ENCODING;const l=s!==null&&s.get(Et.CHARACTER_SET)!==void 0;l&&(o=s.get(Et.CHARACTER_SET).toString());const c=this.chooseMode(t,o),d=new P;if(c===he.BYTE&&(l||Xe.DEFAULT_BYTE_MODE_ENCODING!==o)){const ee=Y.getCharacterSetECIByName(o);ee!==void 0&&this.appendECI(ee,d)}this.appendModeInfo(c,d);const h=new P;this.appendBytes(t,c,h,o);let x;if(s!==null&&s.get(Et.QR_VERSION)!==void 0){const ee=Number.parseInt(s.get(Et.QR_VERSION).toString(),10);x=de.getVersionForNumber(ee);const q=this.calculateBitsNeeded(c,d,h,x);if(!this.willFit(q,x,r))throw new Ve("Data too big for requested version")}else x=this.recommendVersion(r,c,d,h);const y=new P;y.appendBitArray(d);const v=c===he.BYTE?h.getSizeInBytes():t.length;this.appendLengthInfo(v,x,c,y),y.appendBitArray(h);const I=x.getECBlocksForLevel(r),M=x.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(M,y);const D=this.interleaveWithECBytes(y,x.getTotalCodewords(),M,I.getNumBlocks()),b=new Jr;b.setECLevel(r),b.setMode(c),b.setVersion(x);const j=x.getDimensionForVersion(),H=new Io(j,j),$=this.chooseMaskPattern(D,r,x,H);return b.setMaskPattern($),xe.buildMatrix(D,r,x,$,H),b.setMatrix(H),b}static recommendVersion(t,r,s,o){const l=this.calculateBitsNeeded(r,s,o,de.getVersionForNumber(1)),c=this.chooseVersion(l,t),d=this.calculateBitsNeeded(r,s,o,c);return this.chooseVersion(d,t)}static calculateBitsNeeded(t,r,s,o){return r.getSize()+t.getCharacterCountBits(o)+s.getSize()}static getAlphanumericCode(t){return t<Xe.ALPHANUMERIC_TABLE.length?Xe.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(Y.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return he.KANJI;let s=!1,o=!1;for(let l=0,c=t.length;l<c;++l){const d=t.charAt(l);if(Xe.isDigit(d))s=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)o=!0;else return he.BYTE}return o?he.ALPHANUMERIC:s?he.NUMERIC:he.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=we.encode(t,Y.SJIS)}catch{return!1}const s=r.length;if(s%2!==0)return!1;for(let o=0;o<s;o+=2){const l=r[o]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(t,r,s,o){let l=Number.MAX_SAFE_INTEGER,c=-1;for(let d=0;d<Jr.NUM_MASK_PATTERNS;d++){xe.buildMatrix(t,r,s,d,o);let h=this.calculateMaskPenalty(o);h<l&&(l=h,c=d)}return c}static chooseVersion(t,r){for(let s=1;s<=40;s++){const o=de.getVersionForNumber(s);if(Xe.willFit(t,o,r))return o}throw new Ve("Data too big")}static willFit(t,r,s){const o=r.getTotalCodewords(),c=r.getECBlocksForLevel(s).getTotalECCodewords(),d=o-c,h=(t+7)/8;return d>=h}static terminateBits(t,r){const s=t*8;if(r.getSize()>s)throw new Ve("data bits cannot fit in the QR Code"+r.getSize()+" > "+s);for(let c=0;c<4&&r.getSize()<s;++c)r.appendBit(!1);const o=r.getSize()&7;if(o>0)for(let c=o;c<8;c++)r.appendBit(!1);const l=t-r.getSizeInBytes();for(let c=0;c<l;++c)r.appendBits(c&1?17:236,8);if(r.getSize()!==s)throw new Ve("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,s,o,l,c){if(o>=s)throw new Ve("Block ID too large");const d=t%s,h=s-d,x=Math.floor(t/s),y=x+1,v=Math.floor(r/s),I=v+1,M=x-v,D=y-I;if(M!==D)throw new Ve("EC bytes mismatch");if(s!==h+d)throw new Ve("RS blocks mismatch");if(t!==(v+M)*h+(I+D)*d)throw new Ve("Total bytes mismatch");o<h?(l[0]=v,c[0]=M):(l[0]=I,c[0]=D)}static interleaveWithECBytes(t,r,s,o){if(t.getSizeInBytes()!==s)throw new Ve("Number of bits and data bytes does not match");let l=0,c=0,d=0;const h=new Array;for(let y=0;y<o;++y){const v=new Int32Array(1),I=new Int32Array(1);Xe.getNumDataBytesAndNumECBytesForBlockID(r,s,o,y,v,I);const M=v[0],D=new Uint8Array(M);t.toBytes(8*l,D,0,M);const b=Xe.generateECBytes(D,I[0]);h.push(new fg(D,b)),c=Math.max(c,M),d=Math.max(d,b.length),l+=v[0]}if(s!==l)throw new Ve("Data bytes does not match offset");const x=new P;for(let y=0;y<c;++y)for(const v of h){const I=v.getDataBytes();y<I.length&&x.appendBits(I[y],8)}for(let y=0;y<d;++y)for(const v of h){const I=v.getErrorCorrectionBytes();y<I.length&&x.appendBits(I[y],8)}if(r!==x.getSizeInBytes())throw new Ve("Interleaving error: "+r+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(t,r){const s=t.length,o=new Int32Array(s+r);for(let c=0;c<s;c++)o[c]=t[c]&255;new ul(Oe.QR_CODE_FIELD_256).encode(o,r);const l=new Uint8Array(r);for(let c=0;c<r;c++)l[c]=o[s+c];return l}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,s,o){const l=s.getCharacterCountBits(r);if(t>=1<<l)throw new Ve(t+" is bigger than "+((1<<l)-1));o.appendBits(t,l)}static appendBytes(t,r,s,o){switch(r){case he.NUMERIC:Xe.appendNumericBytes(t,s);break;case he.ALPHANUMERIC:Xe.appendAlphanumericBytes(t,s);break;case he.BYTE:Xe.append8BitBytes(t,s,o);break;case he.KANJI:Xe.appendKanjiBytes(t,s);break;default:throw new Ve("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=Xe.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const s=t.length;let o=0;for(;o<s;){const l=Xe.getDigit(t.charAt(o));if(o+2<s){const c=Xe.getDigit(t.charAt(o+1)),d=Xe.getDigit(t.charAt(o+2));r.appendBits(l*100+c*10+d,10),o+=3}else if(o+1<s){const c=Xe.getDigit(t.charAt(o+1));r.appendBits(l*10+c,7),o+=2}else r.appendBits(l,4),o++}}static appendAlphanumericBytes(t,r){const s=t.length;let o=0;for(;o<s;){const l=Xe.getAlphanumericCode(t.charCodeAt(o));if(l===-1)throw new Ve;if(o+1<s){const c=Xe.getAlphanumericCode(t.charCodeAt(o+1));if(c===-1)throw new Ve;r.appendBits(l*45+c,11),o+=2}else r.appendBits(l,6),o++}}static append8BitBytes(t,r,s){let o;try{o=we.encode(t,s)}catch(l){throw new Ve(l)}for(let l=0,c=o.length;l!==c;l++){const d=o[l];r.appendBits(d,8)}}static appendKanjiBytes(t,r){let s;try{s=we.encode(t,Y.SJIS)}catch(l){throw new Ve(l)}const o=s.length;for(let l=0;l<o;l+=2){const c=s[l]&255,d=s[l+1]&255,h=c<<8&4294967295|d;let x=-1;if(h>=33088&&h<=40956?x=h-33088:h>=57408&&h<=60351&&(x=h-49472),x===-1)throw new Ve("Invalid byte sequence");const y=(x>>8)*192+(x&255);r.appendBits(y,13)}}static appendECI(t,r){r.appendBits(he.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}Xe.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Xe.DEFAULT_BYTE_MODE_ENCODING=Y.UTF8.getName();class $r{write(t,r,s,o=null){if(t.length===0)throw new C("Found empty contents");if(r<0||s<0)throw new C("Requested dimensions are too small: "+r+"x"+s);let l=Ge.L,c=$r.QUIET_ZONE_SIZE;o!==null&&(o.get(Et.ERROR_CORRECTION)!==void 0&&(l=Ge.fromString(o.get(Et.ERROR_CORRECTION).toString())),o.get(Et.MARGIN)!==void 0&&(c=Number.parseInt(o.get(Et.MARGIN).toString(),10)));const d=Xe.encode(t,l,o);return this.renderResult(d,r,s,c)}writeToDom(t,r,s,o,l=null){typeof t=="string"&&(t=document.querySelector(t));const c=this.write(r,s,o,l);t&&t.appendChild(c)}renderResult(t,r,s,o){const l=t.getMatrix();if(l===null)throw new zn;const c=l.getWidth(),d=l.getHeight(),h=c+o*2,x=d+o*2,y=Math.max(r,h),v=Math.max(s,x),I=Math.min(Math.floor(y/h),Math.floor(v/x)),M=Math.floor((y-c*I)/2),D=Math.floor((v-d*I)/2),b=this.createSVGElement(y,v);for(let j=0,H=D;j<d;j++,H+=I)for(let $=0,ee=M;$<c;$++,ee+=I)if(l.get($,j)===1){const q=this.createSvgRectElement(ee,H,I,I);b.appendChild(q)}return b}createSVGElement(t,r){const s=document.createElementNS($r.SVG_NS,"svg");return s.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width",r.toString()),s}createSvgRectElement(t,r,s,o){const l=document.createElementNS($r.SVG_NS,"rect");return l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",o.toString()),l.setAttributeNS(null,"fill","#000000"),l}}$r.QUIET_ZONE_SIZE=4,$r.SVG_NS="http://www.w3.org/2000/svg";class Si{encode(t,r,s,o,l){if(t.length===0)throw new C("Found empty contents");if(r!==le.QR_CODE)throw new C("Can only encode QR_CODE, but got "+r);if(s<0||o<0)throw new C(`Requested dimensions are too small: ${s}x${o}`);let c=Ge.L,d=Si.QUIET_ZONE_SIZE;l!==null&&(l.get(Et.ERROR_CORRECTION)!==void 0&&(c=Ge.fromString(l.get(Et.ERROR_CORRECTION).toString())),l.get(Et.MARGIN)!==void 0&&(d=Number.parseInt(l.get(Et.MARGIN).toString(),10)));const h=Xe.encode(t,c,l);return Si.renderResult(h,s,o,d)}static renderResult(t,r,s,o){const l=t.getMatrix();if(l===null)throw new zn;const c=l.getWidth(),d=l.getHeight(),h=c+o*2,x=d+o*2,y=Math.max(r,h),v=Math.max(s,x),I=Math.min(Math.floor(y/h),Math.floor(v/x)),M=Math.floor((y-c*I)/2),D=Math.floor((v-d*I)/2),b=new be(y,v);for(let j=0,H=D;j<d;j++,H+=I)for(let $=0,ee=M;$<c;$++,ee+=I)l.get($,j)===1&&b.setRegion(ee,H,I,I);return b}}Si.QUIET_ZONE_SIZE=4;class dg{encode(t,r,s,o,l){let c;switch(r){case le.QR_CODE:c=new Si;break;default:throw new C("No encoder available for format "+r)}return c.encode(t,r,s,o,l)}}class Gn extends re{constructor(t,r,s,o,l,c,d,h){if(super(c,d),this.yuvData=t,this.dataWidth=r,this.dataHeight=s,this.left=o,this.top=l,o+c>r||l+d>s)throw new C("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(c,d)}getRow(t,r){if(t<0||t>=this.getHeight())throw new C("Requested row is outside the image: "+t);const s=this.getWidth();(r==null||r.length<s)&&(r=new Uint8ClampedArray(s));const o=(t+this.top)*this.dataWidth+this.left;return B.arraycopy(this.yuvData,o,r,0,s),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const s=t*r,o=new Uint8ClampedArray(s);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return B.arraycopy(this.yuvData,l,o,0,s),o;for(let c=0;c<r;c++){const d=c*t;B.arraycopy(this.yuvData,l,o,d,t),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,s,o){return new Gn(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,s,o,!1)}renderThumbnail(){const t=this.getWidth()/Gn.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Gn.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(t*r),o=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let c=0;c<r;c++){const d=c*t;for(let h=0;h<t;h++){const x=o[l+h*Gn.THUMBNAIL_SCALE_FACTOR]&255;s[d+h]=4278190080|x*65793}l+=this.dataWidth*Gn.THUMBNAIL_SCALE_FACTOR}return s}getThumbnailWidth(){return this.getWidth()/Gn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Gn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const s=this.yuvData;for(let o=0,l=this.top*this.dataWidth+this.left;o<r;o++,l+=this.dataWidth){const c=l+t/2;for(let d=l,h=l+t-1;d<c;d++,h--){const x=s[d];s[d]=s[h],s[h]=x}}}invert(){return new fe(this)}}Gn.THUMBNAIL_SCALE_FACTOR=2;class fl extends re{constructor(t,r,s,o,l,c,d){if(super(r,s),this.dataWidth=o,this.dataHeight=l,this.left=c,this.top=d,t.BYTES_PER_ELEMENT===4){const h=r*s,x=new Uint8ClampedArray(h);for(let y=0;y<h;y++){const v=t[y],I=v>>16&255,M=v>>7&510,D=v&255;x[y]=(I+M+D)/4&255}this.luminances=x}else this.luminances=t;if(o===void 0&&(this.dataWidth=r),l===void 0&&(this.dataHeight=s),c===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+s>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new C("Requested row is outside the image: "+t);const s=this.getWidth();(r==null||r.length<s)&&(r=new Uint8ClampedArray(s));const o=(t+this.top)*this.dataWidth+this.left;return B.arraycopy(this.luminances,o,r,0,s),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const s=t*r,o=new Uint8ClampedArray(s);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return B.arraycopy(this.luminances,l,o,0,s),o;for(let c=0;c<r;c++){const d=c*t;B.arraycopy(this.luminances,l,o,d,t),l+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,s,o){return new fl(this.luminances,s,o,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new fe(this)}}class u1 extends Y{static forName(t){return this.getCharacterSetECIByName(t)}}class dl{}dl.ISO_8859_1=Y.ISO8859_1;class f1{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class d1{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class hg{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Ii extends hg{constructor(t,r,s){super(t),this.value=r,this.bitCount=s}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new Ii(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ii(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+_.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class hl extends Ii{constructor(t,r,s){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=s}appendTo(t,r){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):s===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+s],8)}addBinaryShift(t,r){return new hl(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function gg(A,t,r){return new hl(A,t,r)}function ys(A,t,r){return new Ii(A,t,r)}const pg=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Cr=0,To=1,En=2,h1=3,Yn=4,xg=new Ii(null,0,0),gl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function mg(A){for(let t of A)O.fill(t,-1);return A[Cr][Yn]=0,A[To][Yn]=0,A[To][Cr]=28,A[h1][Yn]=0,A[En][Yn]=0,A[En][Cr]=15,A}const g1=mg(O.createInt32Array(6,6));class Xn{constructor(t,r,s,o){this.token=t,this.mode=r,this.binaryShiftByteCount=s,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let s=this.bitCount,o=this.token;if(t!==this.mode){let c=gl[this.mode][t];o=ys(o,c&65535,c>>16),s+=c>>16}let l=t===En?4:5;return o=ys(o,r,l),new Xn(o,t,0,s+l)}shiftAndAppend(t,r){let s=this.token,o=this.mode===En?4:5;return s=ys(s,g1[this.mode][t],o),s=ys(s,r,5),new Xn(s,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(t){let r=this.token,s=this.mode,o=this.bitCount;if(this.mode===Yn||this.mode===En){let d=gl[s][Cr];r=ys(r,d&65535,d>>16),o+=d>>16,s=Cr}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new Xn(r,s,this.binaryShiftByteCount+1,o+l);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(t+1)),c}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=gg(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Xn(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(gl[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=Xn.calculateBinaryShiftCost(t)-Xn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let o=this.endBinaryShift(t.length).token;o!==null;o=o.getPrevious())r.unshift(o);let s=new P;for(const o of r)o.appendTo(s,t);return s}toString(){return ue.format("%s bits=%d bytes=%d",pg[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Xn.INITIAL_STATE=new Xn(xg,Cr,0,0);function wg(A){const t=ue.getCharCode(" "),r=ue.getCharCode("."),s=ue.getCharCode(",");A[Cr][t]=1;const o=ue.getCharCode("Z"),l=ue.getCharCode("A");for(let I=l;I<=o;I++)A[Cr][I]=I-l+2;A[To][t]=1;const c=ue.getCharCode("z"),d=ue.getCharCode("a");for(let I=d;I<=c;I++)A[To][I]=I-d+2;A[En][t]=1;const h=ue.getCharCode("9"),x=ue.getCharCode("0");for(let I=x;I<=h;I++)A[En][I]=I-x+2;A[En][s]=12,A[En][r]=13;const y=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<y.length;I++)A[h1][ue.getCharCode(y[I])]=I;const v=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<v.length;I++)ue.getCharCode(v[I])>0&&(A[Yn][ue.getCharCode(v[I])]=I);return A}const pl=wg(O.createInt32Array(5,256));class Es{constructor(t){this.text=t}encode(){const t=ue.getCharCode(" "),r=ue.getCharCode(`
`);let s=d1.singletonList(Xn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let c,d=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case ue.getCharCode("\r"):c=d===r?2:0;break;case ue.getCharCode("."):c=d===t?3:0;break;case ue.getCharCode(","):c=d===t?4:0;break;case ue.getCharCode(":"):c=d===t?5:0;break;default:c=0}c>0?(s=Es.updateStateListForPair(s,l,c),l++):s=this.updateStateListForChar(s,l)}return d1.min(s,(l,c)=>l.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const s=[];for(let o of t)this.updateStateForChar(o,r,s);return Es.simplifyStates(s)}updateStateForChar(t,r,s){let o=this.text[r]&255,l=pl[t.getMode()][o]>0,c=null;for(let d=0;d<=Yn;d++){let h=pl[d][o];if(h>0){if(c==null&&(c=t.endBinaryShift(r)),!l||d===t.getMode()||d===En){const x=c.latchAndAppend(d,h);s.push(x)}if(!l&&g1[t.getMode()][d]>=0){const x=c.shiftAndAppend(d,h);s.push(x)}}}if(t.getBinaryShiftByteCount()>0||pl[t.getMode()][o]===0){let d=t.addBinaryShiftChar(r);s.push(d)}}static updateStateListForPair(t,r,s){const o=[];for(let l of t)this.updateStateForPair(l,r,s,o);return this.simplifyStates(o)}static updateStateForPair(t,r,s,o){let l=t.endBinaryShift(r);if(o.push(l.latchAndAppend(Yn,s)),t.getMode()!==Yn&&o.push(l.shiftAndAppend(Yn,s)),s===3||s===4){let c=l.latchAndAppend(En,16-s).latchAndAppend(En,1);o.push(c)}if(t.getBinaryShiftByteCount()>0){let c=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);o.push(c)}}static simplifyStates(t){let r=[];for(const s of t){let o=!0;for(const l of r){if(l.isBetterThanOrEqualTo(s)){o=!1;break}s.isBetterThanOrEqualTo(l)&&(r=r.filter(c=>c!==l))}o&&r.push(s)}return r}}class _e{constructor(){}static encodeBytes(t){return _e.encode(t,_e.DEFAULT_EC_PERCENT,_e.DEFAULT_AZTEC_LAYERS)}static encode(t,r,s){let o=new Es(t).encode(),l=_.truncDivision(o.getSize()*r,100)+11,c=o.getSize()+l,d,h,x,y,v;if(s!==_e.DEFAULT_AZTEC_LAYERS){if(d=s<0,h=Math.abs(s),h>(d?_e.MAX_NB_BITS_COMPACT:_e.MAX_NB_BITS))throw new C(ue.format("Illegal value %s for layers",s));x=_e.totalBitsInLayer(h,d),y=_e.WORD_SIZE[h];let q=x-x%y;if(v=_e.stuffBits(o,y),v.getSize()+l>q)throw new C("Data to large for user specified layer");if(d&&v.getSize()>y*64)throw new C("Data to large for user specified layer")}else{y=0,v=null;for(let q=0;;q++){if(q>_e.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(d=q<=3,h=d?q+1:q,x=_e.totalBitsInLayer(h,d),c>x)continue;(v==null||y!==_e.WORD_SIZE[h])&&(y=_e.WORD_SIZE[h],v=_e.stuffBits(o,y));let Ie=x-x%y;if(!(d&&v.getSize()>y*64)&&v.getSize()+l<=Ie)break}}let I=_e.generateCheckWords(v,x,y),M=v.getSize()/y,D=_e.generateModeMessage(d,h,M),b=(d?11:14)+h*4,j=new Int32Array(b),H;if(d){H=b;for(let q=0;q<j.length;q++)j[q]=q}else{H=b+1+2*_.truncDivision(_.truncDivision(b,2)-1,15);let q=_.truncDivision(b,2),Ie=_.truncDivision(H,2);for(let ye=0;ye<q;ye++){let Jt=ye+_.truncDivision(ye,15);j[q-ye-1]=Ie-Jt-1,j[q+ye]=Ie+Jt+1}}let $=new be(H);for(let q=0,Ie=0;q<h;q++){let ye=(h-q)*4+(d?9:12);for(let Jt=0;Jt<ye;Jt++){let Rn=Jt*2;for(let $t=0;$t<2;$t++)I.get(Ie+Rn+$t)&&$.set(j[q*2+$t],j[q*2+Jt]),I.get(Ie+ye*2+Rn+$t)&&$.set(j[q*2+Jt],j[b-1-q*2-$t]),I.get(Ie+ye*4+Rn+$t)&&$.set(j[b-1-q*2-$t],j[b-1-q*2-Jt]),I.get(Ie+ye*6+Rn+$t)&&$.set(j[b-1-q*2-Jt],j[q*2+$t])}Ie+=ye*8}if(_e.drawModeMessage($,d,H,D),d)_e.drawBullsEye($,_.truncDivision(H,2),5);else{_e.drawBullsEye($,_.truncDivision(H,2),7);for(let q=0,Ie=0;q<_.truncDivision(b,2)-1;q+=15,Ie+=16)for(let ye=_.truncDivision(H,2)&1;ye<H;ye+=2)$.set(_.truncDivision(H,2)-Ie,ye),$.set(_.truncDivision(H,2)+Ie,ye),$.set(ye,_.truncDivision(H,2)-Ie),$.set(ye,_.truncDivision(H,2)+Ie)}let ee=new f1;return ee.setCompact(d),ee.setSize(H),ee.setLayers(h),ee.setCodeWords(M),ee.setMatrix($),ee}static drawBullsEye(t,r,s){for(let o=0;o<s;o+=2)for(let l=r-o;l<=r+o;l++)t.set(l,r-o),t.set(l,r+o),t.set(r-o,l),t.set(r+o,l);t.set(r-s,r-s),t.set(r-s+1,r-s),t.set(r-s,r-s+1),t.set(r+s,r-s),t.set(r+s,r-s+1),t.set(r+s,r+s-1)}static generateModeMessage(t,r,s){let o=new P;return t?(o.appendBits(r-1,2),o.appendBits(s-1,6),o=_e.generateCheckWords(o,28,4)):(o.appendBits(r-1,5),o.appendBits(s-1,11),o=_e.generateCheckWords(o,40,4)),o}static drawModeMessage(t,r,s,o){let l=_.truncDivision(s,2);if(r)for(let c=0;c<7;c++){let d=l-3+c;o.get(c)&&t.set(d,l-5),o.get(c+7)&&t.set(l+5,d),o.get(20-c)&&t.set(d,l+5),o.get(27-c)&&t.set(l-5,d)}else for(let c=0;c<10;c++){let d=l-5+c+_.truncDivision(c,5);o.get(c)&&t.set(d,l-7),o.get(c+10)&&t.set(l+7,d),o.get(29-c)&&t.set(d,l+7),o.get(39-c)&&t.set(l-7,d)}}static generateCheckWords(t,r,s){let o=t.getSize()/s,l=new ul(_e.getGF(s)),c=_.truncDivision(r,s),d=_e.bitsToWords(t,s,c);l.encode(d,c-o);let h=r%s,x=new P;x.appendBits(0,h);for(const y of Array.from(d))x.appendBits(y,s);return x}static bitsToWords(t,r,s){let o=new Int32Array(s),l,c;for(l=0,c=t.getSize()/r;l<c;l++){let d=0;for(let h=0;h<r;h++)d|=t.get(l*r+h)?1<<r-h-1:0;o[l]=d}return o}static getGF(t){switch(t){case 4:return Oe.AZTEC_PARAM;case 6:return Oe.AZTEC_DATA_6;case 8:return Oe.AZTEC_DATA_8;case 10:return Oe.AZTEC_DATA_10;case 12:return Oe.AZTEC_DATA_12;default:throw new C("Unsupported word size "+t)}}static stuffBits(t,r){let s=new P,o=t.getSize(),l=(1<<r)-2;for(let c=0;c<o;c+=r){let d=0;for(let h=0;h<r;h++)(c+h>=o||t.get(c+h))&&(d|=1<<r-1-h);(d&l)===l?(s.appendBits(d&l,r),c--):d&l?s.appendBits(d,r):(s.appendBits(d|1,r),c--)}return s}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}_e.DEFAULT_EC_PERCENT=33,_e.DEFAULT_AZTEC_LAYERS=0,_e.MAX_NB_BITS=32,_e.MAX_NB_BITS_COMPACT=4,_e.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class No{encode(t,r,s,o){return this.encodeWithHints(t,r,s,o,null)}encodeWithHints(t,r,s,o,l){let c=dl.ISO_8859_1,d=_e.DEFAULT_EC_PERCENT,h=_e.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(Et.CHARACTER_SET)&&(c=u1.forName(l.get(Et.CHARACTER_SET).toString())),l.has(Et.ERROR_CORRECTION)&&(d=_.parseInt(l.get(Et.ERROR_CORRECTION).toString())),l.has(Et.AZTEC_LAYERS)&&(h=_.parseInt(l.get(Et.AZTEC_LAYERS).toString()))),No.encodeLayers(t,r,s,o,c,d,h)}static encodeLayers(t,r,s,o,l,c,d){if(r!==le.AZTEC)throw new C("Can only encode AZTEC, but got "+r);let h=_e.encode(ue.getBytes(t,l),c,d);return No.renderResult(h,s,o)}static renderResult(t,r,s){let o=t.getMatrix();if(o==null)throw new zn;let l=o.getWidth(),c=o.getHeight(),d=Math.max(r,l),h=Math.max(s,c),x=Math.min(d/l,h/c),y=(d-l*x)/2,v=(h-c*x)/2,I=new be(d,h);for(let M=0,D=v;M<c;M++,D+=x)for(let b=0,j=y;b<l;b++,j+=x)o.get(b,M)&&I.setRegion(j,D,x,x);return I}}i.AbstractExpandedDecoder=el,i.ArgumentException=E,i.ArithmeticException=po,i.AztecCode=f1,i.AztecCodeReader=wo,i.AztecCodeWriter=No,i.AztecDecoder=We,i.AztecDetector=qu,i.AztecDetectorResult=Zu,i.AztecEncoder=_e,i.AztecHighLevelEncoder=Es,i.AztecPoint=zt,i.BarcodeFormat=le,i.Binarizer=k,i.BinaryBitmap=T,i.BitArray=P,i.BitMatrix=be,i.BitSource=il,i.BrowserAztecCodeReader=Wh,i.BrowserBarcodeReader=Zh,i.BrowserCodeReader=Ke,i.BrowserDatamatrixCodeReader=qh,i.BrowserMultiFormatReader=lg,i.BrowserPDF417Reader=cg,i.BrowserQRCodeReader=ug,i.BrowserQRCodeSvgWriter=$r,i.CharacterSetECI=Y,i.ChecksumException=L,i.Code128Reader=ne,i.Code39Reader=wt,i.DataMatrixDecodedBitStreamParser=mr,i.DataMatrixReader=wr,i.DecodeHintType=Z,i.DecoderResult=cs,i.DefaultGridSampler=Ku,i.DetectorResult=mo,i.EAN13Reader=Qr,i.EncodeHintType=Et,i.Exception=g,i.FormatException=F,i.GenericGF=Oe,i.GenericGFPoly=Qt,i.GlobalHistogramBinarizer=Fe,i.GridSampler=Ka,i.GridSamplerInstance=pr,i.HTMLCanvasElementLuminanceSource=pe,i.HybridBinarizer=ge,i.ITFReader=ze,i.IllegalArgumentException=C,i.IllegalStateException=zn,i.InvertedLuminanceSource=fe,i.LuminanceSource=re,i.MathUtils=Ne,i.MultiFormatOneDReader=Ai,i.MultiFormatReader=c1,i.MultiFormatWriter=dg,i.NotFoundException=W,i.OneDReader=pt,i.PDF417DecodedBitStreamParser=V,i.PDF417DecoderErrorCorrection=r1,i.PDF417Reader=Ot,i.PDF417ResultMetadata=s1,i.PerspectiveTransform=Mn,i.PlanarYUVLuminanceSource=Gn,i.QRCodeByteMatrix=Io,i.QRCodeDataMask=wn,i.QRCodeDecodedBitStreamParser=$e,i.QRCodeDecoderErrorCorrectionLevel=Ge,i.QRCodeDecoderFormatInformation=Pt,i.QRCodeEncoder=Xe,i.QRCodeEncoderQRCode=Jr,i.QRCodeMaskUtil=at,i.QRCodeMatrixUtil=xe,i.QRCodeMode=he,i.QRCodeReader=yr,i.QRCodeVersion=de,i.QRCodeWriter=Si,i.RGBLuminanceSource=fl,i.RSS14Reader=ot,i.RSSExpandedReader=K,i.ReaderException=So,i.ReedSolomonDecoder=fs,i.ReedSolomonEncoder=ul,i.ReedSolomonException=wi,i.Result=Le,i.ResultMetadataType=vt,i.ResultPoint=ce,i.StringUtils=ue,i.UnsupportedOperationException=ae,i.VideoInputDevice=je,i.WhiteRectangleDetector=er,i.WriterException=Ve,i.ZXingArrays=O,i.ZXingCharset=u1,i.ZXingInteger=_,i.ZXingStandardCharsets=dl,i.ZXingStringBuilder=Ee,i.ZXingStringEncoding=we,i.ZXingSystem=B,i.createAbstractExpandedDecoder=t1,Object.defineProperty(i,"__esModule",{value:!0})})})(Yc,Yc.exports);var et=Yc.exports;const Vm=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var Vf=function(){function e(n,i,a){if(this.formatMap=new Map([[se.QR_CODE,et.BarcodeFormat.QR_CODE],[se.AZTEC,et.BarcodeFormat.AZTEC],[se.CODABAR,et.BarcodeFormat.CODABAR],[se.CODE_39,et.BarcodeFormat.CODE_39],[se.CODE_93,et.BarcodeFormat.CODE_93],[se.CODE_128,et.BarcodeFormat.CODE_128],[se.DATA_MATRIX,et.BarcodeFormat.DATA_MATRIX],[se.MAXICODE,et.BarcodeFormat.MAXICODE],[se.ITF,et.BarcodeFormat.ITF],[se.EAN_13,et.BarcodeFormat.EAN_13],[se.EAN_8,et.BarcodeFormat.EAN_8],[se.PDF_417,et.BarcodeFormat.PDF_417],[se.RSS_14,et.BarcodeFormat.RSS_14],[se.RSS_EXPANDED,et.BarcodeFormat.RSS_EXPANDED],[se.UPC_A,et.BarcodeFormat.UPC_A],[se.UPC_E,et.BarcodeFormat.UPC_E],[se.UPC_EAN_EXTENSION,et.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Vm)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=i,this.logger=a;var u=this.createZXingFormats(n),f=new Map;f.set(et.DecodeHintType.POSSIBLE_FORMATS,u),f.set(et.DecodeHintType.TRY_HARDER,!1),this.hints=f}return e.prototype.decodeAsync=function(n){var i=this;return new Promise(function(a,u){try{a(i.decode(n))}catch(f){u(f)}})},e.prototype.decode=function(n){var i=new et.MultiFormatReader(this.verbose,this.hints),a=new et.HTMLCanvasElementLuminanceSource(n),u=new et.BinaryBitmap(new et.HybridBinarizer(a)),f=i.decode(u);return{text:f.text,format:Bh.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(i,a,u){n.set(i,a)}),n},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createZXingFormats=function(n){for(var i=[],a=0,u=n;a<u.length;a++){var f=u[a];this.formatMap.has(f)?i.push(this.formatMap.get(f)):this.logger.logError("".concat(f," is not supported by")+"ZXingHtml5QrcodeShim")}return i},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Hm=function(e,n,i,a){function u(f){return f instanceof i?f:new i(function(p){p(f)})}return new(i||(i=Promise))(function(f,p){function w(E){try{g(a.next(E))}catch(C){p(C)}}function m(E){try{g(a.throw(E))}catch(C){p(C)}}function g(E){E.done?f(E.value):u(E.value).then(w,m)}g((a=a.apply(e,n||[])).next())})},Wm=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(g){return function(E){return m([g,E])}}function m(g){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,g[0]&&(i=0)),i;)try{if(a=1,u&&(f=g[0]&2?u.return:g[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,g[1])).done)return f;switch(u=0,f&&(g=[g[0]&2,f.value]),g[0]){case 0:case 1:f=g;break;case 4:return i.label++,{value:g[1],done:!1};case 5:i.label++,u=g[1],g=[0];continue;case 7:g=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(g[0]===6||g[0]===2)){i=0;continue}if(g[0]===3&&(!f||g[1]>f[0]&&g[1]<f[3])){i.label=g[1];break}if(g[0]===6&&i.label<f[1]){i.label=f[1],f=g;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(g);break}f[2]&&i.ops.pop(),i.trys.pop();continue}g=n.call(e,i)}catch(E){g=[6,E],u=0}finally{a=f=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Hf=function(){function e(n,i,a){if(this.formatMap=new Map([[se.QR_CODE,"qr_code"],[se.AZTEC,"aztec"],[se.CODABAR,"codabar"],[se.CODE_39,"code_39"],[se.CODE_93,"code_93"],[se.CODE_128,"code_128"],[se.DATA_MATRIX,"data_matrix"],[se.ITF,"itf"],[se.EAN_13,"ean_13"],[se.EAN_8,"ean_8"],[se.PDF_417,"pdf417"],[se.UPC_A,"upc_a"],[se.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=a;var u=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(u),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},e.prototype.decodeAsync=function(n){return Hm(this,void 0,void 0,function(){var i,a;return Wm(this,function(u){switch(u.label){case 0:return[4,this.detector.detect(n)];case 1:if(i=u.sent(),!i||i.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(i),[2,{text:a.rawValue,format:Bh.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(n){for(var i=null,a=0,u=0,f=n;u<f.length;u++){var p=f[u],w=p.boundingBox.width*p.boundingBox.height;w>a&&(a=w,i=p)}if(!i)throw"No largest barcode found";return i},e.prototype.createBarcodeDetectorFormats=function(n){for(var i=[],a=0,u=n;a<u.length;a++){var f=u[a];this.formatMap.has(f)?i.push(this.formatMap.get(f)):this.logger.warn("".concat(f," is not supported by")+"BarcodeDetectorDelegate")}return{formats:i}},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(i,a,u){n.set(i,a)}),n},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Wf=function(e,n,i,a){function u(f){return f instanceof i?f:new i(function(p){p(f)})}return new(i||(i=Promise))(function(f,p){function w(E){try{g(a.next(E))}catch(C){p(C)}}function m(E){try{g(a.throw(E))}catch(C){p(C)}}function g(E){E.done?f(E.value):u(E.value).then(w,m)}g((a=a.apply(e,n||[])).next())})},Gf=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(g){return function(E){return m([g,E])}}function m(g){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,g[0]&&(i=0)),i;)try{if(a=1,u&&(f=g[0]&2?u.return:g[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,g[1])).done)return f;switch(u=0,f&&(g=[g[0]&2,f.value]),g[0]){case 0:case 1:f=g;break;case 4:return i.label++,{value:g[1],done:!1};case 5:i.label++,u=g[1],g=[0];continue;case 7:g=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(g[0]===6||g[0]===2)){i=0;continue}if(g[0]===3&&(!f||g[1]>f[0]&&g[1]<f[3])){i.label=g[1];break}if(g[0]===6&&i.label<f[1]){i.label=f[1],f=g;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(g);break}f[2]&&i.ops.pop(),i.trys.pop();continue}g=n.call(e,i)}catch(E){g=[6,E],u=0}finally{a=f=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Gm=function(){function e(n,i,a,u){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,i&&Hf.isSupported()?(this.primaryDecoder=new Hf(n,a,u),this.secondaryDecoder=new Vf(n,a,u)):this.primaryDecoder=new Vf(n,a,u)}return e.prototype.decodeAsync=function(n){return Wf(this,void 0,void 0,function(){var i;return Gf(this,function(a){switch(a.label){case 0:i=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(i),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(n){return Wf(this,void 0,void 0,function(){var i,a;return Gf(this,function(u){switch(u.label){case 0:i=performance.now(),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,u.sent()];case 3:if(a=u.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw a;case 4:return this.possiblyLogPerformance(i),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(n){if(this.verbose){var i=performance.now()-n;this.executionResults.push(i),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,i=0,a=this.executionResults;i<a.length;i++){var u=a[i];n+=u}var f=n/this.executionResults.length;console.log("".concat(f," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Xu=function(){var e=function(n,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(a[f]=u[f])},e(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),Oa=function(e,n,i,a){function u(f){return f instanceof i?f:new i(function(p){p(f)})}return new(i||(i=Promise))(function(f,p){function w(E){try{g(a.next(E))}catch(C){p(C)}}function m(E){try{g(a.throw(E))}catch(C){p(C)}}function g(E){E.done?f(E.value):u(E.value).then(w,m)}g((a=a.apply(e,n||[])).next())})},Ra=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(g){return function(E){return m([g,E])}}function m(g){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,g[0]&&(i=0)),i;)try{if(a=1,u&&(f=g[0]&2?u.return:g[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,g[1])).done)return f;switch(u=0,f&&(g=[g[0]&2,f.value]),g[0]){case 0:case 1:f=g;break;case 4:return i.label++,{value:g[1],done:!1};case 5:i.label++,u=g[1],g=[0];continue;case 7:g=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(g[0]===6||g[0]===2)){i=0;continue}if(g[0]===3&&(!f||g[1]>f[0]&&g[1]<f[3])){i.label=g[1];break}if(g[0]===6&&i.label<f[1]){i.label=f[1],f=g;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(g);break}f[2]&&i.ops.pop(),i.trys.pop();continue}g=n.call(e,i)}catch(E){g=[6,E],u=0}finally{a=f=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},zh=function(){function e(n,i){this.name=n,this.track=i}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(n){var i={};i[this.name]=n;var a={advanced:[i]};return this.track.applyConstraints(a)},e.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var i=n[this.name];return i}return null},e}(),Ym=function(e){Xu(n,e);function n(i,a){return e.call(this,i,a)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(i){var a={};a[this.name]=i;var u={advanced:[a]};return this.track.applyConstraints(u)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var i=this.track.getCapabilities(),a=i[this.name];return{min:a.min,max:a.max,step:a.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}(zh),Xm=function(e){Xu(n,e);function n(i){return e.call(this,"zoom",i)||this}return n}(Ym),Qm=function(e){Xu(n,e);function n(i){return e.call(this,"torch",i)||this}return n}(zh),Zm=function(){function e(n){this.track=n}return e.prototype.zoomFeature=function(){return new Xm(this.track)},e.prototype.torchFeature=function(){return new Qm(this.track)},e}(),Km=function(){function e(n,i,a){this.isClosed=!1,this.parentElement=n,this.mediaStream=i,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return e.prototype.createVideoElement=function(n){var i=document.createElement("video");return i.style.width="".concat(n,"px"),i.style.display="block",i.muted=!0,i.setAttribute("muted","true"),i.playsInline=!0,i},e.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var i=function(){var a=n.surface.clientWidth,u=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(a,u),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(n,i,a,u){return Oa(this,void 0,void 0,function(){var f,p;return Ra(this,function(w){switch(w.label){case 0:return f=new e(n,i,u),a.aspectRatio?(p={aspectRatio:a.aspectRatio},[4,f.getFirstTrackOrFail().applyConstraints(p)]):[3,2];case 1:w.sent(),w.label=2;case 2:return f.setupSurface(),[2,f]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(n){this.failIfClosed();var i=this,a=function(){setTimeout(n,200),i.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(n){return Oa(this,void 0,void 0,function(){return Ra(this,function(i){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(i,a){var u=n.mediaStream.getVideoTracks(),f=u.length,p=0;n.mediaStream.getVideoTracks().forEach(function(w){n.mediaStream.removeTrack(w),w.stop(),++p,p>=f&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),i())})})},e.prototype.getCapabilities=function(){return new Zm(this.getFirstTrackOrFail())},e}(),qm=function(){function e(n){this.mediaStream=n}return e.prototype.render=function(n,i,a){return Oa(this,void 0,void 0,function(){return Ra(this,function(u){return[2,Km.create(n,this.mediaStream,i,a)]})})},e.create=function(n){return Oa(this,void 0,void 0,function(){var i,a;return Ra(this,function(u){switch(u.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return a=u.sent(),[2,new e(a)]}})})},e}(),Yf=function(e,n,i,a){function u(f){return f instanceof i?f:new i(function(p){p(f)})}return new(i||(i=Promise))(function(f,p){function w(E){try{g(a.next(E))}catch(C){p(C)}}function m(E){try{g(a.throw(E))}catch(C){p(C)}}function g(E){E.done?f(E.value):u(E.value).then(w,m)}g((a=a.apply(e,n||[])).next())})},Xf=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(g){return function(E){return m([g,E])}}function m(g){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,g[0]&&(i=0)),i;)try{if(a=1,u&&(f=g[0]&2?u.return:g[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,g[1])).done)return f;switch(u=0,f&&(g=[g[0]&2,f.value]),g[0]){case 0:case 1:f=g;break;case 4:return i.label++,{value:g[1],done:!1};case 5:i.label++,u=g[1],g=[0];continue;case 7:g=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(g[0]===6||g[0]===2)){i=0;continue}if(g[0]===3&&(!f||g[1]>f[0]&&g[1]<f[3])){i.label=g[1];break}if(g[0]===6&&i.label<f[1]){i.label=f[1],f=g;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(g);break}f[2]&&i.ops.pop(),i.trys.pop();continue}g=n.call(e,i)}catch(E){g=[6,E],u=0}finally{a=f=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Jm=function(){function e(){}return e.failIfNotSupported=function(){return Yf(this,void 0,void 0,function(){return Xf(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(n){return Yf(this,void 0,void 0,function(){return Xf(this,function(i){return[2,qm.create(n)]})})},e}(),$m=function(e,n,i,a){function u(f){return f instanceof i?f:new i(function(p){p(f)})}return new(i||(i=Promise))(function(f,p){function w(E){try{g(a.next(E))}catch(C){p(C)}}function m(E){try{g(a.throw(E))}catch(C){p(C)}}function g(E){E.done?f(E.value):u(E.value).then(w,m)}g((a=a.apply(e,n||[])).next())})},ew=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(g){return function(E){return m([g,E])}}function m(g){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,g[0]&&(i=0)),i;)try{if(a=1,u&&(f=g[0]&2?u.return:g[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,g[1])).done)return f;switch(u=0,f&&(g=[g[0]&2,f.value]),g[0]){case 0:case 1:f=g;break;case 4:return i.label++,{value:g[1],done:!1};case 5:i.label++,u=g[1],g=[0];continue;case 7:g=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(g[0]===6||g[0]===2)){i=0;continue}if(g[0]===3&&(!f||g[1]>f[0]&&g[1]<f[3])){i.label=g[1];break}if(g[0]===6&&i.label<f[1]){i.label=f[1],f=g;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(g);break}f[2]&&i.ops.pop(),i.trys.pop();continue}g=n.call(e,i)}catch(E){g=[6,E],u=0}finally{a=f=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},tw=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var n=Vi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(n=Vi.insecureContextCameraQueryError()),Promise.reject(n)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},e.getCamerasFromMediaDevices=function(){return $m(this,void 0,void 0,function(){var n,i,a,u,f,p,w;return ew(this,function(m){switch(m.label){case 0:return n=function(g){for(var E=g.getVideoTracks(),C=0,T=E;C<T.length;C++){var L=T[C];L.enabled=!1,L.stop(),g.removeTrack(L)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return i=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=m.sent(),u=[],f=0,p=a;f<p.length;f++)w=p[f],w.kind==="videoinput"&&u.push({id:w.deviceId,label:w.label});return n(i),[2,u]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,i){var a=function(f){for(var p=[],w=0,m=f;w<m.length;w++){var g=m[w];g.kind==="video"&&p.push({id:g.id,label:g.label})}n(p)},u=MediaStreamTrack;u.getSources(a)})},e}(),ct;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(ct||(ct={}));var nw=function(){function e(){this.state=ct.NOT_STARTED,this.onGoingTransactionNewState=ct.UNKNOWN}return e.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},e.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===ct.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ct.UNKNOWN,this.directTransition(n)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===ct.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ct.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ct.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(n){switch(this.state){case ct.UNKNOWN:throw"Transition from unknown is not allowed";case ct.NOT_STARTED:this.failIfNewStateIs(n,[ct.PAUSED]);break;case ct.SCANNING:break;case ct.PAUSED:break}},e.prototype.failIfNewStateIs=function(n,i){for(var a=0,u=i;a<u.length;a++){var f=u[a];if(n===f)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},e}(),rw=function(){function e(n){this.stateManager=n}return e.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},e.prototype.directTransition=function(n){this.stateManager.directTransition(n)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===ct.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==ct.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ct.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===ct.PAUSED},e}(),iw=function(){function e(){}return e.create=function(){return new rw(new nw)},e}(),sw=function(){var e=function(n,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(a[f]=u[f])},e(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}}(),an=function(e){sw(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(kn),ow=function(){function e(n,i){this.logger=i,this.fps=an.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=an.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Uh.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Kn(this.qrbox)},e.create=function(n,i){return new e(n,i)},e}(),Qf=function(){function e(n,i){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var a;typeof i=="boolean"?this.verbose=i===!0:i&&(a=i,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new jh(this.verbose),this.qrcode=new Gm(this.getSupportedFormats(i),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=iw.create()}return e.prototype.start=function(n,i,a,u){var f=this;if(!n)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var p;u?p=u:p=this.verbose?this.logger.log:function(){};var w=ow.create(i,this.logger);this.clearElement();var m=!1;w.videoConstraints&&(w.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var g=m,E=document.getElementById(this.elementId);E.clientWidth?E.clientWidth:an.DEFAULT_WIDTH,E.style.position="relative",this.shouldScan=!0,this.element=E;var C=this,T=this.stateManagerProxy.startTransition(ct.SCANNING);return new Promise(function(L,k){var B=g?w.videoConstraints:C.createVideoConstraints(n);if(!B){T.cancel(),k("videoConstraints should be defined");return}var z={};(!g||w.aspectRatio)&&(z.aspectRatio=w.aspectRatio);var R={onRenderSurfaceReady:function(O,_){C.setupUi(O,_,w),C.isScanning=!0,C.foreverScan(w,a,p)}};Jm.failIfNotSupported().then(function(O){O.create(B).then(function(_){return _.render(f.element,z,R).then(function(P){C.renderedCamera=P,T.execute(),L(null)}).catch(function(P){T.cancel(),k(P)})}).catch(function(_){T.cancel(),k(Vi.errorGettingUserMedia(_))})}).catch(function(O){T.cancel(),k(Vi.cameraStreamingNotSupported())})})},e.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ct.PAUSED),this.showPausedState(),(Kn(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,i=function(){n.stateManagerProxy.directTransition(ct.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){i();return}this.renderedCamera.resume(function(){i()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var i=this.stateManagerProxy.startTransition(ct.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(n.element){var f=document.getElementById(an.SHADED_REGION_ELEMENT_ID);f&&n.element.removeChild(f)}},u=this;return this.renderedCamera.close().then(function(){return u.renderedCamera=null,u.element&&(u.element.removeChild(u.canvasElement),u.canvasElement=null),a(),u.qrRegion&&(u.qrRegion=null),u.context&&(u.context=null),i.execute(),u.hidePausedState(),u.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(n,i){return this.scanFileV2(n,i).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(n,i){var a=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Kn(i)&&(i=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(u,f){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(n);var p=new Image;p.onload=function(){var w=p.width,m=p.height,g=document.getElementById(a.elementId),E=g.clientWidth?g.clientWidth:an.DEFAULT_WIDTH,C=Math.max(g.clientHeight?g.clientHeight:m,an.FILE_SCAN_MIN_HEIGHT),T=a.computeCanvasDrawConfig(w,m,E,C);if(i){var L=a.createCanvasElement(E,C,"qr-canvas-visible");L.style.display="inline-block",g.appendChild(L);var k=L.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=E,k.canvas.height=C,k.drawImage(p,0,0,w,m,T.x,T.y,T.width,T.height)}var B=an.FILE_SCAN_HIDDEN_CANVAS_PADDING,z=Math.max(p.width,T.width),R=Math.max(p.height,T.height),O=z+2*B,_=R+2*B,P=a.createCanvasElement(O,_);g.appendChild(P);var Q=P.getContext("2d");if(!Q)throw"Unable to get 2d context from canvas";Q.canvas.width=O,Q.canvas.height=_,Q.drawImage(p,0,0,w,m,B,B,z,R);try{a.qrcode.decodeRobustlyAsync(P).then(function(Z){u(Uf.createFromQrcodeResult(Z))}).catch(f)}catch(Z){f("QR code parse error, error = ".concat(Z))}},p.onerror=f,p.onabort=f,p.onstalled=f,p.onsuspend=f,p.src=URL.createObjectURL(n)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return tw.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(n){if(n){if(!Uh.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(n){var i=[se.QR_CODE,se.AZTEC,se.CODABAR,se.CODE_39,se.CODE_93,se.CODE_128,se.DATA_MATRIX,se.MAXICODE,se.ITF,se.EAN_13,se.EAN_8,se.PDF_417,se.RSS_14,se.RSS_EXPANDED,se.UPC_A,se.UPC_E,se.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return i;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],u=0,f=n.formatsToSupport;u<f.length;u++){var p=f[u];Um(p)?a.push(p):this.logger.warn("Invalid format: ".concat(p," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(n){if(Kn(n))return!0;if(!Kn(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(Kn(n.experimentalFeatures))return!0;var i=n.experimentalFeatures;return Kn(i.useBarCodeDetectorIfSupported)?!0:i.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(n,i,a){var u=this,f=a.qrbox;this.validateQrboxConfig(f);var p=this.toQrdimensions(n,i,f),w=function(g){if(g<an.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(an.MIN_QR_BOX_SIZE,"px.")},m=function(g){return g>n&&(u.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),g=n),g};w(p.width),w(p.height),p.width=m(p.width)},e.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(n,i,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(n,i)}catch(u){throw new Error("qrbox config was passed as a function but it failed with unknown error"+u)}return a},e.prototype.setupUi=function(n,i,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(n,i,a);var u=Kn(a.qrbox)?{width:n,height:i}:a.qrbox;this.validateQrboxConfig(u);var f=this.toQrdimensions(n,i,u);f.height>i&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var p=a.isShadedBoxEnabled()&&f.height<=i,w={x:0,y:0,width:n,height:i},m=p?this.getShadedRegionBounds(n,i,f):w,g=this.createCanvasElement(m.width,m.height),E={willReadFrequently:!0},C=g.getContext("2d",E);C.canvas.width=m.width,C.canvas.height=m.height,this.element.append(g),p&&this.possiblyInsertShadingElement(this.element,n,i,f),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=C,this.canvasElement=g},e.prototype.createScannerPausedUiElement=function(n){var i=document.createElement("div");i.innerText=Vi.scannerPaused(),i.style.display="none",i.style.position="absolute",i.style.top="0px",i.style.zIndex="1",i.style.background="rgba(9, 9, 9, 0.46)",i.style.color="#FFECEC",i.style.textAlign="center",i.style.width="100%",n.appendChild(i),this.scannerPausedUiElement=i},e.prototype.scanContext=function(n,i){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(u){return n(u.text,Uf.createFromQrcodeResult(u)),a.possiblyUpdateShaders(!0),!0}).catch(function(u){a.possiblyUpdateShaders(!1);var f=Vi.codeParseError(u);return i(f,Fh.createFrom(f)),!1})},e.prototype.foreverScan=function(n,i,a){var u=this;if(this.shouldScan&&this.renderedCamera){var f=this.renderedCamera.getSurface(),p=f.videoWidth/f.clientWidth,w=f.videoHeight/f.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*p,g=this.qrRegion.height*w,E=this.qrRegion.x*p,C=this.qrRegion.y*w;this.context.drawImage(f,E,C,m,g,0,0,this.qrRegion.width,this.qrRegion.height);var T=function(){u.foreverScanTimeout=setTimeout(function(){u.foreverScan(n,i,a)},u.getTimeoutFps(n.fps))};this.scanContext(i,a).then(function(L){!L&&n.disableFlip!==!0?(u.context.translate(u.context.canvas.width,0),u.context.scale(-1,1),u.scanContext(i,a).finally(function(){T()})):T()}).catch(function(L){u.logger.logError("Error happend while scanning context",L),T()})}},e.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var i="facingMode",a="deviceId",u={user:!0,environment:!0},f="exact",p=function(k){if(k in u)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(k,"'")},w=Object.keys(n);if(w.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(w.length," keys");var m=Object.keys(n)[0];if(m!==i&&m!==a)throw"Only '".concat(i,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(m===i){var g=n.facingMode;if(typeof g=="string"){if(p(g))return{facingMode:g}}else if(typeof g=="object")if(f in g){if(p(g["".concat(f)]))return{facingMode:{exact:g["".concat(f)]}}}else throw"'facingMode' should be string or object with"+" ".concat(f," as key.");else{var E=typeof g;throw"Invalid type of 'facingMode' = ".concat(E)}}else{var C=n.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(f in C)return{deviceId:{exact:C["".concat(f)]}};throw"'deviceId' should be string or object with"+" ".concat(f," as key.")}else{var T=typeof C;throw"Invalid type of 'deviceId' = ".concat(T)}}}var L=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(L)},e.prototype.computeCanvasDrawConfig=function(n,i,a,u){if(n<=a&&i<=u){var f=(a-n)/2,p=(u-i)/2;return{x:f,y:p,width:n,height:i}}else{var w=n,m=i;return n>a&&(i=a/n*i,n=a),i>u&&(n=u/i*n,i=u),this.logger.log("Image downsampled from "+"".concat(w,"X").concat(m)+" to ".concat(n,"X").concat(i,".")),this.computeCanvasDrawConfig(n,i,a,u)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},e.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(i){i.style.backgroundColor=n?an.BORDER_SHADER_MATCH_COLOR:an.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(n,i,a){var u=n,f=i,p=document.createElement("canvas");return p.style.width="".concat(u,"px"),p.style.height="".concat(f,"px"),p.style.display="none",p.id=Kn(a)?"qr-canvas":a,p},e.prototype.getShadedRegionBounds=function(n,i,a){if(a.width>n||a.height>i)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-a.width)/2,y:(i-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(n,i,a,u){if(!(i-u.width<1||a-u.height<1)){var f=document.createElement("div");f.style.position="absolute";var p=(i-u.width)/2,w=(a-u.height)/2;if(f.style.borderLeft="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderRight="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderTop="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderBottom="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),f.style.boxSizing="border-box",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.id="".concat(an.SHADED_REGION_ELEMENT_ID),i-u.width<11||a-u.height<11)this.hasBorderShaders=!1;else{var m=5,g=40;this.insertShaderBorders(f,g,m,-m,null,0,!0),this.insertShaderBorders(f,g,m,-m,null,0,!1),this.insertShaderBorders(f,g,m,null,-m,0,!0),this.insertShaderBorders(f,g,m,null,-m,0,!1),this.insertShaderBorders(f,m,g+m,-m,null,-m,!0),this.insertShaderBorders(f,m,g+m,null,-m,-m,!0),this.insertShaderBorders(f,m,g+m,-m,null,-m,!1),this.insertShaderBorders(f,m,g+m,null,-m,-m,!1),this.hasBorderShaders=!0}n.append(f)}},e.prototype.insertShaderBorders=function(n,i,a,u,f,p,w){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=an.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(i,"px"),m.style.height="".concat(a,"px"),u!==null&&(m.style.top="".concat(u,"px")),f!==null&&(m.style.bottom="".concat(f,"px")),w?m.style.left="".concat(p,"px"):m.style.right="".concat(p,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),n.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(n){return 1e3/n},e}(),Qu="data:image/svg+xml;base64,",aw=Qu+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",lw=Qu+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Zf=Qu+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",cw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Kf=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),uw=function(){function e(){this.data=Kf.createDefault();var n=localStorage.getItem(e.LOCAL_STORAGE_KEY);n?this.data=JSON.parse(n):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(n){this.data.hasPermission=n,this.flush()},e.prototype.setLastUsedCameraId=function(n){this.data.lastUsedCameraId=n,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Kf.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),fw=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(n){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=zf.poweredBy();var i=document.createElement("a");i.innerText="ScanApp",i.href="https://scanapp.org",i.target="new",i.style.color="white",this.infoDiv.appendChild(i);var a=document.createElement("br"),u=document.createElement("br");this.infoDiv.appendChild(a),this.infoDiv.appendChild(u);var f=document.createElement("a");f.innerText=zf.reportIssues(),f.href="https://github.com/mebjas/html5-qrcode/issues",f.target="new",f.style.color="white",this.infoDiv.appendChild(f),n.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),dw=function(){function e(n,i){this.isShowingInfoIcon=!0,this.onTapIn=n,this.onTapOut=i,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(n){var i=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Zf,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(a){return i.onHoverIn()},this.infoIcon.onmouseout=function(a){return i.onHoverOut()},this.infoIcon.onclick=function(a){return i.onClick()},n.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=cw,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Zf,this.infoIcon.style.opacity="0.6")},e}(),hw=function(){function e(){var n=this;this.infoDiv=new fw,this.infoIcon=new dw(function(){n.infoDiv.show()},function(){n.infoDiv.hide()})}return e.prototype.renderInto=function(n){this.infoDiv.renderInto(n),this.infoIcon.renderInto(n)},e}(),gw=function(e,n,i,a){function u(f){return f instanceof i?f:new i(function(p){p(f)})}return new(i||(i=Promise))(function(f,p){function w(E){try{g(a.next(E))}catch(C){p(C)}}function m(E){try{g(a.throw(E))}catch(C){p(C)}}function g(E){E.done?f(E.value):u(E.value).then(w,m)}g((a=a.apply(e,n||[])).next())})},pw=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(g){return function(E){return m([g,E])}}function m(g){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,g[0]&&(i=0)),i;)try{if(a=1,u&&(f=g[0]&2?u.return:g[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,g[1])).done)return f;switch(u=0,f&&(g=[g[0]&2,f.value]),g[0]){case 0:case 1:f=g;break;case 4:return i.label++,{value:g[1],done:!1};case 5:i.label++,u=g[1],g=[0];continue;case 7:g=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(g[0]===6||g[0]===2)){i=0;continue}if(g[0]===3&&(!f||g[1]>f[0]&&g[1]<f[3])){i.label=g[1];break}if(g[0]===6&&i.label<f[1]){i.label=f[1],f=g;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(g);break}f[2]&&i.ops.pop(),i.trys.pop();continue}g=n.call(e,i)}catch(E){g=[6,E],u=0}finally{a=f=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},qf=function(){function e(){}return e.hasPermissions=function(){return gw(this,void 0,void 0,function(){var n,i,a,u;return pw(this,function(f){switch(f.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(n=f.sent(),i=0,a=n;i<a.length;i++)if(u=a[i],u.kind==="videoinput"&&u.label)return[2,!0];return[2,!1]}})})},e}(),vr=function(){function e(n){this.supportedScanTypes=this.validateAndReturnScanTypes(n)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var n=0,i=this.supportedScanTypes;n<i.length;n++){var a=i[n];if(e.isCameraScanType(a))return!0}return!1},e.isCameraScanType=function(n){return n===Hr.SCAN_TYPE_CAMERA},e.isFileScanType=function(n){return n===Hr.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(n){if(!n||n.length===0)return kn.DEFAULT_SUPPORTED_SCAN_TYPE;var i=kn.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(n.length>i)throw"Max ".concat(i," values expected for ")+"supportedScanTypes";for(var a=0,u=n;a<u.length;a++){var f=u[a];if(!kn.DEFAULT_SUPPORTED_SCAN_TYPE.includes(f))throw"Unsupported scan type ".concat(f)}return n},e}(),un=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),sr=function(){function e(){}return e.createElement=function(n,i){var a=document.createElement(n);return a.id=i,a.classList.add(un.ALL_ELEMENT_CLASS),n==="button"&&a.setAttribute("type","button"),a},e}(),Vh=function(e,n,i,a){function u(f){return f instanceof i?f:new i(function(p){p(f)})}return new(i||(i=Promise))(function(f,p){function w(E){try{g(a.next(E))}catch(C){p(C)}}function m(E){try{g(a.throw(E))}catch(C){p(C)}}function g(E){E.done?f(E.value):u(E.value).then(w,m)}g((a=a.apply(e,n||[])).next())})},Hh=function(e,n){var i={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,u,f,p;return p={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function w(g){return function(E){return m([g,E])}}function m(g){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,g[0]&&(i=0)),i;)try{if(a=1,u&&(f=g[0]&2?u.return:g[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,g[1])).done)return f;switch(u=0,f&&(g=[g[0]&2,f.value]),g[0]){case 0:case 1:f=g;break;case 4:return i.label++,{value:g[1],done:!1};case 5:i.label++,u=g[1],g=[0];continue;case 7:g=i.ops.pop(),i.trys.pop();continue;default:if(f=i.trys,!(f=f.length>0&&f[f.length-1])&&(g[0]===6||g[0]===2)){i=0;continue}if(g[0]===3&&(!f||g[1]>f[0]&&g[1]<f[3])){i.label=g[1];break}if(g[0]===6&&i.label<f[1]){i.label=f[1],f=g;break}if(f&&i.label<f[2]){i.label=f[2],i.ops.push(g);break}f[2]&&i.ops.pop(),i.trys.pop();continue}g=n.call(e,i)}catch(E){g=[6,E],u=0}finally{a=f=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Jf=function(){function e(n,i,a){this.isTorchOn=!1,this.torchCapability=n,this.buttonController=i,this.onTorchActionFailureCallback=a}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Vh(this,void 0,void 0,function(){var n,i;return Hh(this,function(a){switch(a.label){case 0:this.buttonController.disable(),n=!this.isTorchOn,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.torchCapability.apply(n)];case 2:return a.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),n),[3,4];case 3:return i=a.sent(),this.propagateFailure(n,i),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(n,i){n===i?(this.buttonController.setText(i?Pe.torchOffButton():Pe.torchOnButton()),this.isTorchOn=i):this.propagateFailure(i),this.buttonController.enable()},e.prototype.propagateFailure=function(n,i){var a=n?Pe.torchOnFailedMessage():Pe.torchOffFailedMessage();i&&(a+="; Error = "+i),this.onTorchActionFailureCallback(a)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),xw=function(){function e(n,i){this.onTorchActionFailureCallback=i,this.torchButton=sr.createElement("button",un.TORCH_BUTTON_ID),this.torchController=new Jf(n,this,i)}return e.prototype.render=function(n,i){var a=this;this.torchButton.innerText=Pe.torchOnButton(),this.torchButton.style.display=i.display,this.torchButton.style.marginLeft=i.marginLeft;var u=this;this.torchButton.addEventListener("click",function(f){return Vh(a,void 0,void 0,function(){return Hh(this,function(p){switch(p.label){case 0:return[4,u.torchController.flipState()];case 1:return p.sent(),u.torchController.isTorchEnabled()?(u.torchButton.classList.remove(un.TORCH_BUTTON_CLASS_TORCH_OFF),u.torchButton.classList.add(un.TORCH_BUTTON_CLASS_TORCH_ON)):(u.torchButton.classList.remove(un.TORCH_BUTTON_CLASS_TORCH_ON),u.torchButton.classList.add(un.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),n.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(n){this.torchController=new Jf(n,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(n){this.torchButton.innerText=n},e.prototype.reset=function(){this.torchButton.innerText=Pe.torchOnButton(),this.torchController.reset()},e.create=function(n,i,a,u){var f=new e(i,u);return f.render(n,a),f},e}(),mw=function(){function e(n,i,a){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=i?"block":"none",n.appendChild(this.fileBasedScanRegion);var u=document.createElement("label");u.setAttribute("for",this.getFileScanInputId()),u.style.display="inline-block",this.fileBasedScanRegion.appendChild(u),this.fileSelectionButton=sr.createElement("button",un.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(w){u.click()}),u.append(this.fileSelectionButton),this.fileScanInput=sr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",u.appendChild(this.fileScanInput);var f=this;this.fileScanInput.addEventListener("change",function(w){if(!(w==null||w.target==null)){var m=w.target;if(!(m.files&&m.files.length===0)){var g=m.files,E=g[0],C=E.name;f.setImageNameToButton(C),a(E)}}});var p=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(p),this.fileBasedScanRegion.addEventListener("dragenter",function(w){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(w){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(w){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(w){w.stopPropagation(),w.preventDefault(),f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder();var m=w.dataTransfer;if(m){var g=m.files;if(!g||g.length===0)return;for(var E=!1,C=0;C<g.length;++C){var T=g.item(C);if(T){var L=/image.*/;if(T.type.match(L)){E=!0;var k=T.name;f.setImageNameToButton(k),a(T),p.innerText=Pe.dragAndDropMessage();break}}}E||(p.innerText=Pe.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var n=document.createElement("div");return n.style.textAlign="center",n.style.margin="auto",n.style.width="80%",n.style.maxWidth="600px",n.style.border=this.fileBasedScanRegionDefaultBorder(),n.style.padding="10px",n.style.marginBottom="10px",n},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var n=document.createElement("div");return n.innerText=Pe.dragAndDropMessage(),n.style.fontWeight="400",n},e.prototype.setImageNameToButton=function(n){var i=20;if(n.length>i){var a=n.substring(0,8),u=n.length,f=n.substring(u-8,u);n="".concat(a,"....").concat(f)}var p=Pe.fileSelectionChooseAnother()+" - "+n;this.fileSelectionButton.innerText=p},e.prototype.setInitialValueToButton=function(){var n=Pe.fileSelectionChooseImage()+" - "+Pe.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=n},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(n,i,a){var u=new e(n,i,a);return u},e}(),ww=function(){function e(n){this.selectElement=sr.createElement("select",un.CAMERA_SELECTION_SELECT_ID),this.cameras=n,this.options=[]}return e.prototype.render=function(n){var i=document.createElement("span");i.style.marginRight="10px";var a=this.cameras.length;if(a===0)throw new Error("No cameras found");if(a===1)i.style.display="none";else{var u=Pe.selectCamera();i.innerText="".concat(u," (").concat(this.cameras.length,")  ")}for(var f=1,p=0,w=this.cameras;p<w.length;p++){var m=w[p],g=m.id,E=m.label==null?g:m.label;(!E||E==="")&&(E=[Pe.anonymousCameraPrefix(),f++].join(" "));var C=document.createElement("option");C.value=g,C.innerText=E,this.options.push(C),this.selectElement.appendChild(C)}i.appendChild(this.selectElement),n.appendChild(i)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(n){for(var i=0,a=this.options;i<a.length;i++){var u=a[i];if(u.value===n)return!0}return!1},e.prototype.setValue=function(n){if(!this.hasValue(n))throw new Error("".concat(n," is not present in the camera list."));this.selectElement.value=n},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(n,i){var a=new e(i);return a.render(n),a},e}(),yw=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=sr.createElement("input",un.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(n,i){this.zoomElementContainer.style.display=i?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",n.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var a=Pe.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(a),this.rangeText.style.marginRight="10px";var u=this;this.rangeInput.addEventListener("input",function(){return u.onValueChange()}),this.rangeInput.addEventListener("change",function(){return u.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var n=Pe.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(n,i,a,u){this.rangeInput.min=n.toString(),this.rangeInput.max=i.toString(),this.rangeInput.step=u.toString(),this.rangeInput.value=a.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(n){this.onChangeCallback=n},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(n,i){var a=new e;return a.render(n,i),a},e}(),ln;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ln||(ln={}));function Ew(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function Cw(e,n){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:n}}var Aw=function(){function e(n,i,a){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=n,this.config=this.createConfig(i),this.verbose=a===!0,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.scanTypeSelector=new vr(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new jh(this.verbose),this.persistedDataManager=new uw,i.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(n,i){var a=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(f,p){if(n)n(f,p);else{if(a.lastMatchFound===f)return;a.lastMatchFound=f,a.setHeaderMessage(Pe.lastMatch(f),ln.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(f,p){i&&i(f,p)};var u=document.getElementById(this.elementId);if(!u)throw"HTML Element with id=".concat(this.elementId," not found");u.innerHTML="",this.createBasicLayout(u),this.html5Qrcode=new Qf(this.getScanRegionId(),Cw(this.config,this.verbose))},e.prototype.pause=function(n){(Kn(n)||n!==!0)&&(n=!1),this.getHtml5QrcodeOrFail().pause(n)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var n=this,i=function(){var a=document.getElementById(n.elementId);a&&(a.innerHTML="",n.resetBasicLayout(a))};return this.html5Qrcode?new Promise(function(a,u){if(!n.html5Qrcode){a();return}n.html5Qrcode.isScanning?n.html5Qrcode.stop().then(function(f){if(!n.html5Qrcode){a();return}n.html5Qrcode.clear(),i(),a()}).catch(function(f){n.verbose&&n.logger.logError("Unable to stop qrcode scanner",f),u(f)}):(n.html5Qrcode.clear(),i(),a())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(n){return this.getHtml5QrcodeOrFail().applyVideoConstraints(n)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(n){return n?(n.fps||(n.fps=kn.SCAN_DEFAULT_FPS),n.rememberLastUsedCamera!==!kn.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(n.rememberLastUsedCamera=kn.DEFAULT_REMEMBER_LAST_CAMERA_USED),n.supportedScanTypes||(n.supportedScanTypes=kn.DEFAULT_SUPPORTED_SCAN_TYPE),n):{fps:kn.SCAN_DEFAULT_FPS,rememberLastUsedCamera:kn.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:kn.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(n){n.style.position="relative",n.style.padding="0px",n.style.border="1px solid silver",this.createHeader(n);var i=document.createElement("div"),a=this.getScanRegionId();i.id=a,i.style.width="100%",i.style.minHeight="100px",i.style.textAlign="center",n.appendChild(i),vr.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var u=document.createElement("div"),f=this.getDashboardId();u.id=f,u.style.width="100%",n.appendChild(u),this.setupInitialDashboard(u)},e.prototype.resetBasicLayout=function(n){n.style.border="none"},e.prototype.setupInitialDashboard=function(n){this.createSection(n),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(n){var i=document.createElement("div");i.style.textAlign="left",i.style.margin="0px",n.appendChild(i);var a=new hw;a.renderInto(i);var u=document.createElement("div");u.id=this.getHeaderMessageContainerId(),u.style.display="none",u.style.textAlign="center",u.style.fontSize="14px",u.style.padding="2px 10px",u.style.margin="4px",u.style.borderTop="1px solid #f6f6f6",i.appendChild(u)},e.prototype.createSection=function(n){var i=document.createElement("div");i.id=this.getDashboardSectionId(),i.style.width="100%",i.style.padding="10px 0px 10px 0px",i.style.textAlign="left",n.appendChild(i)},e.prototype.createCameraListUi=function(n,i,a){var u=this;u.showHideScanTypeSwapLink(!1),u.setHeaderMessage(Pe.cameraPermissionRequesting());var f=function(){a||u.createPermissionButton(n,i)};Qf.getCameras().then(function(p){u.persistedDataManager.setHasPermission(!0),u.showHideScanTypeSwapLink(!0),u.resetHeaderMessage(),p&&p.length>0?(n.removeChild(i),u.renderCameraSelection(p)):(u.setHeaderMessage(Pe.noCameraFound(),ln.STATUS_WARNING),f())}).catch(function(p){u.persistedDataManager.setHasPermission(!1),a?a.disabled=!1:f(),u.setHeaderMessage(p,ln.STATUS_WARNING),u.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(n,i){var a=this,u=sr.createElement("button",this.getCameraPermissionButtonId());u.innerText=Pe.cameraPermissionTitle(),u.addEventListener("click",function(){u.disabled=!0,a.createCameraListUi(n,i,u)}),i.appendChild(u)},e.prototype.createPermissionsUi=function(n,i){var a=this;if(vr.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){qf.hasPermissions().then(function(u){u?a.createCameraListUi(n,i):(a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(n,i))}).catch(function(u){a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(n,i)});return}this.createPermissionButton(n,i)},e.prototype.createSectionControlPanel=function(){var n=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");n.appendChild(i);var a=document.createElement("div");a.id=this.getDashboardSectionCameraScanRegionId(),a.style.display=vr.isCameraScanType(this.currentScanType)?"block":"none",i.appendChild(a);var u=document.createElement("div");u.style.textAlign="center",a.appendChild(u),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(a,u),this.renderFileScanUi(i)},e.prototype.renderFileScanUi=function(n){var i=vr.isFileScanType(this.currentScanType),a=this,u=function(f){if(!a.html5Qrcode)throw"html5Qrcode not defined";vr.isFileScanType(a.currentScanType)&&(a.setHeaderMessage(Pe.loadingImage()),a.html5Qrcode.scanFileV2(f,!0).then(function(p){a.resetHeaderMessage(),a.qrCodeSuccessCallback(p.decodedText,p)}).catch(function(p){a.setHeaderMessage(p,ln.STATUS_WARNING),a.qrCodeErrorCallback(p,Fh.createFrom(p))}))};this.fileSelectionUi=mw.create(n,i,u)},e.prototype.renderCameraSelection=function(n){var i=this,a=this,u=document.getElementById(this.getDashboardSectionCameraScanRegionId());u.style.textAlign="center";var f=yw.create(u,!1),p=function(B){var z=B.zoomFeature();if(z.isSupported()){f.setOnCameraZoomValueChangeCallback(function(O){z.apply(O)});var R=1;i.config.defaultZoomValueIfSupported&&(R=i.config.defaultZoomValueIfSupported),R=zm(R,z.min(),z.max()),f.setValues(z.min(),z.max(),R,z.step()),f.show()}},w=ww.create(u,n),m=document.createElement("span"),g=sr.createElement("button",un.CAMERA_START_BUTTON_ID);g.innerText=Pe.scanButtonStartScanningText(),m.appendChild(g);var E=sr.createElement("button",un.CAMERA_STOP_BUTTON_ID);E.innerText=Pe.scanButtonStopScanningText(),E.style.display="none",E.disabled=!0,m.appendChild(E);var C,T=function(B){if(!B.torchFeature().isSupported()){C&&C.hide();return}C?C.updateTorchCapability(B.torchFeature()):C=xw.create(m,B.torchFeature(),{display:"none",marginLeft:"5px"},function(z){a.setHeaderMessage(z,ln.STATUS_WARNING)}),C.show()};u.appendChild(m);var L=function(B){B||(g.style.display="none"),g.innerText=Pe.scanButtonStartScanningText(),g.style.opacity="1",g.disabled=!1,B&&(g.style.display="inline-block")};if(g.addEventListener("click",function(B){g.innerText=Pe.scanButtonScanningStarting(),w.disable(),g.disabled=!0,g.style.opacity="0.5",i.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!1),a.resetHeaderMessage();var z=w.getValue();a.persistedDataManager.setLastUsedCameraId(z),a.html5Qrcode.start(z,Ew(a.config),a.qrCodeSuccessCallback,a.qrCodeErrorCallback).then(function(R){E.disabled=!1,E.style.display="inline-block",L(!1);var O=a.html5Qrcode.getRunningTrackCameraCapabilities();i.config.showTorchButtonIfSupported===!0&&T(O),i.config.showZoomSliderIfSupported===!0&&p(O)}).catch(function(R){a.showHideScanTypeSwapLink(!0),w.enable(),L(!0),a.setHeaderMessage(R,ln.STATUS_WARNING)})}),w.hasSingleItem()&&g.click(),E.addEventListener("click",function(B){if(!a.html5Qrcode)throw"html5Qrcode not defined";E.disabled=!0,a.html5Qrcode.stop().then(function(z){i.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!0),w.enable(),g.disabled=!1,E.style.display="none",g.style.display="inline-block",C&&(C.reset(),C.hide()),f.removeOnCameraZoomValueChangeCallback(),f.hide(),a.insertCameraScanImageToScanRegion()}).catch(function(z){E.disabled=!1,a.setHeaderMessage(z,ln.STATUS_WARNING)})}),a.persistedDataManager.getLastUsedCameraId()){var k=a.persistedDataManager.getLastUsedCameraId();w.hasValue(k)?(w.setValue(k),g.click()):a.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var n=this,i=Pe.textIfCameraScanSelected(),a=Pe.textIfFileScanSelected(),u=document.getElementById(this.getDashboardSectionId()),f=document.createElement("div");f.style.textAlign="center";var p=sr.createElement("span",this.getDashboardSectionSwapLinkId());p.style.textDecoration="underline",p.style.cursor="pointer",p.innerText=vr.isCameraScanType(this.currentScanType)?i:a,p.addEventListener("click",function(){if(!n.sectionSwapAllowed){n.verbose&&n.logger.logError("Section swap called when not allowed");return}n.resetHeaderMessage(),n.fileSelectionUi.resetValue(),n.sectionSwapAllowed=!1,vr.isCameraScanType(n.currentScanType)?(n.clearScanRegion(),n.getCameraScanRegion().style.display="none",n.fileSelectionUi.show(),p.innerText=a,n.currentScanType=Hr.SCAN_TYPE_FILE,n.insertFileScanImageToScanRegion()):(n.clearScanRegion(),n.getCameraScanRegion().style.display="block",n.fileSelectionUi.hide(),p.innerText=i,n.currentScanType=Hr.SCAN_TYPE_CAMERA,n.insertCameraScanImageToScanRegion(),n.startCameraScanIfPermissionExistsOnSwap()),n.sectionSwapAllowed=!0}),f.appendChild(p),u.appendChild(f)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var n=this,i=this;if(this.persistedDataManager.hasCameraPermissions()){qf.hasPermissions().then(function(a){if(a){var u=document.getElementById(i.getCameraPermissionButtonId());if(!u)throw n.logger.logError("Permission button not found, fail;"),"Permission button not found";u.click()}else i.persistedDataManager.setHasPermission(!1)}).catch(function(a){i.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var n=document.getElementById(this.getHeaderMessageContainerId());n.style.display="none"},e.prototype.setHeaderMessage=function(n,i){i||(i=ln.STATUS_DEFAULT);var a=this.getHeaderMessageDiv();switch(a.innerText=n,a.style.display="block",i){case ln.STATUS_SUCCESS:a.style.background="rgba(106, 175, 80, 0.26)",a.style.color="#477735";break;case ln.STATUS_WARNING:a.style.background="rgba(203, 36, 49, 0.14)",a.style.color="#cb2431";break;case ln.STATUS_DEFAULT:default:a.style.background="rgba(0, 0, 0, 0)",a.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(n){this.scanTypeSelector.hasMoreThanOneScanType()&&(n!==!0&&(n=!1),this.sectionSwapAllowed=n,this.getDashboardSectionSwapLink().style.display=n?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var n=this,i=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){i.innerHTML="<br>",i.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(a){i.innerHTML="<br>",i.appendChild(n.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=aw,this.cameraScanImage.alt=Pe.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var n=this,i=document.getElementById(this.getScanRegionId());if(this.fileScanImage){i.innerHTML="<br>",i.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(a){i.innerHTML="<br>",i.appendChild(n.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=lw,this.fileScanImage.alt=Pe.fileScanAltText()},e.prototype.clearScanRegion=function(){var n=document.getElementById(this.getScanRegionId());n.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return un.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return un.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const vw="https://via.placeholder.com/80x80?text=Photo";function Sw(){const{events:e,ticketTypesByEventId:n}=G.useSyncExternalStore(mt.subscribe,()=>mt.getState()),{checkIns:i}=G.useSyncExternalStore(Vr.subscribe,()=>Vr.getState()),{email:a}=G.useSyncExternalStore(Ma.subscribe,()=>Ma.getState()),[u,f]=G.useState(""),[p,w]=G.useState(""),[m,g]=G.useState({status:"idle",message:"",ticket:null}),[E,C]=G.useState(""),[T,L]=G.useState(!1),k=G.useRef(null);G.useEffect(()=>{gi().then(hi)},[]),G.useEffect(()=>{if(T&&!k.current){const P=new Aw("reader",{fps:10,qrbox:{width:250,height:250}},!1);P.render(Q=>{w(Q),L(!1),P.clear(),k.current=null,R(Q)},Q=>{}),k.current=P}return()=>{k.current&&(k.current.clear(),k.current=null)}},[T]);const B=G.useMemo(()=>{const P={};return Object.values(n).forEach(Q=>{Q.forEach(Z=>{P[Z.id]=Z.name})}),P},[n]),z=G.useMemo(()=>[...i].slice(-10).reverse().map(Q=>({...Q,attendeeName:Q.attendeeName||"Unknown",code:Q.code||"-"})),[i]),R=async(P=null)=>{C("");const Q=typeof P=="string"?P:p.trim();if(!Q||!u){g({status:"error",message:"Code and Event are required",ticket:null});return}try{const Z=await nm(Q,u);Z.status==="checked_in"?g({status:"error",message:"Already used",ticket:Z}):g({status:"valid",message:"Ticket valid",ticket:Z})}catch{g({status:"error",message:"Invalid code or event",ticket:null})}},O=async()=>{if(m.ticket)try{const P=await rm(m.ticket.id,a||"admin");hm({id:P.id,ticketId:m.ticket.id,attendeeName:P.attendee_name,code:P.ticket_code,checkedInAt:P.checked_in_at}),C("Checked in successfully!"),g({status:"idle",message:"",ticket:null}),w("")}catch{alert("Check-in failed")}};e.find(P=>P.id===u);const _=m.ticket&&B[m.ticket.ticket_type]||"-";return S.jsxs("section",{className:"page",children:[S.jsxs("header",{className:"page-header",children:[S.jsx("h2",{children:"Ticket Verification"}),S.jsx("p",{children:"Confirm attendance and verify identities."})]}),S.jsxs("div",{className:"checkout-grid",style:{gridTemplateColumns:"minmax(0, 1fr) minmax(0, 1.2fr)",gap:"24px"},children:[S.jsxs("div",{className:"verify-controls-section",children:[S.jsxs("div",{className:"checkout-card",children:[S.jsx("h3",{children:"Verification Mode"}),S.jsxs("label",{className:"form-field",children:["Target Event",S.jsxs("select",{value:u,onChange:P=>f(P.target.value),children:[S.jsx("option",{value:"",children:"Select an event"}),e.map(P=>S.jsx("option",{value:P.id,children:P.title},P.id))]})]}),S.jsx("div",{style:{marginTop:"16px"},children:T?S.jsx("button",{className:"event-button",style:{width:"100%",marginBottom:"12px",borderColor:"#a01d1d",color:"#a01d1d"},onClick:()=>L(!1),children:"Stop Scanning"}):S.jsx("button",{className:"event-button",style:{width:"100%",marginBottom:"12px"},onClick:()=>L(!0),disabled:!u,children:" Launch QR Scanner"})}),T&&S.jsx("div",{id:"reader",style:{width:"100%"}}),S.jsx("div",{className:"manual-verify",style:{marginTop:"20px",borderTop:"1px solid #ddd",paddingTop:"20px"},children:S.jsxs("label",{className:"form-field",children:["Manual Code Entry",S.jsxs("div",{style:{display:"flex",gap:"8px"},children:[S.jsx("input",{type:"text",value:p,onChange:P=>w(P.target.value),placeholder:"E.g. TKT-X1Y2Z3",style:{flex:1}}),S.jsx("button",{className:"event-button",style:{marginTop:0},onClick:()=>R(),children:"Verify"})]})]})})]}),S.jsxs("div",{className:"checkout-card",style:{marginTop:"20px"},children:[S.jsx("h3",{children:"Recent Activity"}),z.length===0&&S.jsx("p",{className:"event-meta",children:"No check-ins logged yet."}),S.jsx("div",{className:"checkin-log",style:{maxHeight:"300px",overflowY:"auto"},children:z.map(P=>S.jsxs("div",{className:"recent-checkin",style:{padding:"10px 0",borderBottom:"1px solid #eee"},children:[S.jsx("div",{style:{fontWeight:"600"},children:P.attendeeName}),S.jsxs("div",{className:"event-meta",children:[P.code,"  ",new Date(P.checkedInAt).toLocaleTimeString()]})]},P.id))})]})]}),S.jsxs("div",{className:"verify-results-section",children:[m.status==="idle"&&!E&&S.jsx("div",{className:"checkout-card",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"#f9f9f9",borderStyle:"dashed"},children:S.jsx("p",{className:"event-meta",children:"Scan a QR code or enter a ticket ID to begin verification."})}),E&&S.jsxs("div",{className:"verify-message verify-success",style:{marginBottom:"20px",background:"#e7f5e7",border:"2px solid #2a6f2a"},children:[" ",E]}),m.status==="error"&&S.jsxs("div",{className:"verify-message verify-error",style:{marginBottom:"20px"},children:[" ",m.message]}),m.status==="valid"&&m.ticket&&S.jsxs("div",{className:"checkout-card",style:{border:"2px solid #2a6f2a"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[S.jsx("h3",{children:"Ticket Verified"}),S.jsx("span",{className:"event-status available",children:"VALID"})]}),S.jsxs("div",{className:"verify-attendee",style:{display:"flex",gap:"20px",marginTop:"16px"},children:[S.jsx("img",{className:"admin-photo",src:m.ticket.attendee.picture||vw,alt:m.ticket.attendee.full_name,style:{width:"120px",height:"120px",borderRadius:"8px"}}),S.jsxs("div",{style:{flex:1},children:[S.jsxs("p",{className:"event-meta",children:[S.jsx("strong",{children:"Name:"})," ",m.ticket.attendee.full_name]}),S.jsxs("p",{className:"event-meta",children:[S.jsx("strong",{children:"Age:"})," ",m.ticket.attendee.age]}),S.jsxs("p",{className:"event-meta",children:[S.jsx("strong",{children:"Phone:"})," ",m.ticket.attendee.phone]}),S.jsxs("p",{className:"event-meta",children:[S.jsx("strong",{children:"Ticket Tier:"})," ",_]}),S.jsxs("p",{className:"event-meta",children:[S.jsx("strong",{children:"Reference:"})," ",m.ticket.code]})]})]}),S.jsx("div",{style:{marginTop:"24px",paddingTop:"20px",borderTop:"1px solid #eee"},children:S.jsx("button",{className:"event-button",style:{width:"100%",background:"#1f1f1f",color:"#fff"},onClick:O,children:"Confirm Check-In"})})]})]})]})]})}function ei({children:e}){const{isAuthed:n}=G.useSyncExternalStore(Ma.subscribe,()=>Ma.getState());return n?e:S.jsx(Ch,{to:"/admin/login",replace:!0})}function Iw(){return S.jsxs("div",{className:"app-shell",children:[S.jsx("header",{className:"app-header",children:S.jsx("h1",{children:"Event Ticketing & Verification System"})}),S.jsx("main",{className:"app-main",children:S.jsxs(zx,{children:[S.jsx(Ht,{path:"/",element:S.jsx(cm,{})}),S.jsx(Ht,{path:"/events/:eventId",element:S.jsx(um,{})}),S.jsx(Ht,{path:"/checkout/:eventId",element:S.jsx(pm,{})}),S.jsx(Ht,{path:"/payment/start",element:S.jsx(xm,{})}),S.jsx(Ht,{path:"/ticket/success/:ticketId",element:S.jsx(Tm,{})}),S.jsx(Ht,{path:"/admin/login",element:S.jsx(bm,{})}),S.jsx(Ht,{path:"/admin/dashboard",element:S.jsx(ei,{children:S.jsx(Lm,{})})}),S.jsx(Ht,{path:"/admin/events",element:S.jsx(ei,{children:S.jsx(km,{})})}),S.jsx(Ht,{path:"/admin/events/new",element:S.jsx(ei,{children:S.jsx(Bf,{mode:"new"})})}),S.jsx(Ht,{path:"/admin/events/:id/edit",element:S.jsx(ei,{children:S.jsx(Bf,{mode:"edit"})})}),S.jsx(Ht,{path:"/admin/events/:id/attendees",element:S.jsx(ei,{children:S.jsx(Fm,{})})}),S.jsx(Ht,{path:"/admin/events/:id/tickets",element:S.jsx(ei,{children:S.jsx(jm,{})})}),S.jsx(Ht,{path:"/admin/verify",element:S.jsx(ei,{children:S.jsx(Sw,{})})}),S.jsx(Ht,{path:"*",element:S.jsx(Ch,{to:"/",replace:!0})})]})})]})}const Tw=fh(document.getElementById("root"));Tw.render(S.jsx(dt.StrictMode,{children:S.jsx(Qx,{children:S.jsx(Iw,{})})}));
